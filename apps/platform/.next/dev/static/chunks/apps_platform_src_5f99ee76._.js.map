{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/admin/polaris-button.tsx"],"sourcesContent":["import type React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface PolarisButtonProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren: React.ReactNode;\n\tsize?: \"micro\" | \"slim\" | \"medium\" | \"large\";\n\tfullWidth?: boolean;\n\tloading?: boolean;\n\tdisabled?: boolean;\n\ticon?: React.ReactNode;\n}\n\nexport function PolarisButton({\n\tchildren,\n\tsize = \"slim\",\n\tfullWidth = false,\n\tloading = false,\n\tdisabled = false,\n\ticon,\n\tclassName,\n\t...props\n}: PolarisButtonProps) {\n\tconst sizeClasses = {\n\t\tmicro: \"h-7 px-2.5 text-xs\",\n\t\tslim: \"h-9 px-3 text-sm\",\n\t\tmedium: \"h-10 px-4 text-sm\",\n\t\tlarge: \"h-12 px-5 text-base\",\n\t};\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdisabled={disabled || loading}\n\t\t\tclassName={cn(\n\t\t\t\t// Base styles matching Polaris primary button\n\t\t\t\t\"relative inline-flex items-center justify-center gap-2\",\n\t\t\t\t\"font-semibold rounded-[10px] cursor-pointer\",\n\t\t\t\t\"transition-all duration-200 ease-out\",\n\t\t\t\t\"outline-none focus-visible:outline-2 focus-visible:outline-offset-2\",\n\n\t\t\t\t\"border-0\",\n\t\t\t\t\"shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.6),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\n\t\t\t\t\"bg-linear-to-b from-[#4a4a4a] to-[#303030]\",\n\n\t\t\t\t// Text colors from Polaris tokens\n\t\t\t\t\"text-white\",\n\n\t\t\t\t\"hover:before:absolute hover:before:inset-0 hover:before:rounded-[10px] hover:before:bg-black hover:before:opacity-30 hover:before:transition-opacity hover:before:duration-200 hover:before:content-['']\",\n\n\t\t\t\t// Disabled state\n\t\t\t\t\"disabled:bg-linear-to-b disabled:from-[rgba(0,0,0,0.2)] disabled:to-[rgba(0,0,0,0.17)]\",\n\t\t\t\t\"disabled:text-[rgba(255,255,255,0.6)]\",\n\t\t\t\t\"disabled:cursor-not-allowed\",\n\t\t\t\t\"disabled:shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.2),inset_1.5px_0_0_0_rgba(0,0,0,0.2),inset_-1.5px_0_0_0_rgba(0,0,0,0.2),inset_0_-3px_0_0_rgba(0,0,0,0.2)]\",\n\t\t\t\t\"disabled:hover:before:opacity-0\",\n\n\t\t\t\t// Focus state border\n\t\t\t\t\"focus-visible:outline-[#005BD3]\",\n\n\t\t\t\t\"active:shadow-[inset_0_4px_0_0_rgba(0,0,0,0.8),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\t\t\t\t\"active:bg-linear-to-b active:from-[#2a2a2a] active:to-[#1a1a1a]\",\n\t\t\t\t\"active:[&>span:last-child]:translate-y-px\",\n\n\t\t\t\t// Size variants\n\t\t\t\tsizeClasses[size],\n\n\t\t\t\t// Full width\n\t\t\t\tfullWidth && \"w-full\",\n\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<span className=\"absolute inset-0 rounded-[10px] pointer-events-none shadow-[inset_0_3px_0_0_rgba(255,255,255,0.2),inset_1.5px_0_0_0_rgba(255,255,255,0.1),inset_-1.5px_0_0_0_rgba(255,255,255,0.1)] active:opacity-0 transition-opacity duration-200\" />\n\n\t\t\t<span className=\"relative flex items-center justify-center gap-2 transition-transform duration-200\">\n\t\t\t\t{loading ? (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"animate-spin size-4\"\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<title>Loading</title>\n\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\tclassName=\"opacity-25\"\n\t\t\t\t\t\t\tcx=\"12\"\n\t\t\t\t\t\t\tcy=\"12\"\n\t\t\t\t\t\t\tr=\"10\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tclassName=\"opacity-75\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t) : (\n\t\t\t\t\ticon && <span className=\"shrink-0\">{icon}</span>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</span>\n\t\t</button>\n\t);\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAYO,SAAS,cAAc,EAC7B,QAAQ,EACR,OAAO,MAAM,EACb,YAAY,KAAK,EACjB,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,IAAI,EACJ,SAAS,EACT,GAAG,OACiB;IACpB,MAAM,cAAc;QACnB,OAAO;QACP,MAAM;QACN,QAAQ;QACR,OAAO;IACR;IAEA,qBACC,6LAAC;QACA,MAAK;QACL,UAAU,YAAY;QACtB,WAAW,IAAA,gJAAE,EACZ,8CAA8C;QAC9C,0DACA,+CACA,wCACA,uEAEA,YACA,oJAEA,8CAEA,kCAAkC;QAClC,cAEA,4MAEA,iBAAiB;QACjB,0FACA,yCACA,+BACA,6JACA,mCAEA,qBAAqB;QACrB,mCAEA,yJACA,mEACA,6CAEA,gBAAgB;QAChB,WAAW,CAAC,KAAK,EAEjB,aAAa;QACb,aAAa,UAEb;QAEA,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;;;;;;0BAEhB,6LAAC;gBAAK,WAAU;;oBACd,wBACA,6LAAC;wBACA,WAAU;wBACV,OAAM;wBACN,MAAK;wBACL,SAAQ;;0CAER,6LAAC;0CAAM;;;;;;0CACP,6LAAC;gCACA,WAAU;gCACV,IAAG;gCACH,IAAG;gCACH,GAAE;gCACF,QAAO;gCACP,aAAY;;;;;;0CAEb,6LAAC;gCACA,WAAU;gCACV,MAAK;gCACL,GAAE;;;;;;;;;;;+BAIJ,sBAAQ,6LAAC;wBAAK,WAAU;kCAAY;;;;;;oBAEpC;;;;;;;;;;;;;AAIL;KA9FgB"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/input.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define input size variants\nconst inputVariants = cva(\n\t`\n    flex w-full bg-background border border-input shadow-xs shadow-black/5 transition-[color,box-shadow] text-foreground placeholder:text-muted-foreground/80 \n    focus-visible:ring-ring/30  focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px]     \n    disabled:cursor-not-allowed disabled:opacity-60 \n    [&[readonly]]:bg-muted/80 [&[readonly]]:cursor-not-allowed\n    file:h-full [&[type=file]]:py-0 file:border-solid file:border-input file:bg-transparent \n    file:font-medium file:not-italic file:text-foreground file:p-0 file:border-0 file:border-e\n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tlg: \"h-10 px-4 text-sm rounded-md file:pe-4 file:me-4\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) rounded-md file:pe-3 file:me-3\",\n\t\t\t\tsm: \"h-7 px-2.5 text-xs rounded-md file:pe-2.5 file:me-2.5\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nconst inputAddonVariants = cva(\n\t\"flex items-center shrink-0 justify-center bg-muted border border-input shadow-xs shadow-[rgba(0,0,0,0.05)] text-secondary-foreground\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"rounded-md h-7 min-w-7 text-xs px-2.5 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"rounded-md h-8.5 min-w-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t\tlg: \"rounded-md h-10 min-w-10 px-4 text-sm [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t},\n\t\t\tmode: {\n\t\t\t\tdefault: \"\",\n\t\t\t\ticon: \"px-0 justify-center\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t\tmode: \"default\",\n\t\t},\n\t},\n);\n\nconst inputGroupVariants = cva(\n\t`\n    flex items-stretch\n    [&_[data-slot=input]]:grow\n    [&_[data-slot=input-addon]:has(+[data-slot=input])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=input])]:border-e-0\n    [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:border-e-0 \n    [&_[data-slot=input]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=input]+[data-slot=input-addon]]:border-s-0\n    [&_[data-slot=input-addon]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]+[data-slot=button]]:rounded-s-none\n    [&_[data-slot=button]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=datefield]]:[&_[data-slot=input]]:rounded-s-none\n    [&_[data-slot=datefield]:has(+[data-slot=input-addon])]:[&_[data-slot=input]]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=input-addon])]:rounded-e-none\n    [&_[data-slot=datefield]]:grow\n    [&_[data-slot=datefield]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=datefield]+[data-slot=input-addon]]:border-s-0\n  `,\n\t{\n\t\tvariants: {},\n\t\tdefaultVariants: {},\n\t},\n);\n\nconst inputWrapperVariants = cva(\n\t`\n    flex items-center gap-1.5\n    has-[:focus-visible]:ring-ring/30 \n    has-[:focus-visible]:border-ring\n    has-[:focus-visible]:outline-none \n    has-[:focus-visible]:ring-[3px]\n\n    [&_[data-slot=datefield]]:grow \n    [&_[data-slot=input]]:data-focus-within:ring-transparent  \n    [&_[data-slot=input]]:data-focus-within:ring-0 \n    [&_[data-slot=input]]:data-focus-within:border-0 \n    [&_[data-slot=input]]:flex \n    [&_[data-slot=input]]:w-full \n    [&_[data-slot=input]]:outline-none \n    [&_[data-slot=input]]:transition-colors \n    [&_[data-slot=input]]:text-foreground\n    [&_[data-slot=input]]:placeholder:text-muted-foreground \n    [&_[data-slot=input]]:border-0 \n    [&_[data-slot=input]]:bg-transparent \n    [&_[data-slot=input]]:p-0\n    [&_[data-slot=input]]:shadow-none \n    [&_[data-slot=input]]:focus-visible:ring-0 \n    [&_[data-slot=input]]:h-auto \n    [&_[data-slot=input]]:disabled:cursor-not-allowed\n    [&_[data-slot=input]]:disabled:opacity-50    \n\n    has-[[aria-invalid=true]]:border-destructive/60 \n    has-[[aria-invalid=true]]:ring-destructive/10 \n    dark:has-[[aria-invalid=true]]:border-destructive \n    dark:has-[[aria-invalid=true]]:ring-destructive/20    \n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"gap-1.25 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t\tlg: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nfunction Input({\n\tclassName,\n\ttype,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"input\"> & VariantProps<typeof inputVariants>) {\n\treturn (\n\t\t<input\n\t\t\tdata-slot=\"input\"\n\t\t\ttype={type}\n\t\t\tclassName={cn(inputVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputAddon({\n\tclassName,\n\tvariant,\n\tmode,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputAddonVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-addon\"\n\t\t\tclassName={cn(inputAddonVariants({ variant, mode }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputGroup({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-group\"\n\t\t\tclassName={cn(inputGroupVariants(), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputWrapper({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputWrapperVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-wrapper\"\n\t\t\tclassName={cn(\n\t\t\t\tinputVariants({ variant }),\n\t\t\t\tinputWrapperVariants({ variant }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tInput,\n\tInputAddon,\n\tInputGroup,\n\tInputWrapper,\n\tinputVariants,\n\tinputAddonVariants,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,IAAA,0KAAG,EACxB,CAAC;;;;;;;;EAQA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,wIACA;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;QACA,MAAM;YACL,SAAS;YACT,MAAM;QACP;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,CAAC;;;;;;;;;;;;;;;;EAgBA,CAAC,EACF;IACC,UAAU,CAAC;IACX,iBAAiB,CAAC;AACnB;AAGD,MAAM,uBAAuB,IAAA,0KAAG,EAC/B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,IAAI,EACJ,OAAO,EACP,GAAG,OACiE;IACpE,qBACC,6LAAC;QACA,aAAU;QACV,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAdS;AAgBT,SAAS,WAAW,EACnB,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;YAAE;YAAS;QAAK,IAAI;QACpD,GAAG,KAAK;;;;;;AAGZ;MAbS;AAeT,SAAS,WAAW,EACnB,SAAS,EACT,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGZ;MAXS;AAaT,SAAS,aAAa,EACrB,SAAS,EACT,OAAO,EACP,GAAG,OACsE;IACzE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EACZ,cAAc;YAAE;QAAQ,IACxB,qBAAqB;YAAE;QAAQ,IAC/B;QAEA,GAAG,KAAK;;;;;;AAGZ;MAhBS"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n\t\"text-sm leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tprimary: \"font-medium\",\n\t\t\t\tsecondary: \"font-normal\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"primary\",\n\t\t},\n\t},\n);\n\nfunction Label({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root> &\n\tVariantProps<typeof labelVariants>) {\n\treturn (\n\t\t<LabelPrimitive.Root\n\t\t\tdata-slot=\"label\"\n\t\t\tclassName={cn(labelVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACxB,kGACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,WAAW;QACZ;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,OAAO,EACP,GAAG,OAE+B;IAClC,qBACC,6LAAC,6OAAc,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAbS"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { Select as SelectPrimitive } from \"radix-ui\";\nimport * as React from \"react\";\nimport { isValidElement, type ReactNode } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Create a Context for `indicatorPosition` and `indicator` control\nconst SelectContext = React.createContext<{\n\tindicatorPosition: \"left\" | \"right\";\n\tindicatorVisibility: boolean;\n\tindicator: ReactNode;\n}>({ indicatorPosition: \"left\", indicator: null, indicatorVisibility: true });\n\n// Root Component\nconst Select = ({\n\tindicatorPosition = \"left\",\n\tindicatorVisibility = true,\n\tindicator,\n\t...props\n}: {\n\tindicatorPosition?: \"left\" | \"right\";\n\tindicatorVisibility?: boolean;\n\tindicator?: ReactNode;\n} & React.ComponentProps<typeof SelectPrimitive.Root>) => {\n\tconst contextValue = React.useMemo(\n\t\t() => ({ indicatorPosition, indicatorVisibility, indicator }),\n\t\t[indicatorPosition, indicatorVisibility, indicator],\n\t);\n\n\treturn (\n\t\t<SelectContext.Provider value={contextValue}>\n\t\t\t<SelectPrimitive.Root {...props} />\n\t\t</SelectContext.Provider>\n\t);\n};\n\nfunction SelectGroup({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n\treturn <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\n}\n\nfunction SelectValue({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n\treturn <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\n}\n\n// Define size variants for SelectTrigger\nconst selectTriggerVariants = cva(\n\t`\n    flex bg-background w-full items-center justify-between outline-none border border-input shadow-xs shadow-black/5 transition-shadow \n    text-foreground data-placeholder:text-muted-foreground focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] \n    focus-visible:ring-ring/30 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"h-7 px-2.5 text-xs gap-1 rounded-md\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) gap-1 rounded-md\",\n\t\t\t\tlg: \"h-10 px-4 text-sm gap-1.5 rounded-md\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nexport interface SelectTriggerProps\n\textends React.ComponentProps<typeof SelectPrimitive.Trigger>,\n\t\tVariantProps<typeof selectTriggerVariants> {}\n\nfunction SelectTrigger({\n\tclassName,\n\tchildren,\n\tsize,\n\t...props\n}: SelectTriggerProps) {\n\treturn (\n\t\t<SelectPrimitive.Trigger\n\t\t\tdata-slot=\"select-trigger\"\n\t\t\tclassName={cn(selectTriggerVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<SelectPrimitive.Icon asChild>\n\t\t\t\t<ChevronDown className=\"h-4 w-4 opacity-60 -me-0.5\" />\n\t\t\t</SelectPrimitive.Icon>\n\t\t</SelectPrimitive.Trigger>\n\t);\n}\n\nfunction SelectScrollUpButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollUpButton\n\t\t\tdata-slot=\"select-scroll-up-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronUp className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollUpButton>\n\t);\n}\n\nfunction SelectScrollDownButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollDownButton\n\t\t\tdata-slot=\"select-scroll-down-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronDown className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollDownButton>\n\t);\n}\n\nfunction SelectContent({\n\tclassName,\n\tchildren,\n\tposition = \"popper\",\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n\treturn (\n\t\t<SelectPrimitive.Portal>\n\t\t\t<SelectPrimitive.Content\n\t\t\t\tdata-slot=\"select-content\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover shadow-md shadow-black/5 text-secondary-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\"data-[side=bottom]:translate-y-1.5 data-[side=left]:-translate-x-1.5 data-[side=right]:translate-x-1.5 data-[side=top]:-translate-y-1.5\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tposition={position}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<SelectScrollUpButton />\n\t\t\t\t<SelectPrimitive.Viewport\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"p-1.5\",\n\t\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\t\"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</SelectPrimitive.Viewport>\n\t\t\t\t<SelectScrollDownButton />\n\t\t\t</SelectPrimitive.Content>\n\t\t</SelectPrimitive.Portal>\n\t);\n}\n\nfunction SelectLabel({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n\treturn (\n\t\t<SelectPrimitive.Label\n\t\t\tdata-slot=\"select-label\"\n\t\t\tclassName={cn(\n\t\t\t\t\"py-1.5 ps-8 pe-2 text-xs text-muted-foreground font-medium\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SelectItem({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n\tconst { indicatorPosition, indicatorVisibility, indicator } =\n\t\tReact.useContext(SelectContext);\n\n\treturn (\n\t\t<SelectPrimitive.Item\n\t\t\tdata-slot=\"select-item\"\n\t\t\tclassName={cn(\n\t\t\t\t\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 text-sm outline-hidden text-foreground hover:bg-accent focus:bg-accent data-disabled:pointer-events-none data-disabled:opacity-50\",\n\t\t\t\tindicatorPosition === \"left\" ? \"ps-8 pe-2\" : \"pe-8 ps-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{indicatorVisibility &&\n\t\t\t\t(indicator && isValidElement(indicator) ? (\n\t\t\t\t\tindicator\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"absolute flex h-3.5 w-3.5 items-center justify-center\",\n\t\t\t\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectPrimitive.ItemIndicator>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t</SelectPrimitive.ItemIndicator>\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t<SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n\t\t</SelectPrimitive.Item>\n\t);\n}\n\nfunction SelectIndicator({\n\tchildren,\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ItemIndicator>) {\n\tconst { indicatorPosition } = React.useContext(SelectContext);\n\n\treturn (\n\t\t<span\n\t\t\tdata-slot=\"select-indicator\"\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute flex top-1/2 -translate-y-1/2 items-center justify-center\",\n\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<SelectPrimitive.ItemIndicator>{children}</SelectPrimitive.ItemIndicator>\n\t\t</span>\n\t);\n}\n\nfunction SelectSeparator({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n\treturn (\n\t\t<SelectPrimitive.Separator\n\t\t\tdata-slot=\"select-separator\"\n\t\t\tclassName={cn(\"-mx-1.5 my-1.5 h-px bg-border\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectIndicator,\n\tSelectItem,\n\tSelectLabel,\n\tSelectScrollDownButton,\n\tSelectScrollUpButton,\n\tSelectSeparator,\n\tSelectTrigger,\n\tSelectValue,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MA0KsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,4DAAA"}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MAsLsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,6DAAA"}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MAiCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,qDAAA"}},
    {"offset": {"line": 846, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MAkMsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,uDAAA"}},
    {"offset": {"line": 863, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MAsNsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,wDAAA"}},
    {"offset": {"line": 880, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MA4GsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,sDAAA"}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/settings.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get tenant settings\nexport async function getTenantSettings() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst tenant = await db.tenant.findUnique({\n\t\twhere: { id: tenantId },\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tslug: true,\n\t\t\tname: true,\n\t\t\tdescription: true,\n\t\t\temail: true,\n\t\t\tphone: true,\n\t\t\tlogoUrl: true,\n\t\t\tfaviconUrl: true,\n\t\t\tcurrency: true,\n\t\t\tlocale: true,\n\t\t\ttimezone: true,\n\t\t\tthemeId: true,\n\t\t\tthemeConfig: true,\n\t\t\tbillingStatus: true,\n\t\t\tbillingCycle: true,\n\t\t\tplanId: true,\n\t\t\ttrialEndsAt: true,\n\t\t\tcurrentPeriodEnd: true,\n\t\t\tisActive: true,\n\t\t\tdomains: {\n\t\t\t\tselect: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tdomain: true,\n\t\t\t\t\tisPrimary: true,\n\t\t\t\t\tsslStatus: true,\n\t\t\t\t\tdnsVerified: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!tenant) {\n\t\tthrow new Error(\"Tenant not found\");\n\t}\n\n\treturn tenant;\n}\n\n// Update store information\nexport interface UpdateStoreInfoInput {\n\tname: string;\n\tdescription?: string;\n\temail: string;\n\tphone?: string;\n}\n\nexport async function updateStoreInfo(input: UpdateStoreInfoInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tname: input.name,\n\t\t\tdescription: input.description,\n\t\t\temail: input.email,\n\t\t\tphone: input.phone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update localization settings\nexport interface UpdateLocalizationInput {\n\tcurrency: string;\n\tlocale: string;\n\ttimezone: string;\n}\n\nexport async function updateLocalization(input: UpdateLocalizationInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tcurrency: input.currency,\n\t\t\tlocale: input.locale,\n\t\t\ttimezone: input.timezone,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update theme settings\nexport interface UpdateThemeInput {\n\tthemeId?: string;\n\tthemeConfig?: Record<string, unknown>;\n}\n\nexport async function updateTheme(input: UpdateThemeInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: {\n\t\t\tthemeId: input.themeId,\n\t\t\tthemeConfig: input.themeConfig\n\t\t\t\t? JSON.parse(JSON.stringify(input.themeConfig))\n\t\t\t\t: undefined,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\n// Update store logo\nexport async function updateStoreLogo(logoUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { logoUrl },\n\t});\n\n\treturn updated;\n}\n\n// Update store favicon\nexport async function updateStoreFavicon(faviconUrl: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst updated = await db.tenant.update({\n\t\twhere: { id: tenantId },\n\t\tdata: { faviconUrl },\n\t});\n\n\treturn updated;\n}\n\n// Get enabled payment methods for tenant\nexport async function getEnabledPaymentMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethods = await db.paymentMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn paymentMethods;\n}\n\n// Get enabled shipping methods for tenant\nexport async function getEnabledShippingMethods() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethods = await db.shippingMethod.findMany({\n\t\twhere: { tenantId },\n\t\torderBy: { createdAt: \"asc\" },\n\t});\n\n\treturn shippingMethods;\n}\n\n// Toggle payment method\nexport async function togglePaymentMethod(paymentMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst paymentMethod = await db.paymentMethod.findFirst({\n\t\twhere: { id: paymentMethodId, tenantId },\n\t});\n\n\tif (!paymentMethod) {\n\t\tthrow new Error(\"Payment method not found\");\n\t}\n\n\tconst updated = await db.paymentMethod.update({\n\t\twhere: { id: paymentMethodId },\n\t\tdata: { isActive: !paymentMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Toggle shipping method\nexport async function toggleShippingMethod(shippingMethodId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst shippingMethod = await db.shippingMethod.findFirst({\n\t\twhere: { id: shippingMethodId, tenantId },\n\t});\n\n\tif (!shippingMethod) {\n\t\tthrow new Error(\"Shipping method not found\");\n\t}\n\n\tconst updated = await db.shippingMethod.update({\n\t\twhere: { id: shippingMethodId },\n\t\tdata: { isActive: !shippingMethod.isActive },\n\t});\n\n\treturn updated;\n}\n\n// Add custom domain\nexport async function addCustomDomain(domain: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check if domain already exists\n\tconst existing = await db.tenantDomain.findUnique({\n\t\twhere: { domain },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"Domain already in use\");\n\t}\n\n\tconst newDomain = await db.tenantDomain.create({\n\t\tdata: {\n\t\t\ttenantId,\n\t\t\tdomain,\n\t\t\tisPrimary: false,\n\t\t\tsslStatus: \"pending\",\n\t\t\tdnsVerified: false,\n\t\t},\n\t});\n\n\treturn newDomain;\n}\n\n// Remove custom domain\nexport async function removeCustomDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst domain = await db.tenantDomain.findFirst({\n\t\twhere: { id: domainId, tenantId },\n\t});\n\n\tif (!domain) {\n\t\tthrow new Error(\"Domain not found\");\n\t}\n\n\tawait db.tenantDomain.delete({\n\t\twhere: { id: domainId },\n\t});\n\n\treturn { success: true };\n}\n\n// Set primary domain\nexport async function setPrimaryDomain(domainId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// First, unset all other primary domains\n\tawait db.tenantDomain.updateMany({\n\t\twhere: { tenantId, isPrimary: true },\n\t\tdata: { isPrimary: false },\n\t});\n\n\t// Set the new primary domain\n\tconst updated = await db.tenantDomain.update({\n\t\twhere: { id: domainId },\n\t\tdata: { isPrimary: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MAqFsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,mDAAA"}},
    {"offset": {"line": 914, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/settings/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport {\n\tArrowRight,\n\tBell,\n\tCreditCard,\n\tGlobe,\n\tLink2,\n\tLoader2,\n\tStore,\n\tTruck,\n} from \"lucide-react\";\nimport * as React from \"react\";\nimport { toast } from \"sonner\";\nimport { Loader } from \"@/components/loader\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport {\n\tgetEnabledPaymentMethods,\n\tgetEnabledShippingMethods,\n\tgetTenantSettings,\n\ttogglePaymentMethod,\n\ttoggleShippingMethod,\n\tupdateLocalization,\n\tupdateStoreInfo,\n} from \"@/server/api/internal/settings\";\n\ntype TenantSettings = Awaited<ReturnType<typeof getTenantSettings>>;\ntype PaymentMethod = Awaited<\n\tReturnType<typeof getEnabledPaymentMethods>\n>[number];\ntype ShippingMethod = Awaited<\n\tReturnType<typeof getEnabledShippingMethods>\n>[number];\n\nexport default function SettingsPage() {\n\tconst [isLoading, setIsLoading] = React.useState(true);\n\tconst [isSaving, setIsSaving] = React.useState(false);\n\tconst [settings, setSettings] = React.useState<TenantSettings | null>(null);\n\tconst [paymentMethods, setPaymentMethods] = React.useState<PaymentMethod[]>(\n\t\t[],\n\t);\n\tconst [shippingMethods, setShippingMethods] = React.useState<\n\t\tShippingMethod[]\n\t>([]);\n\n\t// Form state\n\tconst [storeName, setStoreName] = React.useState(\"\");\n\tconst [storeEmail, setStoreEmail] = React.useState(\"\");\n\tconst [storePhone, setStorePhone] = React.useState(\"\");\n\tconst [storeDescription, setStoreDescription] = React.useState(\"\");\n\tconst [currency, setCurrency] = React.useState(\"BGN\");\n\tconst [locale, setLocale] = React.useState(\"bg\");\n\tconst [timezone, setTimezone] = React.useState(\"Europe/Sofia\");\n\n\tconst fetchSettings = React.useCallback(async () => {\n\t\ttry {\n\t\t\tconst [settingsData, paymentData, shippingData] = await Promise.all([\n\t\t\t\tgetTenantSettings(),\n\t\t\t\tgetEnabledPaymentMethods(),\n\t\t\t\tgetEnabledShippingMethods(),\n\t\t\t]);\n\n\t\t\tsetSettings(settingsData);\n\t\t\tsetPaymentMethods(paymentData);\n\t\t\tsetShippingMethods(shippingData);\n\n\t\t\t// Set form values\n\t\t\tsetStoreName(settingsData.name);\n\t\t\tsetStoreEmail(settingsData.email);\n\t\t\tsetStorePhone(settingsData.phone ?? \"\");\n\t\t\tsetStoreDescription(settingsData.description ?? \"\");\n\t\t\tsetCurrency(settingsData.currency);\n\t\t\tsetLocale(settingsData.locale);\n\t\t\tsetTimezone(settingsData.timezone);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to fetch settings:\", error);\n\t\t\ttoast.error(\"Failed to load settings\");\n\t\t} finally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, []);\n\n\tReact.useEffect(() => {\n\t\tfetchSettings();\n\t}, [fetchSettings]);\n\n\tconst handleSaveStoreInfo = async () => {\n\t\tsetIsSaving(true);\n\t\ttry {\n\t\t\tawait updateStoreInfo({\n\t\t\t\tname: storeName,\n\t\t\t\temail: storeEmail,\n\t\t\t\tphone: storePhone || undefined,\n\t\t\t\tdescription: storeDescription || undefined,\n\t\t\t});\n\t\t\ttoast.success(\"Store information updated\");\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to update store info:\", error);\n\t\t\ttoast.error(\"Failed to update store information\");\n\t\t} finally {\n\t\t\tsetIsSaving(false);\n\t\t}\n\t};\n\n\tconst handleSaveLocalization = async () => {\n\t\tsetIsSaving(true);\n\t\ttry {\n\t\t\tawait updateLocalization({\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\ttimezone,\n\t\t\t});\n\t\t\ttoast.success(\"Localization settings updated\");\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to update localization:\", error);\n\t\t\ttoast.error(\"Failed to update localization settings\");\n\t\t} finally {\n\t\t\tsetIsSaving(false);\n\t\t}\n\t};\n\n\tconst handleTogglePaymentMethod = async (methodId: string) => {\n\t\ttry {\n\t\t\tawait togglePaymentMethod(methodId);\n\t\t\tawait fetchSettings();\n\t\t\ttoast.success(\"Payment method updated\");\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to toggle payment method:\", error);\n\t\t\ttoast.error(\"Failed to update payment method\");\n\t\t}\n\t};\n\n\tconst handleToggleShippingMethod = async (methodId: string) => {\n\t\ttry {\n\t\t\tawait toggleShippingMethod(methodId);\n\t\t\tawait fetchSettings();\n\t\t\ttoast.success(\"Shipping method updated\");\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to toggle shipping method:\", error);\n\t\t\ttoast.error(\"Failed to update shipping method\");\n\t\t}\n\t};\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center min-h-[400px]\">\n\t\t\t\t<Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t{/* Header */}\n\t\t\t<div>\n\t\t\t\t<h1 className=\"text-3xl font-bold tracking-tight\">Settings</h1>\n\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\tManage your store settings and preferences\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Settings Grid */}\n\t\t\t<div className=\"grid gap-6\">\n\t\t\t\t{/* Store Information */}\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center gap-3 mb-6\">\n\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t<Store className=\"h-5 w-5 text-blue-600 dark:text-blue-300\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 className=\"text-xl font-bold\">Store Information</h2>\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tBasic details about your store\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"grid gap-4 md:grid-cols-2\">\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"store-name\">Store Name</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"store-name\"\n\t\t\t\t\t\t\t\tplaceholder=\"My Store\"\n\t\t\t\t\t\t\t\tvalue={storeName}\n\t\t\t\t\t\t\t\tonChange={(e) => setStoreName(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"store-email\">Store Email</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"store-email\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tplaceholder=\"store@example.com\"\n\t\t\t\t\t\t\t\tvalue={storeEmail}\n\t\t\t\t\t\t\t\tonChange={(e) => setStoreEmail(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"store-phone\">Store Phone</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"store-phone\"\n\t\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t\t\tplaceholder=\"+359 88 123 4567\"\n\t\t\t\t\t\t\t\tvalue={storePhone}\n\t\t\t\t\t\t\t\tonChange={(e) => setStorePhone(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"store-url\">Store URL</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"store-url\"\n\t\t\t\t\t\t\t\tplaceholder=\"https://store.boostcart.bg\"\n\t\t\t\t\t\t\t\tvalue={`https://${settings?.slug}.boostcart.bg`}\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2 md:col-span-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"store-description\">Store Description</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"store-description\"\n\t\t\t\t\t\t\t\tplaceholder=\"Your store description\"\n\t\t\t\t\t\t\t\tvalue={storeDescription}\n\t\t\t\t\t\t\t\tonChange={(e) => setStoreDescription(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-end mt-6\">\n\t\t\t\t\t\t<PolarisButton\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={handleSaveStoreInfo}\n\t\t\t\t\t\t\tdisabled={isSaving}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isSaving ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : null}\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Custom Domains */}\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-cyan-100 dark:bg-cyan-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<Link2 className=\"h-5 w-5 text-cyan-600 dark:text-cyan-300\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-bold\">Custom Domains</h2>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tConnect your own domain to your store for a professional look\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\thref=\"/admin/settings/domains\"\n\t\t\t\t\t\t\tclassName=\"inline-flex items-center gap-2 text-sm font-medium text-primary hover:underline\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tManage Domains\n\t\t\t\t\t\t\t<ArrowRight className=\"h-4 w-4\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Localization */}\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center gap-3 mb-6\">\n\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t<Globe className=\"h-5 w-5 text-purple-600 dark:text-purple-300\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 className=\"text-xl font-bold\">Localization</h2>\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tConfigure languages and currencies\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"grid gap-4 md:grid-cols-2\">\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"default-locale\">Default Language</Label>\n\t\t\t\t\t\t\t<Select value={locale} onValueChange={setLocale}>\n\t\t\t\t\t\t\t\t<SelectTrigger id=\"default-locale\">\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select language\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"bg\"></SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"en\">English</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"de\">Deutsch</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"fr\">Franais</SelectItem>\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"default-currency\">Default Currency</Label>\n\t\t\t\t\t\t\t<Select value={currency} onValueChange={setCurrency}>\n\t\t\t\t\t\t\t\t<SelectTrigger id=\"default-currency\">\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select currency\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"BGN\">BGN - Bulgarian Lev</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"EUR\">EUR - Euro</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"USD\">USD - US Dollar</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"GBP\">GBP - British Pound</SelectItem>\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"timezone\">Timezone</Label>\n\t\t\t\t\t\t\t<Select value={timezone} onValueChange={setTimezone}>\n\t\t\t\t\t\t\t\t<SelectTrigger id=\"timezone\">\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select timezone\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"Europe/Sofia\">Europe/Sofia</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"Europe/London\">Europe/London</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"America/New_York\">\n\t\t\t\t\t\t\t\t\t\tAmerica/New York\n\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"UTC\">UTC</SelectItem>\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"date-format\">Date Format</Label>\n\t\t\t\t\t\t\t<Select defaultValue=\"DD/MM/YYYY\">\n\t\t\t\t\t\t\t\t<SelectTrigger id=\"date-format\">\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select format\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"DD/MM/YYYY\">DD/MM/YYYY</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"MM/DD/YYYY\">MM/DD/YYYY</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"YYYY-MM-DD\">YYYY-MM-DD</SelectItem>\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-end mt-6\">\n\t\t\t\t\t\t<PolarisButton\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={handleSaveLocalization}\n\t\t\t\t\t\t\tdisabled={isSaving}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isSaving ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : null}\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Payment & Shipping */}\n\t\t\t\t<div className=\"grid gap-6 md:grid-cols-2\">\n\t\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3 mb-6\">\n\t\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-green-600 dark:text-green-300\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-lg font-bold\">Payment Methods</h2>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tManage payment options\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t{paymentMethods.length === 0 ? (\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground text-center py-4\">\n\t\t\t\t\t\t\t\t\tNo payment methods configured\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tpaymentMethods.map((method) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={method.id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-3 border rounded-lg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">{method.name}</span>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleTogglePaymentMethod(method.id)}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`px-2 py-1 text-xs font-medium rounded-full cursor-pointer transition-colors ${\n\t\t\t\t\t\t\t\t\t\t\t\tmethod.isActive\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 hover:bg-green-200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-200\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{method.isActive ? \"Enabled\" : \"Disabled\"}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button type=\"button\" variant=\"outline\" className=\"w-full mt-4\">\n\t\t\t\t\t\t\tConfigure Payment Methods\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3 mb-6\">\n\t\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<Truck className=\"h-5 w-5 text-orange-600 dark:text-orange-300\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-lg font-bold\">Shipping Methods</h2>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tManage shipping options\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t{shippingMethods.length === 0 ? (\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground text-center py-4\">\n\t\t\t\t\t\t\t\t\tNo shipping methods configured\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tshippingMethods.map((method) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={method.id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-3 border rounded-lg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">{method.name}</span>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleToggleShippingMethod(method.id)}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`px-2 py-1 text-xs font-medium rounded-full cursor-pointer transition-colors ${\n\t\t\t\t\t\t\t\t\t\t\t\tmethod.isActive\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 hover:bg-green-200\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-200\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{method.isActive ? \"Enabled\" : \"Disabled\"}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button type=\"button\" variant=\"outline\" className=\"w-full mt-4\">\n\t\t\t\t\t\t\tConfigure Shipping Methods\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Notifications */}\n\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t<div className=\"flex items-center gap-3 mb-6\">\n\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t<Bell className=\"h-5 w-5 text-yellow-600 dark:text-yellow-300\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 className=\"text-xl font-bold\">Notifications</h2>\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tConfigure notification preferences\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{[\n\t\t\t\t\t\t\t{ name: \"New orders\", description: \"Get notified of new orders\" },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Low stock alerts\",\n\t\t\t\t\t\t\t\tdescription: \"Alert when products are low in stock\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"New customer registrations\",\n\t\t\t\t\t\t\t\tdescription: \"Get notified of new customer sign-ups\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"Product reviews\",\n\t\t\t\t\t\t\t\tdescription: \"Get notified when customers leave reviews\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t].map((notification) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={notification.name}\n\t\t\t\t\t\t\t\tclassName=\"flex items-start justify-between p-4 border rounded-lg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-sm\">{notification.name}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t{notification.description}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"outline\" size=\"sm\">\n\t\t\t\t\t\t\t\t\tConfigure\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Billing Status */}\n\t\t\t\t{settings && (\n\t\t\t\t\t<Card className=\"p-6\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-3 mb-6\">\n\t\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<CreditCard className=\"h-5 w-5 text-indigo-600 dark:text-indigo-300\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h2 className=\"text-xl font-bold\">Billing Status</h2>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tYour current plan and billing information\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"grid gap-4 md:grid-cols-3\">\n\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Status</p>\n\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold mt-1 capitalize\">\n\t\t\t\t\t\t\t\t\t{settings.billingStatus.toLowerCase().replace(\"_\", \" \")}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Billing Cycle</p>\n\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold mt-1 capitalize\">\n\t\t\t\t\t\t\t\t\t{settings.billingCycle.toLowerCase()}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{settings.trialEndsAt && (\n\t\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Trial Ends</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold mt-1\">\n\t\t\t\t\t\t\t\t\t\t{new Date(settings.trialEndsAt).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{settings.currentPeriodEnd && (\n\t\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Next Billing</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-lg font-semibold mt-1\">\n\t\t\t\t\t\t\t\t\t\t{new Date(settings.currentPeriodEnd).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex justify-end mt-6\">\n\t\t\t\t\t\t\t<Button type=\"button\" variant=\"outline\">\n\t\t\t\t\t\t\t\tManage Subscription\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}