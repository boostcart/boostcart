{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/admin/polaris-button.tsx"],"sourcesContent":["import { Slot as SlotPrimitive } from \"radix-ui\";\nimport type React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface PolarisButtonProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren: React.ReactNode;\n\tsize?: \"micro\" | \"slim\" | \"medium\" | \"large\";\n\tfullWidth?: boolean;\n\tloading?: boolean;\n\tdisabled?: boolean;\n\ticon?: React.ReactNode;\n\tasChild?: boolean;\n}\n\nexport function PolarisButton({\n\tchildren,\n\tsize = \"slim\",\n\tfullWidth = false,\n\tloading = false,\n\tdisabled = false,\n\ticon,\n\tasChild = false,\n\tclassName,\n\t...props\n}: PolarisButtonProps) {\n\tconst Comp = asChild ? SlotPrimitive.Slot : \"button\";\n\tconst sizeClasses = {\n\t\tmicro: \"h-7 px-2.5 text-xs\",\n\t\tslim: \"h-9 px-3 text-sm\",\n\t\tmedium: \"h-10 px-4 text-sm\",\n\t\tlarge: \"h-12 px-5 text-base\",\n\t};\n\n\treturn (\n\t\t<Comp\n\t\t\tdisabled={disabled || loading}\n\t\t\tclassName={cn(\n\t\t\t\t// Base styles matching Polaris primary button\n\t\t\t\t\"relative inline-flex items-center justify-center gap-2\",\n\t\t\t\t\"font-semibold rounded-[10px] cursor-pointer\",\n\t\t\t\t\"transition-all duration-200 ease-out\",\n\t\t\t\t\"outline-none focus-visible:outline-2 focus-visible:outline-offset-2\",\n\n\t\t\t\t\"border-0\",\n\t\t\t\t\"shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.6),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\n\t\t\t\t\"bg-linear-to-b from-[#4a4a4a] to-[#303030]\",\n\n\t\t\t\t// Text colors from Polaris tokens\n\t\t\t\t\"text-white\",\n\n\t\t\t\t\"hover:before:absolute hover:before:inset-0 hover:before:rounded-[10px] hover:before:bg-black hover:before:opacity-30 hover:before:transition-opacity hover:before:duration-200 hover:before:content-['']\",\n\n\t\t\t\t// Disabled state\n\t\t\t\t\"disabled:bg-linear-to-b disabled:from-[rgba(0,0,0,0.2)] disabled:to-[rgba(0,0,0,0.17)]\",\n\t\t\t\t\"disabled:text-[rgba(255,255,255,0.6)]\",\n\t\t\t\t\"disabled:cursor-not-allowed\",\n\t\t\t\t\"disabled:shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.2),inset_1.5px_0_0_0_rgba(0,0,0,0.2),inset_-1.5px_0_0_0_rgba(0,0,0,0.2),inset_0_-3px_0_0_rgba(0,0,0,0.2)]\",\n\t\t\t\t\"disabled:hover:before:opacity-0\",\n\n\t\t\t\t// Focus state border\n\t\t\t\t\"focus-visible:outline-[#005BD3]\",\n\n\t\t\t\t\"active:shadow-[inset_0_4px_0_0_rgba(0,0,0,0.8),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\t\t\t\t\"active:bg-linear-to-b active:from-[#2a2a2a] active:to-[#1a1a1a]\",\n\t\t\t\t\"active:[&>span:last-child]:translate-y-px\",\n\n\t\t\t\t// Size variants\n\t\t\t\tsizeClasses[size],\n\n\t\t\t\t// Full width\n\t\t\t\tfullWidth && \"w-full\",\n\n\t\t\t\tasChild && disabled && \"pointer-events-none opacity-50\",\n\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<span className=\"absolute inset-0 rounded-[10px] pointer-events-none shadow-[inset_0_3px_0_0_rgba(255,255,255,0.2),inset_1.5px_0_0_0_rgba(255,255,255,0.1),inset_-1.5px_0_0_0_rgba(255,255,255,0.1)] active:opacity-0 transition-opacity duration-200\" />\n\n\t\t\t<span className=\"relative flex items-center justify-center gap-2 transition-transform duration-200\">\n\t\t\t\t{loading ? (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"animate-spin size-4\"\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<title>Loading</title>\n\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\tclassName=\"opacity-25\"\n\t\t\t\t\t\t\tcx=\"12\"\n\t\t\t\t\t\t\tcy=\"12\"\n\t\t\t\t\t\t\tr=\"10\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tclassName=\"opacity-75\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t) : (\n\t\t\t\t\ticon && <span className=\"shrink-0\">{icon}</span>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</span>\n\t\t</Comp>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAaO,SAAS,cAAc,EAC7B,QAAQ,EACR,OAAO,MAAM,EACb,YAAY,KAAK,EACjB,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,IAAI,EACJ,UAAU,KAAK,EACf,SAAS,EACT,GAAG,OACiB;IACpB,MAAM,OAAO,UAAU,0OAAa,CAAC,IAAI,GAAG;IAC5C,MAAM,cAAc;QACnB,OAAO;QACP,MAAM;QACN,QAAQ;QACR,OAAO;IACR;IAEA,qBACC,6LAAC;QACA,UAAU,YAAY;QACtB,WAAW,IAAA,gJAAE,EACZ,8CAA8C;QAC9C,0DACA,+CACA,wCACA,uEAEA,YACA,oJAEA,8CAEA,kCAAkC;QAClC,cAEA,4MAEA,iBAAiB;QACjB,0FACA,yCACA,+BACA,6JACA,mCAEA,qBAAqB;QACrB,mCAEA,yJACA,mEACA,6CAEA,gBAAgB;QAChB,WAAW,CAAC,KAAK,EAEjB,aAAa;QACb,aAAa,UAEb,WAAW,YAAY,kCAEvB;QAEA,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;;;;;;0BAEhB,6LAAC;gBAAK,WAAU;;oBACd,wBACA,6LAAC;wBACA,WAAU;wBACV,OAAM;wBACN,MAAK;wBACL,SAAQ;;0CAER,6LAAC;0CAAM;;;;;;0CACP,6LAAC;gCACA,WAAU;gCACV,IAAG;gCACH,IAAG;gCACH,GAAE;gCACF,QAAO;gCACP,aAAY;;;;;;0CAEb,6LAAC;gCACA,WAAU;gCACV,MAAK;gCACL,GAAE;;;;;;;;;;;+BAIJ,sBAAQ,6LAAC;wBAAK,WAAU;kCAAY;;;;;;oBAEpC;;;;;;;;;;;;;AAIL;KAjGgB"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/input.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define input size variants\nconst inputVariants = cva(\n\t`\n    flex w-full bg-background border border-input shadow-xs shadow-black/5 transition-[color,box-shadow] text-foreground placeholder:text-muted-foreground/80 \n    focus-visible:ring-ring/30  focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px]     \n    disabled:cursor-not-allowed disabled:opacity-60 \n    [&[readonly]]:bg-muted/80 [&[readonly]]:cursor-not-allowed\n    file:h-full [&[type=file]]:py-0 file:border-solid file:border-input file:bg-transparent \n    file:font-medium file:not-italic file:text-foreground file:p-0 file:border-0 file:border-e\n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tlg: \"h-10 px-4 text-sm rounded-md file:pe-4 file:me-4\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) rounded-md file:pe-3 file:me-3\",\n\t\t\t\tsm: \"h-7 px-2.5 text-xs rounded-md file:pe-2.5 file:me-2.5\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nconst inputAddonVariants = cva(\n\t\"flex items-center shrink-0 justify-center bg-muted border border-input shadow-xs shadow-[rgba(0,0,0,0.05)] text-secondary-foreground\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"rounded-md h-7 min-w-7 text-xs px-2.5 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"rounded-md h-8.5 min-w-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t\tlg: \"rounded-md h-10 min-w-10 px-4 text-sm [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t},\n\t\t\tmode: {\n\t\t\t\tdefault: \"\",\n\t\t\t\ticon: \"px-0 justify-center\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t\tmode: \"default\",\n\t\t},\n\t},\n);\n\nconst inputGroupVariants = cva(\n\t`\n    flex items-stretch\n    [&_[data-slot=input]]:grow\n    [&_[data-slot=input-addon]:has(+[data-slot=input])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=input])]:border-e-0\n    [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:border-e-0 \n    [&_[data-slot=input]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=input]+[data-slot=input-addon]]:border-s-0\n    [&_[data-slot=input-addon]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]+[data-slot=button]]:rounded-s-none\n    [&_[data-slot=button]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=datefield]]:[&_[data-slot=input]]:rounded-s-none\n    [&_[data-slot=datefield]:has(+[data-slot=input-addon])]:[&_[data-slot=input]]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=input-addon])]:rounded-e-none\n    [&_[data-slot=datefield]]:grow\n    [&_[data-slot=datefield]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=datefield]+[data-slot=input-addon]]:border-s-0\n  `,\n\t{\n\t\tvariants: {},\n\t\tdefaultVariants: {},\n\t},\n);\n\nconst inputWrapperVariants = cva(\n\t`\n    flex items-center gap-1.5\n    has-[:focus-visible]:ring-ring/30 \n    has-[:focus-visible]:border-ring\n    has-[:focus-visible]:outline-none \n    has-[:focus-visible]:ring-[3px]\n\n    [&_[data-slot=datefield]]:grow \n    [&_[data-slot=input]]:data-focus-within:ring-transparent  \n    [&_[data-slot=input]]:data-focus-within:ring-0 \n    [&_[data-slot=input]]:data-focus-within:border-0 \n    [&_[data-slot=input]]:flex \n    [&_[data-slot=input]]:w-full \n    [&_[data-slot=input]]:outline-none \n    [&_[data-slot=input]]:transition-colors \n    [&_[data-slot=input]]:text-foreground\n    [&_[data-slot=input]]:placeholder:text-muted-foreground \n    [&_[data-slot=input]]:border-0 \n    [&_[data-slot=input]]:bg-transparent \n    [&_[data-slot=input]]:p-0\n    [&_[data-slot=input]]:shadow-none \n    [&_[data-slot=input]]:focus-visible:ring-0 \n    [&_[data-slot=input]]:h-auto \n    [&_[data-slot=input]]:disabled:cursor-not-allowed\n    [&_[data-slot=input]]:disabled:opacity-50    \n\n    has-[[aria-invalid=true]]:border-destructive/60 \n    has-[[aria-invalid=true]]:ring-destructive/10 \n    dark:has-[[aria-invalid=true]]:border-destructive \n    dark:has-[[aria-invalid=true]]:ring-destructive/20    \n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"gap-1.25 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t\tlg: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nfunction Input({\n\tclassName,\n\ttype,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"input\"> & VariantProps<typeof inputVariants>) {\n\treturn (\n\t\t<input\n\t\t\tdata-slot=\"input\"\n\t\t\ttype={type}\n\t\t\tclassName={cn(inputVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputAddon({\n\tclassName,\n\tvariant,\n\tmode,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputAddonVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-addon\"\n\t\t\tclassName={cn(inputAddonVariants({ variant, mode }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputGroup({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-group\"\n\t\t\tclassName={cn(inputGroupVariants(), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputWrapper({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputWrapperVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-wrapper\"\n\t\t\tclassName={cn(\n\t\t\t\tinputVariants({ variant }),\n\t\t\t\tinputWrapperVariants({ variant }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tInput,\n\tInputAddon,\n\tInputGroup,\n\tInputWrapper,\n\tinputVariants,\n\tinputAddonVariants,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,IAAA,0KAAG,EACxB,CAAC;;;;;;;;EAQA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,wIACA;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;QACA,MAAM;YACL,SAAS;YACT,MAAM;QACP;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,CAAC;;;;;;;;;;;;;;;;EAgBA,CAAC,EACF;IACC,UAAU,CAAC;IACX,iBAAiB,CAAC;AACnB;AAGD,MAAM,uBAAuB,IAAA,0KAAG,EAC/B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,IAAI,EACJ,OAAO,EACP,GAAG,OACiE;IACpE,qBACC,6LAAC;QACA,aAAU;QACV,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAdS;AAgBT,SAAS,WAAW,EACnB,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;YAAE;YAAS;QAAK,IAAI;QACpD,GAAG,KAAK;;;;;;AAGZ;MAbS;AAeT,SAAS,WAAW,EACnB,SAAS,EACT,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGZ;MAXS;AAaT,SAAS,aAAa,EACrB,SAAS,EACT,OAAO,EACP,GAAG,OACsE;IACzE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EACZ,cAAc;YAAE;QAAQ,IACxB,qBAAqB;YAAE;QAAQ,IAC/B;QAEA,GAAG,KAAK;;;;;;AAGZ;MAhBS"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n\t\"text-sm leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tprimary: \"font-medium\",\n\t\t\t\tsecondary: \"font-normal\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"primary\",\n\t\t},\n\t},\n);\n\nfunction Label({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root> &\n\tVariantProps<typeof labelVariants>) {\n\treturn (\n\t\t<LabelPrimitive.Root\n\t\t\tdata-slot=\"label\"\n\t\t\tclassName={cn(labelVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACxB,kGACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,WAAW;QACZ;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,OAAO,EACP,GAAG,OAE+B;IAClC,qBACC,6LAAC,6OAAc,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAbS"}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { Select as SelectPrimitive } from \"radix-ui\";\nimport * as React from \"react\";\nimport { isValidElement, type ReactNode } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Create a Context for `indicatorPosition` and `indicator` control\nconst SelectContext = React.createContext<{\n\tindicatorPosition: \"left\" | \"right\";\n\tindicatorVisibility: boolean;\n\tindicator: ReactNode;\n}>({ indicatorPosition: \"left\", indicator: null, indicatorVisibility: true });\n\n// Root Component\nconst Select = ({\n\tindicatorPosition = \"left\",\n\tindicatorVisibility = true,\n\tindicator,\n\t...props\n}: {\n\tindicatorPosition?: \"left\" | \"right\";\n\tindicatorVisibility?: boolean;\n\tindicator?: ReactNode;\n} & React.ComponentProps<typeof SelectPrimitive.Root>) => {\n\tconst contextValue = React.useMemo(\n\t\t() => ({ indicatorPosition, indicatorVisibility, indicator }),\n\t\t[indicatorPosition, indicatorVisibility, indicator],\n\t);\n\n\treturn (\n\t\t<SelectContext.Provider value={contextValue}>\n\t\t\t<SelectPrimitive.Root {...props} />\n\t\t</SelectContext.Provider>\n\t);\n};\n\nfunction SelectGroup({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n\treturn <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\n}\n\nfunction SelectValue({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n\treturn <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\n}\n\n// Define size variants for SelectTrigger\nconst selectTriggerVariants = cva(\n\t`\n    flex bg-background w-full items-center justify-between outline-none border border-input shadow-xs shadow-black/5 transition-shadow \n    text-foreground data-placeholder:text-muted-foreground focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] \n    focus-visible:ring-ring/30 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"h-7 px-2.5 text-xs gap-1 rounded-md\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) gap-1 rounded-md\",\n\t\t\t\tlg: \"h-10 px-4 text-sm gap-1.5 rounded-md\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nexport interface SelectTriggerProps\n\textends React.ComponentProps<typeof SelectPrimitive.Trigger>,\n\t\tVariantProps<typeof selectTriggerVariants> {}\n\nfunction SelectTrigger({\n\tclassName,\n\tchildren,\n\tsize,\n\t...props\n}: SelectTriggerProps) {\n\treturn (\n\t\t<SelectPrimitive.Trigger\n\t\t\tdata-slot=\"select-trigger\"\n\t\t\tclassName={cn(selectTriggerVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<SelectPrimitive.Icon asChild>\n\t\t\t\t<ChevronDown className=\"h-4 w-4 opacity-60 -me-0.5\" />\n\t\t\t</SelectPrimitive.Icon>\n\t\t</SelectPrimitive.Trigger>\n\t);\n}\n\nfunction SelectScrollUpButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollUpButton\n\t\t\tdata-slot=\"select-scroll-up-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronUp className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollUpButton>\n\t);\n}\n\nfunction SelectScrollDownButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollDownButton\n\t\t\tdata-slot=\"select-scroll-down-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronDown className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollDownButton>\n\t);\n}\n\nfunction SelectContent({\n\tclassName,\n\tchildren,\n\tposition = \"popper\",\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n\treturn (\n\t\t<SelectPrimitive.Portal>\n\t\t\t<SelectPrimitive.Content\n\t\t\t\tdata-slot=\"select-content\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover shadow-md shadow-black/5 text-secondary-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\"data-[side=bottom]:translate-y-1.5 data-[side=left]:-translate-x-1.5 data-[side=right]:translate-x-1.5 data-[side=top]:-translate-y-1.5\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tposition={position}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<SelectScrollUpButton />\n\t\t\t\t<SelectPrimitive.Viewport\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"p-1.5\",\n\t\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\t\"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</SelectPrimitive.Viewport>\n\t\t\t\t<SelectScrollDownButton />\n\t\t\t</SelectPrimitive.Content>\n\t\t</SelectPrimitive.Portal>\n\t);\n}\n\nfunction SelectLabel({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n\treturn (\n\t\t<SelectPrimitive.Label\n\t\t\tdata-slot=\"select-label\"\n\t\t\tclassName={cn(\n\t\t\t\t\"py-1.5 ps-8 pe-2 text-xs text-muted-foreground font-medium\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SelectItem({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n\tconst { indicatorPosition, indicatorVisibility, indicator } =\n\t\tReact.useContext(SelectContext);\n\n\treturn (\n\t\t<SelectPrimitive.Item\n\t\t\tdata-slot=\"select-item\"\n\t\t\tclassName={cn(\n\t\t\t\t\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 text-sm outline-hidden text-foreground hover:bg-accent focus:bg-accent data-disabled:pointer-events-none data-disabled:opacity-50\",\n\t\t\t\tindicatorPosition === \"left\" ? \"ps-8 pe-2\" : \"pe-8 ps-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{indicatorVisibility &&\n\t\t\t\t(indicator && isValidElement(indicator) ? (\n\t\t\t\t\tindicator\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"absolute flex h-3.5 w-3.5 items-center justify-center\",\n\t\t\t\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectPrimitive.ItemIndicator>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t</SelectPrimitive.ItemIndicator>\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t<SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n\t\t</SelectPrimitive.Item>\n\t);\n}\n\nfunction SelectIndicator({\n\tchildren,\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ItemIndicator>) {\n\tconst { indicatorPosition } = React.useContext(SelectContext);\n\n\treturn (\n\t\t<span\n\t\t\tdata-slot=\"select-indicator\"\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute flex top-1/2 -translate-y-1/2 items-center justify-center\",\n\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<SelectPrimitive.ItemIndicator>{children}</SelectPrimitive.ItemIndicator>\n\t\t</span>\n\t);\n}\n\nfunction SelectSeparator({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n\treturn (\n\t\t<SelectPrimitive.Separator\n\t\t\tdata-slot=\"select-separator\"\n\t\t\tclassName={cn(\"-mx-1.5 my-1.5 h-px bg-border\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectIndicator,\n\tSelectItem,\n\tSelectLabel,\n\tSelectScrollDownButton,\n\tSelectScrollUpButton,\n\tSelectSeparator,\n\tSelectTrigger,\n\tSelectValue,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n\tReact.ElementRef<typeof SwitchPrimitives.Root>,\n\tReact.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n\t<SwitchPrimitives.Root\n\t\tclassName={cn(\n\t\t\t\"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t\tref={ref}\n\t>\n\t\t<SwitchPrimitives.Thumb\n\t\t\tclassName={cn(\n\t\t\t\t\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n\t\t\t)}\n\t\t/>\n\t</SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,6KAAqB;QACrB,WAAW,IAAA,gJAAE,EACZ,sXACA;QAEA,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACtB,WAAW,IAAA,gJAAE,EACZ;;;;;;;;;;;;AAKJ,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<\n\tHTMLTableElement,\n\tReact.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n\t<div className=\"relative w-full overflow-auto\">\n\t\t<table\n\t\t\tref={ref}\n\t\t\tclassName={cn(\"w-full caption-bottom text-sm\", className)}\n\t\t\t{...props}\n\t\t/>\n\t</div>\n));\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n));\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tbody\n\t\tref={ref}\n\t\tclassName={cn(\"[&_tr:last-child]:border-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tfoot\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<\n\tHTMLTableRowElement,\n\tReact.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n\t<tr\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<th\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<td\n\t\tref={ref}\n\t\tclassName={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<\n\tHTMLTableCaptionElement,\n\tReact.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n\t<caption\n\t\tref={ref}\n\t\tclassName={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nTableCaption.displayName = \"TableCaption\";\n\nexport {\n\tTable,\n\tTableHeader,\n\tTableBody,\n\tTableFooter,\n\tTableHead,\n\tTableRow,\n\tTableCell,\n\tTableCaption,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC;YACA,KAAK;YACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIZ,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAExE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,2DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,+EACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,oGACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGX,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 983, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Textarea = React.forwardRef<\n\tHTMLTextAreaElement,\n\tReact.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n\treturn (\n\t\t<textarea\n\t\t\tclassName={cn(\n\t\t\t\t\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACC,6LAAC;QACA,WAAW,IAAA,gJAAE,EACZ,qTACA;QAED,KAAK;QACJ,GAAG,KAAK;;;;;;AAGZ;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/locales.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n/**\n * Get or create a default locale for the platform.\n * This ensures there's always a valid locale available for translations.\n */\nexport async function getOrCreateDefaultLocale() {\n\t// First try to get the default locale\n\tlet defaultLocale = await db.locale.findFirst({\n\t\twhere: { isDefault: true },\n\t});\n\n\tif (!defaultLocale) {\n\t\t// Try to get any existing locale\n\t\tdefaultLocale = await db.locale.findFirst();\n\t}\n\n\tif (!defaultLocale) {\n\t\t// Create a default Bulgarian locale since this is a Bulgarian-focused platform\n\t\tdefaultLocale = await db.locale.create({\n\t\t\tdata: {\n\t\t\t\tcode: \"bg-BG\",\n\t\t\t\tname: \"Български\",\n\t\t\t\tisDefault: true,\n\t\t\t},\n\t\t});\n\t}\n\n\treturn {\n\t\tid: defaultLocale.id,\n\t\tcode: defaultLocale.code,\n\t\tname: defaultLocale.name,\n\t\tisDefault: defaultLocale.isDefault,\n\t};\n}\n\nexport async function getLocales() {\n\tawait requireStoreAccess();\n\n\tconst locales = await db.locale.findMany({\n\t\torderBy: [{ isDefault: \"desc\" }, { name: \"asc\" }],\n\t});\n\n\treturn locales.map((locale) => ({\n\t\tid: locale.id,\n\t\tcode: locale.code,\n\t\tname: locale.name,\n\t\tisDefault: locale.isDefault,\n\t}));\n}\n\nexport async function getLocale(id: string) {\n\tawait requireStoreAccess();\n\n\tconst locale = await db.locale.findUnique({\n\t\twhere: { id },\n\t});\n\n\tif (!locale) {\n\t\tthrow new Error(\"Locale not found\");\n\t}\n\n\treturn {\n\t\tid: locale.id,\n\t\tcode: locale.code,\n\t\tname: locale.name,\n\t\tisDefault: locale.isDefault,\n\t};\n}\n\nexport interface CreateLocaleInput {\n\tcode: string;\n\tname: string;\n\tisDefault?: boolean;\n}\n\nexport async function createLocale(input: CreateLocaleInput) {\n\tawait requireStoreAccess();\n\n\t// Check for duplicate code\n\tconst existing = await db.locale.findUnique({\n\t\twhere: { code: input.code },\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A locale with this code already exists\");\n\t}\n\n\t// If setting as default, unset other defaults\n\tif (input.isDefault) {\n\t\tawait db.locale.updateMany({\n\t\t\twhere: { isDefault: true },\n\t\t\tdata: { isDefault: false },\n\t\t});\n\t}\n\n\tconst locale = await db.locale.create({\n\t\tdata: {\n\t\t\tcode: input.code,\n\t\t\tname: input.name,\n\t\t\tisDefault: input.isDefault ?? false,\n\t\t},\n\t});\n\n\treturn locale;\n}\n\nexport interface UpdateLocaleInput {\n\tcode?: string;\n\tname?: string;\n\tisDefault?: boolean;\n}\n\nexport async function updateLocale(id: string, input: UpdateLocaleInput) {\n\tawait requireStoreAccess();\n\n\tconst locale = await db.locale.findUnique({\n\t\twhere: { id },\n\t});\n\n\tif (!locale) {\n\t\tthrow new Error(\"Locale not found\");\n\t}\n\n\t// Check for duplicate code if changing\n\tif (input.code && input.code !== locale.code) {\n\t\tconst existing = await db.locale.findUnique({\n\t\t\twhere: { code: input.code },\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A locale with this code already exists\");\n\t\t}\n\t}\n\n\t// If setting as default, unset other defaults\n\tif (input.isDefault && !locale.isDefault) {\n\t\tawait db.locale.updateMany({\n\t\t\twhere: { isDefault: true },\n\t\t\tdata: { isDefault: false },\n\t\t});\n\t}\n\n\tconst updated = await db.locale.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tcode: input.code,\n\t\t\tname: input.name,\n\t\t\tisDefault: input.isDefault,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteLocale(id: string) {\n\tawait requireStoreAccess();\n\n\tconst locale = await db.locale.findUnique({\n\t\twhere: { id },\n\t});\n\n\tif (!locale) {\n\t\tthrow new Error(\"Locale not found\");\n\t}\n\n\tif (locale.isDefault) {\n\t\tthrow new Error(\"Cannot delete the default locale\");\n\t}\n\n\t// Check if locale is used in any translations\n\tconst usageCount = await Promise.all([\n\t\tdb.productTranslation.count({ where: { localeId: id } }),\n\t\tdb.categoryTranslation.count({ where: { localeId: id } }),\n\t\tdb.brandTranslation.count({ where: { localeId: id } }),\n\t\tdb.pageTranslation.count({ where: { localeId: id } }),\n\t\tdb.collectionTranslation.count({ where: { localeId: id } }),\n\t\tdb.blogPostTranslation.count({ where: { localeId: id } }),\n\t]);\n\n\tconst totalUsage = usageCount.reduce((sum, count) => sum + count, 0);\n\n\tif (totalUsage > 0) {\n\t\tthrow new Error(\n\t\t\t`Cannot delete locale: it is used in ${totalUsage} translation(s)`\n\t\t);\n\t}\n\n\tawait db.locale.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function setDefaultLocale(id: string) {\n\tawait requireStoreAccess();\n\n\tconst locale = await db.locale.findUnique({\n\t\twhere: { id },\n\t});\n\n\tif (!locale) {\n\t\tthrow new Error(\"Locale not found\");\n\t}\n\n\t// Unset current default\n\tawait db.locale.updateMany({\n\t\twhere: { isDefault: true },\n\t\tdata: { isDefault: false },\n\t});\n\n\t// Set new default\n\tconst updated = await db.locale.update({\n\t\twhere: { id },\n\t\tdata: { isDefault: true },\n\t});\n\n\treturn updated;\n}\n"],"names":[],"mappings":";;;;;;;MAoCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,4DAAA"}},
    {"offset": {"line": 1034, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAkHsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAiNsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 1068, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAuPsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,gDAAA"}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAiCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,4CAAA"}},
    {"offset": {"line": 1102, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAoOsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,oDAAA"}},
    {"offset": {"line": 1119, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAgKsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/pages/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Eye, FileText, Pencil, Plus, Trash2 } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n\tEmpty,\n\tEmptyContent,\n\tEmptyDescription,\n\tEmptyHeader,\n\tEmptyMedia,\n\tEmptyTitle,\n} from \"@/components/ui/empty\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { getOrCreateDefaultLocale } from \"@/server/api/internal/locales\";\nimport {\n\tcreatePage,\n\tdeletePage,\n\tgetPageTypes,\n\tgetPages,\n\ttogglePageActive,\n\tupdatePage,\n} from \"@/server/api/internal/pages\";\nimport type { PageType } from \"@boostcart/database\";\n\ninterface PageData {\n\tid: string;\n\tslug: string;\n\ttype: PageType;\n\tisActive: boolean;\n\ttitle: string;\n\tcontent: string;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\tlocaleCode: string;\n\t\tlocaleName: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n\tcreatedAt: Date;\n\tupdatedAt: Date;\n}\n\ninterface PageTypeOption {\n\tvalue: string;\n\tlabel: string;\n}\n\nexport default function PagesPage() {\n\tconst [pages, setPages] = useState<PageData[]>([]);\n\tconst [pageTypes, setPageTypes] = useState<PageTypeOption[]>([]);\n\tconst [defaultLocaleId, setDefaultLocaleId] = useState<string | null>(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst [viewDialogOpen, setViewDialogOpen] = useState(false);\n\tconst [formDialogOpen, setFormDialogOpen] = useState(false);\n\tconst [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\tconst [selectedPage, setSelectedPage] = useState<PageData | null>(null);\n\tconst [formMode, setFormMode] = useState<\"create\" | \"edit\">(\"create\");\n\tconst [saving, setSaving] = useState(false);\n\tconst [deleting, setDeleting] = useState(false);\n\n\t// Form state\n\tconst [formData, setFormData] = useState({\n\t\ttitle: \"\",\n\t\tslug: \"\",\n\t\tcontent: \"\",\n\t\ttype: \"CUSTOM\" as PageType,\n\t\tisActive: true,\n\t});\n\n\tuseEffect(() => {\n\t\tloadData();\n\t}, []);\n\n\tasync function loadData() {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst [pagesData, typesData, localeData] = await Promise.all([\n\t\t\t\tgetPages(),\n\t\t\t\tgetPageTypes(),\n\t\t\t\tgetOrCreateDefaultLocale(),\n\t\t\t]);\n\t\t\tsetPages(pagesData);\n\t\t\tsetPageTypes(typesData);\n\t\t\tsetDefaultLocaleId(localeData.id);\n\t\t} catch (error) {\n\t\t\ttoast.error(\"Failed to load pages\");\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t}\n\n\tconst handleView = (page: PageData) => {\n\t\tsetSelectedPage(page);\n\t\tsetViewDialogOpen(true);\n\t};\n\n\tconst handleEdit = (page: PageData) => {\n\t\tsetSelectedPage(page);\n\t\tsetFormMode(\"edit\");\n\t\tsetFormData({\n\t\t\ttitle: page.title,\n\t\t\tslug: page.slug,\n\t\t\tcontent: page.content,\n\t\t\ttype: page.type,\n\t\t\tisActive: page.isActive,\n\t\t});\n\t\tsetFormDialogOpen(true);\n\t};\n\n\tconst handleCreate = () => {\n\t\tsetSelectedPage(null);\n\t\tsetFormMode(\"create\");\n\t\tsetFormData({\n\t\t\ttitle: \"\",\n\t\t\tslug: \"\",\n\t\t\tcontent: \"\",\n\t\t\ttype: \"CUSTOM\",\n\t\t\tisActive: true,\n\t\t});\n\t\tsetFormDialogOpen(true);\n\t};\n\n\tconst handleDeleteClick = (page: PageData) => {\n\t\tsetSelectedPage(page);\n\t\tsetDeleteDialogOpen(true);\n\t};\n\n\tconst handleToggleActive = async (page: PageData) => {\n\t\ttry {\n\t\t\tawait togglePageActive(page.id);\n\t\t\ttoast.success(page.isActive ? \"Page deactivated\" : \"Page activated\");\n\t\t\tloadData();\n\t\t} catch (error) {\n\t\t\ttoast.error(\"Failed to update page status\");\n\t\t}\n\t};\n\n\tconst generateSlug = (title: string) => {\n\t\treturn title\n\t\t\t.toLowerCase()\n\t\t\t.replace(/[^a-z0-9\\s-]/g, \"\")\n\t\t\t.replace(/\\s+/g, \"-\")\n\t\t\t.replace(/-+/g, \"-\")\n\t\t\t.trim();\n\t};\n\n\tconst handleSubmit = async () => {\n\t\tif (!formData.title || !formData.slug) {\n\t\t\ttoast.error(\"Title and slug are required\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!defaultLocaleId) {\n\t\t\ttoast.error(\"No default locale available\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tsetSaving(true);\n\n\t\t\tif (formMode === \"create\") {\n\t\t\t\tawait createPage({\n\t\t\t\t\tslug: formData.slug,\n\t\t\t\t\ttype: formData.type,\n\t\t\t\t\tisActive: formData.isActive,\n\t\t\t\t\ttranslations: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocaleId: defaultLocaleId,\n\t\t\t\t\t\t\ttitle: formData.title,\n\t\t\t\t\t\t\tcontent: formData.content,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t\ttoast.success(\"Page created\");\n\t\t\t} else if (selectedPage) {\n\t\t\t\tawait updatePage(selectedPage.id, {\n\t\t\t\t\tslug: formData.slug,\n\t\t\t\t\ttype: formData.type,\n\t\t\t\t\tisActive: formData.isActive,\n\t\t\t\t\ttranslations: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocaleId: defaultLocaleId,\n\t\t\t\t\t\t\ttitle: formData.title,\n\t\t\t\t\t\t\tcontent: formData.content,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t});\n\t\t\t\ttoast.success(\"Page updated\");\n\t\t\t}\n\n\t\t\tsetFormDialogOpen(false);\n\t\t\tloadData();\n\t\t} catch (error) {\n\t\t\ttoast.error(\n\t\t\t\terror instanceof Error ? error.message : \"Failed to save page\"\n\t\t\t);\n\t\t} finally {\n\t\t\tsetSaving(false);\n\t\t}\n\t};\n\n\tconst handleDelete = async () => {\n\t\tif (!selectedPage) return;\n\n\t\ttry {\n\t\t\tsetDeleting(true);\n\t\t\tawait deletePage(selectedPage.id);\n\t\t\ttoast.success(\"Page deleted\");\n\t\t\tsetDeleteDialogOpen(false);\n\t\t\tloadData();\n\t\t} catch (error) {\n\t\t\ttoast.error(\"Failed to delete page\");\n\t\t} finally {\n\t\t\tsetDeleting(false);\n\t\t}\n\t};\n\n\tconst formatDate = (date: Date) => {\n\t\treturn new Date(date).toLocaleDateString(\"bg-BG\", {\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t});\n\t};\n\n\tconst activePages = pages.filter((p) => p.isActive).length;\n\tconst draftPages = pages.filter((p) => !p.isActive).length;\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center h-64\">\n\t\t\t\t<div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1 className=\"text-3xl font-bold tracking-tight\">Pages</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\t\tManage static pages and content\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<PolarisButton onClick={handleCreate}>\n\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\tCreate Page\n\t\t\t\t</PolarisButton>\n\t\t\t</div>\n\n\t\t\t<div className=\"grid gap-4 md:grid-cols-3\">\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Total Pages</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{pages.length}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Active Pages</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{activePages}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Draft Pages</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{draftPages}</p>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<Card>\n\t\t\t\t{pages.length === 0 ? (\n\t\t\t\t\t<Empty>\n\t\t\t\t\t\t<EmptyHeader>\n\t\t\t\t\t\t\t<EmptyMedia variant=\"icon\">\n\t\t\t\t\t\t\t\t<FileText className=\"h-8 w-8\" />\n\t\t\t\t\t\t\t</EmptyMedia>\n\t\t\t\t\t\t\t<EmptyTitle>No pages yet</EmptyTitle>\n\t\t\t\t\t\t\t<EmptyDescription>\n\t\t\t\t\t\t\t\tCreate your first page to add content to your store\n\t\t\t\t\t\t\t</EmptyDescription>\n\t\t\t\t\t\t</EmptyHeader>\n\t\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t\t<PolarisButton onClick={handleCreate}>\n\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\tCreate Page\n\t\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t\t</EmptyContent>\n\t\t\t\t\t</Empty>\n\t\t\t\t) : (\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableHead>Title</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Slug</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Type</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Status</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Updated</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Actions</TableHead>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{pages.map((page) => (\n\t\t\t\t\t\t\t\t<TableRow key={page.id}>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">{page.title}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"font-mono text-sm\">\n\t\t\t\t\t\t\t\t\t\t/{page.slug}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">{page.type.replace(\"_\", \" \")}</Badge>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\tvariant={page.isActive ? \"default\" : \"secondary\"}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleToggleActive(page)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{page.isActive ? \"Active\" : \"Draft\"}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{formatDate(page.updatedAt)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-end gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleView(page)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Eye className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(page)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Pencil className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteClick(page)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trash2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)}\n\t\t\t</Card>\n\n\t\t\t{/* View Dialog */}\n\t\t\t<Dialog open={viewDialogOpen} onOpenChange={setViewDialogOpen}>\n\t\t\t\t<DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Page Preview</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>Preview how your page will look</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t{selectedPage && (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<Badge variant={selectedPage.isActive ? \"default\" : \"secondary\"}>\n\t\t\t\t\t\t\t\t\t{selectedPage.isActive ? \"Active\" : \"Draft\"}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t<Badge variant=\"outline\">\n\t\t\t\t\t\t\t\t\t{selectedPage.type.replace(\"_\", \" \")}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t<span className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t/{selectedPage.slug}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h2 className=\"text-2xl font-bold\">{selectedPage.title}</h2>\n\n\t\t\t\t\t\t\t<div className=\"border-t pt-4\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"prose prose-sm dark:prose-invert max-w-none\"\n\t\t\t\t\t\t\t\t\t// biome-ignore lint/security/noDangerouslySetInnerHtml: Rich text content\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: selectedPage.content }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button variant=\"outline\" onClick={() => setViewDialogOpen(false)}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetViewDialogOpen(false);\n\t\t\t\t\t\t\t\tif (selectedPage) handleEdit(selectedPage);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Pencil className=\"h-4 w-4\" />\n\t\t\t\t\t\t\tEdit Page\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t{/* Form Dialog */}\n\t\t\t<Dialog open={formDialogOpen} onOpenChange={setFormDialogOpen}>\n\t\t\t\t<DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t\t{formMode === \"create\" ? \"Create Page\" : \"Edit Page\"}\n\t\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\t{formMode === \"create\"\n\t\t\t\t\t\t\t\t? \"Add a new page to your store\"\n\t\t\t\t\t\t\t\t: \"Update your page content\"}\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label htmlFor=\"title\">Title</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\t\tvalue={formData.title}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t\t\ttitle: e.target.value,\n\t\t\t\t\t\t\t\t\t\tslug:\n\t\t\t\t\t\t\t\t\t\t\tformMode === \"create\"\n\t\t\t\t\t\t\t\t\t\t\t\t? generateSlug(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t: formData.slug,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"Enter page title\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label htmlFor=\"slug\">Slug</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"slug\"\n\t\t\t\t\t\t\t\tvalue={formData.slug}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tsetFormData({ ...formData, slug: e.target.value })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tplaceholder=\"page-url-slug\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label htmlFor=\"type\">Page Type</Label>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={formData.type}\n\t\t\t\t\t\t\t\tonValueChange={(value) =>\n\t\t\t\t\t\t\t\t\tsetFormData({ ...formData, type: value as PageType })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select page type\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t{pageTypes.map((type) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={type.value} value={type.value}>\n\t\t\t\t\t\t\t\t\t\t\t{type.label}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label htmlFor=\"content\">Content</Label>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tid=\"content\"\n\t\t\t\t\t\t\t\tvalue={formData.content}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tsetFormData({ ...formData, content: e.target.value })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tplaceholder=\"Write your page content here...\"\n\t\t\t\t\t\t\t\trows={10}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex items-center justify-between p-4 border rounded-lg\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"active\">Publish immediately</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tMake this page visible on your store\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tid=\"active\"\n\t\t\t\t\t\t\t\tchecked={formData.isActive}\n\t\t\t\t\t\t\t\tonCheckedChange={(checked) =>\n\t\t\t\t\t\t\t\t\tsetFormData({ ...formData, isActive: checked })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button variant=\"outline\" onClick={() => setFormDialogOpen(false)}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton onClick={handleSubmit} disabled={saving}>\n\t\t\t\t\t\t\t{saving\n\t\t\t\t\t\t\t\t? \"Saving...\"\n\t\t\t\t\t\t\t\t: formMode === \"create\"\n\t\t\t\t\t\t\t\t\t? \"Create Page\"\n\t\t\t\t\t\t\t\t\t: \"Save Changes\"}\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t{/* Delete Dialog */}\n\t\t\t<Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Delete Page</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tAre you sure you want to delete &quot;{selectedPage?.title}&quot;?\n\t\t\t\t\t\t\tThis action cannot be undone.\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => setDeleteDialogOpen(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t\tdisabled={deleting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{deleting ? \"Deleting...\" : \"Delete Page\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}