{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/admin/polaris-button.tsx"],"sourcesContent":["import type React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface PolarisButtonProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren: React.ReactNode;\n\tsize?: \"micro\" | \"slim\" | \"medium\" | \"large\";\n\tfullWidth?: boolean;\n\tloading?: boolean;\n\tdisabled?: boolean;\n\ticon?: React.ReactNode;\n}\n\nexport function PolarisButton({\n\tchildren,\n\tsize = \"slim\",\n\tfullWidth = false,\n\tloading = false,\n\tdisabled = false,\n\ticon,\n\tclassName,\n\t...props\n}: PolarisButtonProps) {\n\tconst sizeClasses = {\n\t\tmicro: \"h-7 px-2.5 text-xs\",\n\t\tslim: \"h-9 px-3 text-sm\",\n\t\tmedium: \"h-10 px-4 text-sm\",\n\t\tlarge: \"h-12 px-5 text-base\",\n\t};\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdisabled={disabled || loading}\n\t\t\tclassName={cn(\n\t\t\t\t// Base styles matching Polaris primary button\n\t\t\t\t\"relative inline-flex items-center justify-center gap-2\",\n\t\t\t\t\"font-semibold rounded-[10px] cursor-pointer\",\n\t\t\t\t\"transition-all duration-200 ease-out\",\n\t\t\t\t\"outline-none focus-visible:outline-2 focus-visible:outline-offset-2\",\n\n\t\t\t\t\"border-0\",\n\t\t\t\t\"shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.6),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\n\t\t\t\t\"bg-linear-to-b from-[#4a4a4a] to-[#303030]\",\n\n\t\t\t\t// Text colors from Polaris tokens\n\t\t\t\t\"text-white\",\n\n\t\t\t\t\"hover:before:absolute hover:before:inset-0 hover:before:rounded-[10px] hover:before:bg-black hover:before:opacity-30 hover:before:transition-opacity hover:before:duration-200 hover:before:content-['']\",\n\n\t\t\t\t// Disabled state\n\t\t\t\t\"disabled:bg-linear-to-b disabled:from-[rgba(0,0,0,0.2)] disabled:to-[rgba(0,0,0,0.17)]\",\n\t\t\t\t\"disabled:text-[rgba(255,255,255,0.6)]\",\n\t\t\t\t\"disabled:cursor-not-allowed\",\n\t\t\t\t\"disabled:shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.2),inset_1.5px_0_0_0_rgba(0,0,0,0.2),inset_-1.5px_0_0_0_rgba(0,0,0,0.2),inset_0_-3px_0_0_rgba(0,0,0,0.2)]\",\n\t\t\t\t\"disabled:hover:before:opacity-0\",\n\n\t\t\t\t// Focus state border\n\t\t\t\t\"focus-visible:outline-[#005BD3]\",\n\n\t\t\t\t\"active:shadow-[inset_0_4px_0_0_rgba(0,0,0,0.8),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\t\t\t\t\"active:bg-linear-to-b active:from-[#2a2a2a] active:to-[#1a1a1a]\",\n\t\t\t\t\"active:[&>span:last-child]:translate-y-px\",\n\n\t\t\t\t// Size variants\n\t\t\t\tsizeClasses[size],\n\n\t\t\t\t// Full width\n\t\t\t\tfullWidth && \"w-full\",\n\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<span className=\"absolute inset-0 rounded-[10px] pointer-events-none shadow-[inset_0_3px_0_0_rgba(255,255,255,0.2),inset_1.5px_0_0_0_rgba(255,255,255,0.1),inset_-1.5px_0_0_0_rgba(255,255,255,0.1)] active:opacity-0 transition-opacity duration-200\" />\n\n\t\t\t<span className=\"relative flex items-center justify-center gap-2 transition-transform duration-200\">\n\t\t\t\t{loading ? (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"animate-spin size-4\"\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<title>Loading</title>\n\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\tclassName=\"opacity-25\"\n\t\t\t\t\t\t\tcx=\"12\"\n\t\t\t\t\t\t\tcy=\"12\"\n\t\t\t\t\t\t\tr=\"10\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tclassName=\"opacity-75\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t) : (\n\t\t\t\t\ticon && <span className=\"shrink-0\">{icon}</span>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</span>\n\t\t</button>\n\t);\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAYO,SAAS,cAAc,EAC7B,QAAQ,EACR,OAAO,MAAM,EACb,YAAY,KAAK,EACjB,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,IAAI,EACJ,SAAS,EACT,GAAG,OACiB;IACpB,MAAM,cAAc;QACnB,OAAO;QACP,MAAM;QACN,QAAQ;QACR,OAAO;IACR;IAEA,qBACC,6LAAC;QACA,MAAK;QACL,UAAU,YAAY;QACtB,WAAW,IAAA,gJAAE,EACZ,8CAA8C;QAC9C,0DACA,+CACA,wCACA,uEAEA,YACA,oJAEA,8CAEA,kCAAkC;QAClC,cAEA,4MAEA,iBAAiB;QACjB,0FACA,yCACA,+BACA,6JACA,mCAEA,qBAAqB;QACrB,mCAEA,yJACA,mEACA,6CAEA,gBAAgB;QAChB,WAAW,CAAC,KAAK,EAEjB,aAAa;QACb,aAAa,UAEb;QAEA,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;;;;;;0BAEhB,6LAAC;gBAAK,WAAU;;oBACd,wBACA,6LAAC;wBACA,WAAU;wBACV,OAAM;wBACN,MAAK;wBACL,SAAQ;;0CAER,6LAAC;0CAAM;;;;;;0CACP,6LAAC;gCACA,WAAU;gCACV,IAAG;gCACH,IAAG;gCACH,GAAE;gCACF,QAAO;gCACP,aAAY;;;;;;0CAEb,6LAAC;gCACA,WAAU;gCACV,MAAK;gCACL,GAAE;;;;;;;;;;;+BAIJ,sBAAQ,6LAAC;wBAAK,WAAU;kCAAY;;;;;;oBAEpC;;;;;;;;;;;;;AAIL;KA9FgB"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/input.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define input size variants\nconst inputVariants = cva(\n\t`\n    flex w-full bg-background border border-input shadow-xs shadow-black/5 transition-[color,box-shadow] text-foreground placeholder:text-muted-foreground/80 \n    focus-visible:ring-ring/30  focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px]     \n    disabled:cursor-not-allowed disabled:opacity-60 \n    [&[readonly]]:bg-muted/80 [&[readonly]]:cursor-not-allowed\n    file:h-full [&[type=file]]:py-0 file:border-solid file:border-input file:bg-transparent \n    file:font-medium file:not-italic file:text-foreground file:p-0 file:border-0 file:border-e\n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tlg: \"h-10 px-4 text-sm rounded-md file:pe-4 file:me-4\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) rounded-md file:pe-3 file:me-3\",\n\t\t\t\tsm: \"h-7 px-2.5 text-xs rounded-md file:pe-2.5 file:me-2.5\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nconst inputAddonVariants = cva(\n\t\"flex items-center shrink-0 justify-center bg-muted border border-input shadow-xs shadow-[rgba(0,0,0,0.05)] text-secondary-foreground\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"rounded-md h-7 min-w-7 text-xs px-2.5 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"rounded-md h-8.5 min-w-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t\tlg: \"rounded-md h-10 min-w-10 px-4 text-sm [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t},\n\t\t\tmode: {\n\t\t\t\tdefault: \"\",\n\t\t\t\ticon: \"px-0 justify-center\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t\tmode: \"default\",\n\t\t},\n\t},\n);\n\nconst inputGroupVariants = cva(\n\t`\n    flex items-stretch\n    [&_[data-slot=input]]:grow\n    [&_[data-slot=input-addon]:has(+[data-slot=input])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=input])]:border-e-0\n    [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:border-e-0 \n    [&_[data-slot=input]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=input]+[data-slot=input-addon]]:border-s-0\n    [&_[data-slot=input-addon]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]+[data-slot=button]]:rounded-s-none\n    [&_[data-slot=button]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=datefield]]:[&_[data-slot=input]]:rounded-s-none\n    [&_[data-slot=datefield]:has(+[data-slot=input-addon])]:[&_[data-slot=input]]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=input-addon])]:rounded-e-none\n    [&_[data-slot=datefield]]:grow\n    [&_[data-slot=datefield]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=datefield]+[data-slot=input-addon]]:border-s-0\n  `,\n\t{\n\t\tvariants: {},\n\t\tdefaultVariants: {},\n\t},\n);\n\nconst inputWrapperVariants = cva(\n\t`\n    flex items-center gap-1.5\n    has-[:focus-visible]:ring-ring/30 \n    has-[:focus-visible]:border-ring\n    has-[:focus-visible]:outline-none \n    has-[:focus-visible]:ring-[3px]\n\n    [&_[data-slot=datefield]]:grow \n    [&_[data-slot=input]]:data-focus-within:ring-transparent  \n    [&_[data-slot=input]]:data-focus-within:ring-0 \n    [&_[data-slot=input]]:data-focus-within:border-0 \n    [&_[data-slot=input]]:flex \n    [&_[data-slot=input]]:w-full \n    [&_[data-slot=input]]:outline-none \n    [&_[data-slot=input]]:transition-colors \n    [&_[data-slot=input]]:text-foreground\n    [&_[data-slot=input]]:placeholder:text-muted-foreground \n    [&_[data-slot=input]]:border-0 \n    [&_[data-slot=input]]:bg-transparent \n    [&_[data-slot=input]]:p-0\n    [&_[data-slot=input]]:shadow-none \n    [&_[data-slot=input]]:focus-visible:ring-0 \n    [&_[data-slot=input]]:h-auto \n    [&_[data-slot=input]]:disabled:cursor-not-allowed\n    [&_[data-slot=input]]:disabled:opacity-50    \n\n    has-[[aria-invalid=true]]:border-destructive/60 \n    has-[[aria-invalid=true]]:ring-destructive/10 \n    dark:has-[[aria-invalid=true]]:border-destructive \n    dark:has-[[aria-invalid=true]]:ring-destructive/20    \n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"gap-1.25 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t\tlg: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nfunction Input({\n\tclassName,\n\ttype,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"input\"> & VariantProps<typeof inputVariants>) {\n\treturn (\n\t\t<input\n\t\t\tdata-slot=\"input\"\n\t\t\ttype={type}\n\t\t\tclassName={cn(inputVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputAddon({\n\tclassName,\n\tvariant,\n\tmode,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputAddonVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-addon\"\n\t\t\tclassName={cn(inputAddonVariants({ variant, mode }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputGroup({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-group\"\n\t\t\tclassName={cn(inputGroupVariants(), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputWrapper({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputWrapperVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-wrapper\"\n\t\t\tclassName={cn(\n\t\t\t\tinputVariants({ variant }),\n\t\t\t\tinputWrapperVariants({ variant }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tInput,\n\tInputAddon,\n\tInputGroup,\n\tInputWrapper,\n\tinputVariants,\n\tinputAddonVariants,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,IAAA,0KAAG,EACxB,CAAC;;;;;;;;EAQA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,wIACA;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;QACA,MAAM;YACL,SAAS;YACT,MAAM;QACP;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,CAAC;;;;;;;;;;;;;;;;EAgBA,CAAC,EACF;IACC,UAAU,CAAC;IACX,iBAAiB,CAAC;AACnB;AAGD,MAAM,uBAAuB,IAAA,0KAAG,EAC/B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,IAAI,EACJ,OAAO,EACP,GAAG,OACiE;IACpE,qBACC,6LAAC;QACA,aAAU;QACV,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAdS;AAgBT,SAAS,WAAW,EACnB,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;YAAE;YAAS;QAAK,IAAI;QACpD,GAAG,KAAK;;;;;;AAGZ;MAbS;AAeT,SAAS,WAAW,EACnB,SAAS,EACT,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGZ;MAXS;AAaT,SAAS,aAAa,EACrB,SAAS,EACT,OAAO,EACP,GAAG,OACsE;IACzE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EACZ,cAAc;YAAE;QAAQ,IACxB,qBAAqB;YAAE;QAAQ,IAC/B;QAEA,GAAG,KAAK;;;;;;AAGZ;MAhBS"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<\n\tHTMLTableElement,\n\tReact.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n\t<div className=\"relative w-full overflow-auto\">\n\t\t<table\n\t\t\tref={ref}\n\t\t\tclassName={cn(\"w-full caption-bottom text-sm\", className)}\n\t\t\t{...props}\n\t\t/>\n\t</div>\n));\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n));\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tbody\n\t\tref={ref}\n\t\tclassName={cn(\"[&_tr:last-child]:border-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tfoot\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<\n\tHTMLTableRowElement,\n\tReact.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n\t<tr\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<th\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<td\n\t\tref={ref}\n\t\tclassName={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<\n\tHTMLTableCaptionElement,\n\tReact.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n\t<caption\n\t\tref={ref}\n\t\tclassName={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nTableCaption.displayName = \"TableCaption\";\n\nexport {\n\tTable,\n\tTableHeader,\n\tTableBody,\n\tTableFooter,\n\tTableHead,\n\tTableRow,\n\tTableCell,\n\tTableCaption,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC;YACA,KAAK;YACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIZ,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAExE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,2DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,+EACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,oGACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGX,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/products.ts"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport {\n\ttype CreateProductInput,\n\tCreateProductSchema,\n\ttype ProductFilterInput,\n\tProductFilterSchema,\n\ttype UpdateProductInput,\n\tUpdateProductSchema,\n} from \"@/schemas/product\";\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { cleanupProductMedia } from \"@/server/services/media-cleanup\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\n// Helper to check access and get tenant context for admin operations\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\t// Get tenant context (from user's store membership)\n\tconst tenant = await requireAdminTenant();\n\n\t// Verify user has access to this tenant\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get products with filters\nexport async function getProducts(filters?: ProductFilterInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedFilters = filters\n\t\t? ProductFilterSchema.parse(filters)\n\t\t: { page: 1, pageSize: 20 };\n\n\tconst {\n\t\tpage,\n\t\tpageSize,\n\t\tsearch,\n\t\tstatus,\n\t\tcategoryIds,\n\t\tbrandIds,\n\t\tstockStatus,\n\t\tpriceMin,\n\t\tpriceMax,\n\t\tsortBy,\n\t} = validatedFilters;\n\n\tconst where: Record<string, unknown> = {\n\t\ttenantId, // Filter by current tenant\n\t\tdeletedAt: null, // Only active products\n\t};\n\n\t// Search\n\tif (search) {\n\t\twhere.OR = [\n\t\t\t{ sku: { contains: search, mode: \"insensitive\" } },\n\t\t\t{\n\t\t\t\ttranslations: {\n\t\t\t\t\tsome: { name: { contains: search, mode: \"insensitive\" } },\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\t// Status filter\n\tif (status && status.length > 0) {\n\t\twhere.status = { in: status };\n\t}\n\n\t// Category filter\n\tif (categoryIds && categoryIds.length > 0) {\n\t\twhere.categoryId = { in: categoryIds };\n\t}\n\n\t// Brand filter\n\tif (brandIds && brandIds.length > 0) {\n\t\twhere.brandId = { in: brandIds };\n\t}\n\n\t// Stock status filter\n\tif (stockStatus) {\n\t\tswitch (stockStatus) {\n\t\t\tcase \"in_stock\":\n\t\t\t\twhere.OR = [{ trackStock: false }, { stock: { gt: 10 } }];\n\t\t\t\tbreak;\n\t\t\tcase \"low_stock\":\n\t\t\t\twhere.trackStock = true;\n\t\t\t\twhere.stock = { gt: 0, lte: 10 };\n\t\t\t\tbreak;\n\t\t\tcase \"out_of_stock\":\n\t\t\t\twhere.trackStock = true;\n\t\t\t\twhere.stock = 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Price filter\n\tif (priceMin !== undefined || priceMax !== undefined) {\n\t\twhere.price = {};\n\t\tif (priceMin !== undefined) {\n\t\t\t(where.price as Record<string, number>).gte = priceMin;\n\t\t}\n\t\tif (priceMax !== undefined) {\n\t\t\t(where.price as Record<string, number>).lte = priceMax;\n\t\t}\n\t}\n\n\t// Sorting\n\tconst orderBy: Record<string, string>[] = [];\n\tif (sortBy) {\n\t\tswitch (sortBy) {\n\t\t\tcase \"name_asc\":\n\t\t\tcase \"name_desc\":\n\t\t\t\t// For name sorting, we need to sort by translation\n\t\t\t\t// This is a workaround - ideally we'd join and sort\n\t\t\t\tbreak;\n\t\t\tcase \"price_asc\":\n\t\t\t\torderBy.push({ price: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"price_desc\":\n\t\t\t\torderBy.push({ price: \"desc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"created_asc\":\n\t\t\t\torderBy.push({ createdAt: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"created_desc\":\n\t\t\t\torderBy.push({ createdAt: \"desc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"stock_asc\":\n\t\t\t\torderBy.push({ stock: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"stock_desc\":\n\t\t\t\torderBy.push({ stock: \"desc\" });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (orderBy.length === 0) {\n\t\torderBy.push({ createdAt: \"desc\" });\n\t}\n\n\tconst [products, total] = await Promise.all([\n\t\tdb.product.findMany({\n\t\t\twhere,\n\t\t\torderBy,\n\t\t\tskip: (page - 1) * pageSize,\n\t\t\ttake: pageSize,\n\t\t\tinclude: {\n\t\t\t\tcategory: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbrand: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttranslations: {\n\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\ttake: 1,\n\t\t\t\t},\n\t\t\t\tmedia: {\n\t\t\t\t\torderBy: { order: \"asc\" },\n\t\t\t\t\ttake: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\tdb.product.count({ where }),\n\t]);\n\n\treturn {\n\t\tproducts: products.map((p) => ({\n\t\t\tid: p.id,\n\t\t\tslug: p.slug,\n\t\t\tstatus: p.status,\n\t\t\tprice: p.price,\n\t\t\tcompareAtPrice: p.compareAtPrice,\n\t\t\tsku: p.sku,\n\t\t\ttrackStock: p.trackStock,\n\t\t\tstock: p.stock,\n\t\t\tname: p.translations[0]?.name ?? \"Untitled\",\n\t\t\tdescription: p.translations[0]?.description,\n\t\t\tcategoryId: p.categoryId,\n\t\t\tcategoryName: p.category?.translations[0]?.name ?? \"Uncategorized\",\n\t\t\tbrandId: p.brandId,\n\t\t\tbrandName: p.brand?.translations[0]?.name,\n\t\t\timageUrl: p.media[0]?.url,\n\t\t\tcreatedAt: p.createdAt,\n\t\t\tupdatedAt: p.updatedAt,\n\t\t})),\n\t\tpagination: {\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\ttotal,\n\t\t\ttotalPages: Math.ceil(total / pageSize),\n\t\t},\n\t};\n}\n\n// Get single product by ID\nexport async function getProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t\tmedia: { orderBy: { order: \"asc\" } },\n\t\t\tvariants: {\n\t\t\t\tinclude: {\n\t\t\t\t\toptionMeta: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\tshippingInfo: true,\n\t\t\tcollectionProducts: {\n\t\t\t\tinclude: {\n\t\t\t\t\tcollection: {\n\t\t\t\t\t\tinclude: {\n\t\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tconst englishTranslation = product.translations.find(\n\t\t(t: { localeId: string }) => t.localeId === \"en\",\n\t);\n\n\treturn {\n\t\tid: product.id,\n\t\tslug: product.slug,\n\t\tstatus: product.status,\n\t\tcategoryId: product.categoryId,\n\t\tbrandId: product.brandId,\n\t\tprice: product.price,\n\t\tcompareAtPrice: product.compareAtPrice,\n\t\tcostPerItem: product.costPerItem,\n\t\tsku: product.sku,\n\t\ttrackStock: product.trackStock,\n\t\tstock: product.stock,\n\t\tlowStockThreshold: product.lowStockThreshold,\n\t\tpurchaseType: product.purchaseType,\n\t\tsubscriptionDiscountPercent: product.subscriptionDiscountPercent,\n\t\tsubscriptionIntervals: product.subscriptionIntervals,\n\t\tpreOrderReleaseDate: product.preOrderReleaseDate,\n\t\tpreOrderDepositPercent: product.preOrderDepositPercent,\n\t\tunitPriceAmount: product.unitPriceAmount,\n\t\tunitPriceMeasurement: product.unitPriceMeasurement,\n\t\tunitPriceBaseAmount: product.unitPriceBaseAmount,\n\t\tunitPriceBaseMeasurement: product.unitPriceBaseMeasurement,\n\t\tname: englishTranslation?.name ?? \"\",\n\t\tdescription: englishTranslation?.description ?? \"\",\n\t\tmedia: product.media.map(\n\t\t\t(m: {\n\t\t\t\tid: string;\n\t\t\t\turl: string;\n\t\t\t\tmediaType: string;\n\t\t\t\taltText: string | null;\n\t\t\t\torder: number;\n\t\t\t}) => ({\n\t\t\t\tid: m.id,\n\t\t\t\turl: m.url,\n\t\t\t\tmediaType: m.mediaType,\n\t\t\t\taltText: m.altText,\n\t\t\t\torder: m.order,\n\t\t\t}),\n\t\t),\n\t\tvariants: product.variants.map(\n\t\t\t(v: {\n\t\t\t\tid: string;\n\t\t\t\tsku: string | null;\n\t\t\t\tprice: unknown;\n\t\t\t\tpriceAdjustment: unknown;\n\t\t\t\tstock: number | null;\n\t\t\t\timageUrl: string | null;\n\t\t\t\toptions: unknown;\n\t\t\t\toptionMeta: unknown[];\n\t\t\t}) => ({\n\t\t\t\tid: v.id,\n\t\t\t\tsku: v.sku,\n\t\t\t\tprice: v.price,\n\t\t\t\tpriceAdjustment: v.priceAdjustment,\n\t\t\t\tstock: v.stock,\n\t\t\t\timageUrl: v.imageUrl,\n\t\t\t\toptions: v.options as Record<string, string>,\n\t\t\t\toptionMeta: v.optionMeta,\n\t\t\t}),\n\t\t),\n\t\tshippingInfo: product.shippingInfo\n\t\t\t? {\n\t\t\t\t\tpackageType: product.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: product.shippingInfo.packagingWeightKg,\n\t\t\t\t\tpackagingLengthCm: product.shippingInfo.packagingLengthCm,\n\t\t\t\t\tpackagingWidthCm: product.shippingInfo.packagingWidthCm,\n\t\t\t\t\tpackagingHeightCm: product.shippingInfo.packagingHeightCm,\n\t\t\t\t\tproductWeightKg: product.shippingInfo.productWeightKg,\n\t\t\t\t\tproductLengthCm: product.shippingInfo.productLengthCm,\n\t\t\t\t\tproductWidthCm: product.shippingInfo.productWidthCm,\n\t\t\t\t\tproductHeightCm: product.shippingInfo.productHeightCm,\n\t\t\t\t}\n\t\t\t: null,\n\t\tseo: {\n\t\t\tmetaTitle: englishTranslation?.metaTitle,\n\t\t\tmetaDescription: englishTranslation?.metaDescription,\n\t\t\tslug: product.slug,\n\t\t},\n\t\tcollectionIds: product.collectionProducts.map(\n\t\t\t(c: { collectionId: string }) => c.collectionId,\n\t\t),\n\t};\n}\n\n// Create product\nexport async function createProduct(input: CreateProductInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedInput = CreateProductSchema.parse(input);\n\n\tconst product = await db.$transaction(async (tx) => {\n\t\t// Create the product\n\t\tconst newProduct = await tx.product.create({\n\t\t\tdata: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: validatedInput.slug,\n\t\t\t\tstatus: validatedInput.status,\n\t\t\t\tcategoryId: validatedInput.categoryId,\n\t\t\t\tbrandId: validatedInput.brandId || null,\n\t\t\t\tprice: validatedInput.price,\n\t\t\t\tcompareAtPrice: validatedInput.compareAtPrice,\n\t\t\t\tcostPerItem: validatedInput.costPerItem,\n\t\t\t\tsku: validatedInput.sku,\n\t\t\t\ttrackStock: validatedInput.trackStock,\n\t\t\t\tstock: validatedInput.stock,\n\t\t\t\tlowStockThreshold: validatedInput.lowStockThreshold,\n\t\t\t\t// Purchase options\n\t\t\t\tpurchaseType: validatedInput.purchaseOptions?.type ?? \"ONE_TIME\",\n\t\t\t\tsubscriptionDiscountPercent:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.subscriptionDiscount,\n\t\t\t\tsubscriptionIntervals:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.subscriptionIntervals ?? [],\n\t\t\t\tpreOrderReleaseDate:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.preOrderReleaseDate,\n\t\t\t\tpreOrderDepositPercent:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.preOrderDepositPercent,\n\t\t\t\t// Unit pricing\n\t\t\t\tunitPriceAmount: validatedInput.unitPrice?.unitPriceAmount,\n\t\t\t\tunitPriceMeasurement: validatedInput.unitPrice?.unitPriceMeasurement,\n\t\t\t\tunitPriceBaseAmount: validatedInput.unitPrice?.unitPriceBaseAmount,\n\t\t\t\tunitPriceBaseMeasurement:\n\t\t\t\t\tvalidatedInput.unitPrice?.unitPriceBaseMeasurement,\n\t\t\t},\n\t\t});\n\n\t\t// Create translation (English by default)\n\t\tawait tx.productTranslation.create({\n\t\t\tdata: {\n\t\t\t\tproductId: newProduct.id,\n\t\t\t\tlocaleId: \"en\",\n\t\t\t\tname: validatedInput.name,\n\t\t\t\tdescription: validatedInput.description,\n\t\t\t\tmetaTitle: validatedInput.seo?.metaTitle,\n\t\t\t\tmetaDescription: validatedInput.seo?.metaDescription,\n\t\t\t},\n\t\t});\n\n\t\t// Create media\n\t\tif (validatedInput.media && validatedInput.media.length > 0) {\n\t\t\tawait tx.productMedia.createMany({\n\t\t\t\tdata: validatedInput.media.map((m, index) => ({\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\turl: m.url,\n\t\t\t\t\tmediaType: m.mediaType,\n\t\t\t\t\taltText: m.altText,\n\t\t\t\t\torder: m.order ?? index,\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\t// Create variants\n\t\tif (validatedInput.variants && validatedInput.variants.length > 0) {\n\t\t\tfor (const variant of validatedInput.variants) {\n\t\t\t\tconst createdVariant = await tx.productVariant.create({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\tpriceAdjustment: variant.priceAdjustment ?? 0,\n\t\t\t\t\t\tstock: variant.stock,\n\t\t\t\t\t\timageUrl: variant.imageUrl,\n\t\t\t\t\t\toptions: variant.options,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t// Create variant option meta (for colors)\n\t\t\t\tif (variant.optionMeta && variant.optionMeta.length > 0) {\n\t\t\t\t\tawait tx.variantOptionMeta.createMany({\n\t\t\t\t\t\tdata: variant.optionMeta.map((meta) => ({\n\t\t\t\t\t\t\tvariantId: createdVariant.id,\n\t\t\t\t\t\t\toptionName: meta.optionName,\n\t\t\t\t\t\t\thexColor: meta.hexColor,\n\t\t\t\t\t\t})),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create shipping info\n\t\tif (validatedInput.shippingInfo) {\n\t\t\tawait tx.productShippingInfo.create({\n\t\t\t\tdata: {\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Link to collections\n\t\tif (\n\t\t\tvalidatedInput.collectionIds &&\n\t\t\tvalidatedInput.collectionIds.length > 0\n\t\t) {\n\t\t\tawait tx.collectionProduct.createMany({\n\t\t\t\tdata: validatedInput.collectionIds.map((collectionId) => ({\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\tcollectionId,\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\treturn newProduct;\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\n\treturn { success: true, productId: product.id };\n}\n\n// Update product\nexport async function updateProduct(input: UpdateProductInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedInput = UpdateProductSchema.parse(input);\n\n\t// Verify product belongs to tenant\n\tconst existingProduct = await db.product.findFirst({\n\t\twhere: { id: validatedInput.id, tenantId },\n\t});\n\tif (!existingProduct) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.$transaction(async (tx) => {\n\t\t// Update the main product\n\t\tawait tx.product.update({\n\t\t\twhere: { id: validatedInput.id },\n\t\t\tdata: {\n\t\t\t\t...(validatedInput.slug && { slug: validatedInput.slug }),\n\t\t\t\t...(validatedInput.status && { status: validatedInput.status }),\n\t\t\t\t...(validatedInput.categoryId && {\n\t\t\t\t\tcategoryId: validatedInput.categoryId,\n\t\t\t\t}),\n\t\t\t\tbrandId: validatedInput.brandId || null,\n\t\t\t\t...(validatedInput.price !== undefined && {\n\t\t\t\t\tprice: validatedInput.price,\n\t\t\t\t}),\n\t\t\t\tcompareAtPrice: validatedInput.compareAtPrice,\n\t\t\t\tcostPerItem: validatedInput.costPerItem,\n\t\t\t\tsku: validatedInput.sku,\n\t\t\t\ttrackStock: validatedInput.trackStock,\n\t\t\t\tstock: validatedInput.stock,\n\t\t\t\tlowStockThreshold: validatedInput.lowStockThreshold,\n\t\t\t\t// Purchase options\n\t\t\t\t...(validatedInput.purchaseOptions && {\n\t\t\t\t\tpurchaseType: validatedInput.purchaseOptions.type,\n\t\t\t\t\tsubscriptionDiscountPercent:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.subscriptionDiscount,\n\t\t\t\t\tsubscriptionIntervals:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.subscriptionIntervals ?? [],\n\t\t\t\t\tpreOrderReleaseDate:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.preOrderReleaseDate,\n\t\t\t\t\tpreOrderDepositPercent:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.preOrderDepositPercent,\n\t\t\t\t}),\n\t\t\t\t// Unit pricing\n\t\t\t\t...(validatedInput.unitPrice && {\n\t\t\t\t\tunitPriceAmount: validatedInput.unitPrice.unitPriceAmount,\n\t\t\t\t\tunitPriceMeasurement: validatedInput.unitPrice.unitPriceMeasurement,\n\t\t\t\t\tunitPriceBaseAmount: validatedInput.unitPrice.unitPriceBaseAmount,\n\t\t\t\t\tunitPriceBaseMeasurement:\n\t\t\t\t\t\tvalidatedInput.unitPrice.unitPriceBaseMeasurement,\n\t\t\t\t}),\n\t\t\t},\n\t\t});\n\n\t\t// Update translation\n\t\tif (\n\t\t\tvalidatedInput.name ||\n\t\t\tvalidatedInput.description ||\n\t\t\tvalidatedInput.seo\n\t\t) {\n\t\t\tawait tx.productTranslation.upsert({\n\t\t\t\twhere: {\n\t\t\t\t\tproductId_localeId: {\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tlocaleId: \"en\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\t...(validatedInput.name && { name: validatedInput.name }),\n\t\t\t\t\t...(validatedInput.description !== undefined && {\n\t\t\t\t\t\tdescription: validatedInput.description,\n\t\t\t\t\t}),\n\t\t\t\t\t...(validatedInput.seo?.metaTitle !== undefined && {\n\t\t\t\t\t\tmetaTitle: validatedInput.seo.metaTitle,\n\t\t\t\t\t}),\n\t\t\t\t\t...(validatedInput.seo?.metaDescription !== undefined && {\n\t\t\t\t\t\tmetaDescription: validatedInput.seo.metaDescription,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tcreate: {\n\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\tlocaleId: \"en\",\n\t\t\t\t\tname: validatedInput.name ?? \"Untitled\",\n\t\t\t\t\tdescription: validatedInput.description,\n\t\t\t\t\tmetaTitle: validatedInput.seo?.metaTitle,\n\t\t\t\t\tmetaDescription: validatedInput.seo?.metaDescription,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Update media (replace all)\n\t\tif (validatedInput.media) {\n\t\t\tawait tx.productMedia.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\tif (validatedInput.media.length > 0) {\n\t\t\t\tawait tx.productMedia.createMany({\n\t\t\t\t\tdata: validatedInput.media.map((m, index) => ({\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\turl: m.url,\n\t\t\t\t\t\tmediaType: m.mediaType,\n\t\t\t\t\t\taltText: m.altText,\n\t\t\t\t\t\torder: m.order ?? index,\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Update variants (replace all)\n\t\tif (validatedInput.variants) {\n\t\t\t// Delete existing variants and their meta\n\t\t\tconst existingVariants = await tx.productVariant.findMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t\tselect: { id: true },\n\t\t\t});\n\n\t\t\tfor (const v of existingVariants) {\n\t\t\t\tawait tx.variantOptionMeta.deleteMany({ where: { variantId: v.id } });\n\t\t\t}\n\n\t\t\tawait tx.productVariant.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\t// Create new variants\n\t\t\tfor (const variant of validatedInput.variants) {\n\t\t\t\tconst createdVariant = await tx.productVariant.create({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\tpriceAdjustment: variant.priceAdjustment ?? 0,\n\t\t\t\t\t\tstock: variant.stock,\n\t\t\t\t\t\timageUrl: variant.imageUrl,\n\t\t\t\t\t\toptions: variant.options,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tif (variant.optionMeta && variant.optionMeta.length > 0) {\n\t\t\t\t\tawait tx.variantOptionMeta.createMany({\n\t\t\t\t\t\tdata: variant.optionMeta.map((meta) => ({\n\t\t\t\t\t\t\tvariantId: createdVariant.id,\n\t\t\t\t\t\t\toptionName: meta.optionName,\n\t\t\t\t\t\t\thexColor: meta.hexColor,\n\t\t\t\t\t\t})),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Update shipping info\n\t\tif (validatedInput.shippingInfo) {\n\t\t\tawait tx.productShippingInfo.upsert({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t\tupdate: {\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t\tcreate: {\n\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Update collection links\n\t\tif (validatedInput.collectionIds) {\n\t\t\tawait tx.collectionProduct.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\tif (validatedInput.collectionIds.length > 0) {\n\t\t\t\tawait tx.collectionProduct.createMany({\n\t\t\t\t\tdata: validatedInput.collectionIds.map((collectionId) => ({\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tcollectionId,\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(`/admin/products/${validatedInput.id}/edit`);\n\n\treturn { success: true };\n}\n\n// Soft delete product (move to trash)\nexport async function deleteProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.product.update({\n\t\twhere: { id: productId },\n\t\tdata: { deletedAt: new Date() },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Restore product from trash\nexport async function restoreProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.product.update({\n\t\twhere: { id: productId },\n\t\tdata: { deletedAt: null },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Bulk restore products\nexport async function restoreProducts(productIds: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.product.updateMany({\n\t\twhere: { id: { in: productIds }, tenantId },\n\t\tdata: { deletedAt: null },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Permanently delete product\nexport async function permanentlyDeleteProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant and get media for cleanup\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t\tinclude: {\n\t\t\tmedia: {\n\t\t\t\tselect: { url: true },\n\t\t\t},\n\t\t},\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\t// Collect media URLs for cleanup\n\tconst mediaUrls = product.media.map((m) => m.url);\n\n\tawait db.$transaction(async (tx) => {\n\t\t// Delete related data\n\t\tconst variants = await tx.productVariant.findMany({\n\t\t\twhere: { productId },\n\t\t\tselect: { id: true },\n\t\t});\n\n\t\tfor (const v of variants) {\n\t\t\tawait tx.variantOptionMeta.deleteMany({ where: { variantId: v.id } });\n\t\t}\n\n\t\tawait tx.productVariant.deleteMany({ where: { productId } });\n\t\tawait tx.productMedia.deleteMany({ where: { productId } });\n\t\tawait tx.productShippingInfo.deleteMany({ where: { productId } });\n\t\tawait tx.productTranslation.deleteMany({ where: { productId } });\n\t\tawait tx.collectionProduct.deleteMany({ where: { productId } });\n\n\t\t// Finally delete the product\n\t\tawait tx.product.delete({ where: { id: productId } });\n\t});\n\n\t// Cleanup media files from R2 (after DB deletion)\n\tif (mediaUrls.length > 0) {\n\t\tawait cleanupProductMedia(mediaUrls, tenantId);\n\t}\n\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Bulk permanently delete products\nexport async function permanentlyDeleteProducts(productIds: string[]) {\n\tawait requireStoreAccess(); // Verify access, individual deletes check ownership\n\n\tfor (const productId of productIds) {\n\t\tawait permanentlyDeleteProduct(productId);\n\t}\n\n\treturn { success: true };\n}\n\n// Get trashed products\nexport async function getTrashedProducts() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst products = await db.product.findMany({\n\t\twhere: {\n\t\t\ttenantId,\n\t\t\tdeletedAt: { not: null },\n\t\t},\n\t\torderBy: { deletedAt: \"desc\" },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\ttake: 1,\n\t\t\t},\n\t\t\tmedia: {\n\t\t\t\torderBy: { order: \"asc\" },\n\t\t\t\ttake: 1,\n\t\t\t},\n\t\t},\n\t});\n\n\treturn products.map((p) => ({\n\t\tid: p.id,\n\t\tname: p.translations[0]?.name ?? \"Untitled\",\n\t\tsku: p.sku,\n\t\tprice: p.price,\n\t\tdeletedAt: p.deletedAt ?? new Date(),\n\t\timageUrl: p.media[0]?.url ?? null,\n\t}));\n}\n\n// Clean up old trashed products (called by cron job)\nexport async function cleanupTrashedProducts(retentionDays = 30) {\n\t// This function should be called by a cron job\n\t// Don't require admin - it runs as a system task\n\n\tconst cutoffDate = new Date();\n\tcutoffDate.setDate(cutoffDate.getDate() - retentionDays);\n\n\tconst oldProducts = await db.product.findMany({\n\t\twhere: {\n\t\t\tdeletedAt: { lte: cutoffDate },\n\t\t},\n\t\tselect: { id: true },\n\t});\n\n\tfor (const product of oldProducts) {\n\t\tawait permanentlyDeleteProduct(product.id);\n\t}\n\n\treturn { deleted: oldProducts.length };\n}\n"],"names":[],"mappings":";;;;;;;MAgrBsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/products.ts"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport {\n\ttype CreateProductInput,\n\tCreateProductSchema,\n\ttype ProductFilterInput,\n\tProductFilterSchema,\n\ttype UpdateProductInput,\n\tUpdateProductSchema,\n} from \"@/schemas/product\";\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { cleanupProductMedia } from \"@/server/services/media-cleanup\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\n// Helper to check access and get tenant context for admin operations\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\t// Get tenant context (from user's store membership)\n\tconst tenant = await requireAdminTenant();\n\n\t// Verify user has access to this tenant\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\n// Get products with filters\nexport async function getProducts(filters?: ProductFilterInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedFilters = filters\n\t\t? ProductFilterSchema.parse(filters)\n\t\t: { page: 1, pageSize: 20 };\n\n\tconst {\n\t\tpage,\n\t\tpageSize,\n\t\tsearch,\n\t\tstatus,\n\t\tcategoryIds,\n\t\tbrandIds,\n\t\tstockStatus,\n\t\tpriceMin,\n\t\tpriceMax,\n\t\tsortBy,\n\t} = validatedFilters;\n\n\tconst where: Record<string, unknown> = {\n\t\ttenantId, // Filter by current tenant\n\t\tdeletedAt: null, // Only active products\n\t};\n\n\t// Search\n\tif (search) {\n\t\twhere.OR = [\n\t\t\t{ sku: { contains: search, mode: \"insensitive\" } },\n\t\t\t{\n\t\t\t\ttranslations: {\n\t\t\t\t\tsome: { name: { contains: search, mode: \"insensitive\" } },\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\t// Status filter\n\tif (status && status.length > 0) {\n\t\twhere.status = { in: status };\n\t}\n\n\t// Category filter\n\tif (categoryIds && categoryIds.length > 0) {\n\t\twhere.categoryId = { in: categoryIds };\n\t}\n\n\t// Brand filter\n\tif (brandIds && brandIds.length > 0) {\n\t\twhere.brandId = { in: brandIds };\n\t}\n\n\t// Stock status filter\n\tif (stockStatus) {\n\t\tswitch (stockStatus) {\n\t\t\tcase \"in_stock\":\n\t\t\t\twhere.OR = [{ trackStock: false }, { stock: { gt: 10 } }];\n\t\t\t\tbreak;\n\t\t\tcase \"low_stock\":\n\t\t\t\twhere.trackStock = true;\n\t\t\t\twhere.stock = { gt: 0, lte: 10 };\n\t\t\t\tbreak;\n\t\t\tcase \"out_of_stock\":\n\t\t\t\twhere.trackStock = true;\n\t\t\t\twhere.stock = 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Price filter\n\tif (priceMin !== undefined || priceMax !== undefined) {\n\t\twhere.price = {};\n\t\tif (priceMin !== undefined) {\n\t\t\t(where.price as Record<string, number>).gte = priceMin;\n\t\t}\n\t\tif (priceMax !== undefined) {\n\t\t\t(where.price as Record<string, number>).lte = priceMax;\n\t\t}\n\t}\n\n\t// Sorting\n\tconst orderBy: Record<string, string>[] = [];\n\tif (sortBy) {\n\t\tswitch (sortBy) {\n\t\t\tcase \"name_asc\":\n\t\t\tcase \"name_desc\":\n\t\t\t\t// For name sorting, we need to sort by translation\n\t\t\t\t// This is a workaround - ideally we'd join and sort\n\t\t\t\tbreak;\n\t\t\tcase \"price_asc\":\n\t\t\t\torderBy.push({ price: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"price_desc\":\n\t\t\t\torderBy.push({ price: \"desc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"created_asc\":\n\t\t\t\torderBy.push({ createdAt: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"created_desc\":\n\t\t\t\torderBy.push({ createdAt: \"desc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"stock_asc\":\n\t\t\t\torderBy.push({ stock: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"stock_desc\":\n\t\t\t\torderBy.push({ stock: \"desc\" });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (orderBy.length === 0) {\n\t\torderBy.push({ createdAt: \"desc\" });\n\t}\n\n\tconst [products, total] = await Promise.all([\n\t\tdb.product.findMany({\n\t\t\twhere,\n\t\t\torderBy,\n\t\t\tskip: (page - 1) * pageSize,\n\t\t\ttake: pageSize,\n\t\t\tinclude: {\n\t\t\t\tcategory: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbrand: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttranslations: {\n\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\ttake: 1,\n\t\t\t\t},\n\t\t\t\tmedia: {\n\t\t\t\t\torderBy: { order: \"asc\" },\n\t\t\t\t\ttake: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\tdb.product.count({ where }),\n\t]);\n\n\treturn {\n\t\tproducts: products.map((p) => ({\n\t\t\tid: p.id,\n\t\t\tslug: p.slug,\n\t\t\tstatus: p.status,\n\t\t\tprice: p.price,\n\t\t\tcompareAtPrice: p.compareAtPrice,\n\t\t\tsku: p.sku,\n\t\t\ttrackStock: p.trackStock,\n\t\t\tstock: p.stock,\n\t\t\tname: p.translations[0]?.name ?? \"Untitled\",\n\t\t\tdescription: p.translations[0]?.description,\n\t\t\tcategoryId: p.categoryId,\n\t\t\tcategoryName: p.category?.translations[0]?.name ?? \"Uncategorized\",\n\t\t\tbrandId: p.brandId,\n\t\t\tbrandName: p.brand?.translations[0]?.name,\n\t\t\timageUrl: p.media[0]?.url,\n\t\t\tcreatedAt: p.createdAt,\n\t\t\tupdatedAt: p.updatedAt,\n\t\t})),\n\t\tpagination: {\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\ttotal,\n\t\t\ttotalPages: Math.ceil(total / pageSize),\n\t\t},\n\t};\n}\n\n// Get single product by ID\nexport async function getProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t\tmedia: { orderBy: { order: \"asc\" } },\n\t\t\tvariants: {\n\t\t\t\tinclude: {\n\t\t\t\t\toptionMeta: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\tshippingInfo: true,\n\t\t\tcollectionProducts: {\n\t\t\t\tinclude: {\n\t\t\t\t\tcollection: {\n\t\t\t\t\t\tinclude: {\n\t\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tconst englishTranslation = product.translations.find(\n\t\t(t: { localeId: string }) => t.localeId === \"en\",\n\t);\n\n\treturn {\n\t\tid: product.id,\n\t\tslug: product.slug,\n\t\tstatus: product.status,\n\t\tcategoryId: product.categoryId,\n\t\tbrandId: product.brandId,\n\t\tprice: product.price,\n\t\tcompareAtPrice: product.compareAtPrice,\n\t\tcostPerItem: product.costPerItem,\n\t\tsku: product.sku,\n\t\ttrackStock: product.trackStock,\n\t\tstock: product.stock,\n\t\tlowStockThreshold: product.lowStockThreshold,\n\t\tpurchaseType: product.purchaseType,\n\t\tsubscriptionDiscountPercent: product.subscriptionDiscountPercent,\n\t\tsubscriptionIntervals: product.subscriptionIntervals,\n\t\tpreOrderReleaseDate: product.preOrderReleaseDate,\n\t\tpreOrderDepositPercent: product.preOrderDepositPercent,\n\t\tunitPriceAmount: product.unitPriceAmount,\n\t\tunitPriceMeasurement: product.unitPriceMeasurement,\n\t\tunitPriceBaseAmount: product.unitPriceBaseAmount,\n\t\tunitPriceBaseMeasurement: product.unitPriceBaseMeasurement,\n\t\tname: englishTranslation?.name ?? \"\",\n\t\tdescription: englishTranslation?.description ?? \"\",\n\t\tmedia: product.media.map(\n\t\t\t(m: {\n\t\t\t\tid: string;\n\t\t\t\turl: string;\n\t\t\t\tmediaType: string;\n\t\t\t\taltText: string | null;\n\t\t\t\torder: number;\n\t\t\t}) => ({\n\t\t\t\tid: m.id,\n\t\t\t\turl: m.url,\n\t\t\t\tmediaType: m.mediaType,\n\t\t\t\taltText: m.altText,\n\t\t\t\torder: m.order,\n\t\t\t}),\n\t\t),\n\t\tvariants: product.variants.map(\n\t\t\t(v: {\n\t\t\t\tid: string;\n\t\t\t\tsku: string | null;\n\t\t\t\tprice: unknown;\n\t\t\t\tpriceAdjustment: unknown;\n\t\t\t\tstock: number | null;\n\t\t\t\timageUrl: string | null;\n\t\t\t\toptions: unknown;\n\t\t\t\toptionMeta: unknown[];\n\t\t\t}) => ({\n\t\t\t\tid: v.id,\n\t\t\t\tsku: v.sku,\n\t\t\t\tprice: v.price,\n\t\t\t\tpriceAdjustment: v.priceAdjustment,\n\t\t\t\tstock: v.stock,\n\t\t\t\timageUrl: v.imageUrl,\n\t\t\t\toptions: v.options as Record<string, string>,\n\t\t\t\toptionMeta: v.optionMeta,\n\t\t\t}),\n\t\t),\n\t\tshippingInfo: product.shippingInfo\n\t\t\t? {\n\t\t\t\t\tpackageType: product.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: product.shippingInfo.packagingWeightKg,\n\t\t\t\t\tpackagingLengthCm: product.shippingInfo.packagingLengthCm,\n\t\t\t\t\tpackagingWidthCm: product.shippingInfo.packagingWidthCm,\n\t\t\t\t\tpackagingHeightCm: product.shippingInfo.packagingHeightCm,\n\t\t\t\t\tproductWeightKg: product.shippingInfo.productWeightKg,\n\t\t\t\t\tproductLengthCm: product.shippingInfo.productLengthCm,\n\t\t\t\t\tproductWidthCm: product.shippingInfo.productWidthCm,\n\t\t\t\t\tproductHeightCm: product.shippingInfo.productHeightCm,\n\t\t\t\t}\n\t\t\t: null,\n\t\tseo: {\n\t\t\tmetaTitle: englishTranslation?.metaTitle,\n\t\t\tmetaDescription: englishTranslation?.metaDescription,\n\t\t\tslug: product.slug,\n\t\t},\n\t\tcollectionIds: product.collectionProducts.map(\n\t\t\t(c: { collectionId: string }) => c.collectionId,\n\t\t),\n\t};\n}\n\n// Create product\nexport async function createProduct(input: CreateProductInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedInput = CreateProductSchema.parse(input);\n\n\tconst product = await db.$transaction(async (tx) => {\n\t\t// Create the product\n\t\tconst newProduct = await tx.product.create({\n\t\t\tdata: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: validatedInput.slug,\n\t\t\t\tstatus: validatedInput.status,\n\t\t\t\tcategoryId: validatedInput.categoryId,\n\t\t\t\tbrandId: validatedInput.brandId || null,\n\t\t\t\tprice: validatedInput.price,\n\t\t\t\tcompareAtPrice: validatedInput.compareAtPrice,\n\t\t\t\tcostPerItem: validatedInput.costPerItem,\n\t\t\t\tsku: validatedInput.sku,\n\t\t\t\ttrackStock: validatedInput.trackStock,\n\t\t\t\tstock: validatedInput.stock,\n\t\t\t\tlowStockThreshold: validatedInput.lowStockThreshold,\n\t\t\t\t// Purchase options\n\t\t\t\tpurchaseType: validatedInput.purchaseOptions?.type ?? \"ONE_TIME\",\n\t\t\t\tsubscriptionDiscountPercent:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.subscriptionDiscount,\n\t\t\t\tsubscriptionIntervals:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.subscriptionIntervals ?? [],\n\t\t\t\tpreOrderReleaseDate:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.preOrderReleaseDate,\n\t\t\t\tpreOrderDepositPercent:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.preOrderDepositPercent,\n\t\t\t\t// Unit pricing\n\t\t\t\tunitPriceAmount: validatedInput.unitPrice?.unitPriceAmount,\n\t\t\t\tunitPriceMeasurement: validatedInput.unitPrice?.unitPriceMeasurement,\n\t\t\t\tunitPriceBaseAmount: validatedInput.unitPrice?.unitPriceBaseAmount,\n\t\t\t\tunitPriceBaseMeasurement:\n\t\t\t\t\tvalidatedInput.unitPrice?.unitPriceBaseMeasurement,\n\t\t\t},\n\t\t});\n\n\t\t// Create translation (English by default)\n\t\tawait tx.productTranslation.create({\n\t\t\tdata: {\n\t\t\t\tproductId: newProduct.id,\n\t\t\t\tlocaleId: \"en\",\n\t\t\t\tname: validatedInput.name,\n\t\t\t\tdescription: validatedInput.description,\n\t\t\t\tmetaTitle: validatedInput.seo?.metaTitle,\n\t\t\t\tmetaDescription: validatedInput.seo?.metaDescription,\n\t\t\t},\n\t\t});\n\n\t\t// Create media\n\t\tif (validatedInput.media && validatedInput.media.length > 0) {\n\t\t\tawait tx.productMedia.createMany({\n\t\t\t\tdata: validatedInput.media.map((m, index) => ({\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\turl: m.url,\n\t\t\t\t\tmediaType: m.mediaType,\n\t\t\t\t\taltText: m.altText,\n\t\t\t\t\torder: m.order ?? index,\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\t// Create variants\n\t\tif (validatedInput.variants && validatedInput.variants.length > 0) {\n\t\t\tfor (const variant of validatedInput.variants) {\n\t\t\t\tconst createdVariant = await tx.productVariant.create({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\tpriceAdjustment: variant.priceAdjustment ?? 0,\n\t\t\t\t\t\tstock: variant.stock,\n\t\t\t\t\t\timageUrl: variant.imageUrl,\n\t\t\t\t\t\toptions: variant.options,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t// Create variant option meta (for colors)\n\t\t\t\tif (variant.optionMeta && variant.optionMeta.length > 0) {\n\t\t\t\t\tawait tx.variantOptionMeta.createMany({\n\t\t\t\t\t\tdata: variant.optionMeta.map((meta) => ({\n\t\t\t\t\t\t\tvariantId: createdVariant.id,\n\t\t\t\t\t\t\toptionName: meta.optionName,\n\t\t\t\t\t\t\thexColor: meta.hexColor,\n\t\t\t\t\t\t})),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create shipping info\n\t\tif (validatedInput.shippingInfo) {\n\t\t\tawait tx.productShippingInfo.create({\n\t\t\t\tdata: {\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Link to collections\n\t\tif (\n\t\t\tvalidatedInput.collectionIds &&\n\t\t\tvalidatedInput.collectionIds.length > 0\n\t\t) {\n\t\t\tawait tx.collectionProduct.createMany({\n\t\t\t\tdata: validatedInput.collectionIds.map((collectionId) => ({\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\tcollectionId,\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\treturn newProduct;\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\n\treturn { success: true, productId: product.id };\n}\n\n// Update product\nexport async function updateProduct(input: UpdateProductInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedInput = UpdateProductSchema.parse(input);\n\n\t// Verify product belongs to tenant\n\tconst existingProduct = await db.product.findFirst({\n\t\twhere: { id: validatedInput.id, tenantId },\n\t});\n\tif (!existingProduct) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.$transaction(async (tx) => {\n\t\t// Update the main product\n\t\tawait tx.product.update({\n\t\t\twhere: { id: validatedInput.id },\n\t\t\tdata: {\n\t\t\t\t...(validatedInput.slug && { slug: validatedInput.slug }),\n\t\t\t\t...(validatedInput.status && { status: validatedInput.status }),\n\t\t\t\t...(validatedInput.categoryId && {\n\t\t\t\t\tcategoryId: validatedInput.categoryId,\n\t\t\t\t}),\n\t\t\t\tbrandId: validatedInput.brandId || null,\n\t\t\t\t...(validatedInput.price !== undefined && {\n\t\t\t\t\tprice: validatedInput.price,\n\t\t\t\t}),\n\t\t\t\tcompareAtPrice: validatedInput.compareAtPrice,\n\t\t\t\tcostPerItem: validatedInput.costPerItem,\n\t\t\t\tsku: validatedInput.sku,\n\t\t\t\ttrackStock: validatedInput.trackStock,\n\t\t\t\tstock: validatedInput.stock,\n\t\t\t\tlowStockThreshold: validatedInput.lowStockThreshold,\n\t\t\t\t// Purchase options\n\t\t\t\t...(validatedInput.purchaseOptions && {\n\t\t\t\t\tpurchaseType: validatedInput.purchaseOptions.type,\n\t\t\t\t\tsubscriptionDiscountPercent:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.subscriptionDiscount,\n\t\t\t\t\tsubscriptionIntervals:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.subscriptionIntervals ?? [],\n\t\t\t\t\tpreOrderReleaseDate:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.preOrderReleaseDate,\n\t\t\t\t\tpreOrderDepositPercent:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.preOrderDepositPercent,\n\t\t\t\t}),\n\t\t\t\t// Unit pricing\n\t\t\t\t...(validatedInput.unitPrice && {\n\t\t\t\t\tunitPriceAmount: validatedInput.unitPrice.unitPriceAmount,\n\t\t\t\t\tunitPriceMeasurement: validatedInput.unitPrice.unitPriceMeasurement,\n\t\t\t\t\tunitPriceBaseAmount: validatedInput.unitPrice.unitPriceBaseAmount,\n\t\t\t\t\tunitPriceBaseMeasurement:\n\t\t\t\t\t\tvalidatedInput.unitPrice.unitPriceBaseMeasurement,\n\t\t\t\t}),\n\t\t\t},\n\t\t});\n\n\t\t// Update translation\n\t\tif (\n\t\t\tvalidatedInput.name ||\n\t\t\tvalidatedInput.description ||\n\t\t\tvalidatedInput.seo\n\t\t) {\n\t\t\tawait tx.productTranslation.upsert({\n\t\t\t\twhere: {\n\t\t\t\t\tproductId_localeId: {\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tlocaleId: \"en\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\t...(validatedInput.name && { name: validatedInput.name }),\n\t\t\t\t\t...(validatedInput.description !== undefined && {\n\t\t\t\t\t\tdescription: validatedInput.description,\n\t\t\t\t\t}),\n\t\t\t\t\t...(validatedInput.seo?.metaTitle !== undefined && {\n\t\t\t\t\t\tmetaTitle: validatedInput.seo.metaTitle,\n\t\t\t\t\t}),\n\t\t\t\t\t...(validatedInput.seo?.metaDescription !== undefined && {\n\t\t\t\t\t\tmetaDescription: validatedInput.seo.metaDescription,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tcreate: {\n\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\tlocaleId: \"en\",\n\t\t\t\t\tname: validatedInput.name ?? \"Untitled\",\n\t\t\t\t\tdescription: validatedInput.description,\n\t\t\t\t\tmetaTitle: validatedInput.seo?.metaTitle,\n\t\t\t\t\tmetaDescription: validatedInput.seo?.metaDescription,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Update media (replace all)\n\t\tif (validatedInput.media) {\n\t\t\tawait tx.productMedia.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\tif (validatedInput.media.length > 0) {\n\t\t\t\tawait tx.productMedia.createMany({\n\t\t\t\t\tdata: validatedInput.media.map((m, index) => ({\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\turl: m.url,\n\t\t\t\t\t\tmediaType: m.mediaType,\n\t\t\t\t\t\taltText: m.altText,\n\t\t\t\t\t\torder: m.order ?? index,\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Update variants (replace all)\n\t\tif (validatedInput.variants) {\n\t\t\t// Delete existing variants and their meta\n\t\t\tconst existingVariants = await tx.productVariant.findMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t\tselect: { id: true },\n\t\t\t});\n\n\t\t\tfor (const v of existingVariants) {\n\t\t\t\tawait tx.variantOptionMeta.deleteMany({ where: { variantId: v.id } });\n\t\t\t}\n\n\t\t\tawait tx.productVariant.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\t// Create new variants\n\t\t\tfor (const variant of validatedInput.variants) {\n\t\t\t\tconst createdVariant = await tx.productVariant.create({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\tpriceAdjustment: variant.priceAdjustment ?? 0,\n\t\t\t\t\t\tstock: variant.stock,\n\t\t\t\t\t\timageUrl: variant.imageUrl,\n\t\t\t\t\t\toptions: variant.options,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tif (variant.optionMeta && variant.optionMeta.length > 0) {\n\t\t\t\t\tawait tx.variantOptionMeta.createMany({\n\t\t\t\t\t\tdata: variant.optionMeta.map((meta) => ({\n\t\t\t\t\t\t\tvariantId: createdVariant.id,\n\t\t\t\t\t\t\toptionName: meta.optionName,\n\t\t\t\t\t\t\thexColor: meta.hexColor,\n\t\t\t\t\t\t})),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Update shipping info\n\t\tif (validatedInput.shippingInfo) {\n\t\t\tawait tx.productShippingInfo.upsert({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t\tupdate: {\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t\tcreate: {\n\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Update collection links\n\t\tif (validatedInput.collectionIds) {\n\t\t\tawait tx.collectionProduct.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\tif (validatedInput.collectionIds.length > 0) {\n\t\t\t\tawait tx.collectionProduct.createMany({\n\t\t\t\t\tdata: validatedInput.collectionIds.map((collectionId) => ({\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tcollectionId,\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(`/admin/products/${validatedInput.id}/edit`);\n\n\treturn { success: true };\n}\n\n// Soft delete product (move to trash)\nexport async function deleteProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.product.update({\n\t\twhere: { id: productId },\n\t\tdata: { deletedAt: new Date() },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Restore product from trash\nexport async function restoreProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.product.update({\n\t\twhere: { id: productId },\n\t\tdata: { deletedAt: null },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Bulk restore products\nexport async function restoreProducts(productIds: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.product.updateMany({\n\t\twhere: { id: { in: productIds }, tenantId },\n\t\tdata: { deletedAt: null },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Permanently delete product\nexport async function permanentlyDeleteProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant and get media for cleanup\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t\tinclude: {\n\t\t\tmedia: {\n\t\t\t\tselect: { url: true },\n\t\t\t},\n\t\t},\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\t// Collect media URLs for cleanup\n\tconst mediaUrls = product.media.map((m) => m.url);\n\n\tawait db.$transaction(async (tx) => {\n\t\t// Delete related data\n\t\tconst variants = await tx.productVariant.findMany({\n\t\t\twhere: { productId },\n\t\t\tselect: { id: true },\n\t\t});\n\n\t\tfor (const v of variants) {\n\t\t\tawait tx.variantOptionMeta.deleteMany({ where: { variantId: v.id } });\n\t\t}\n\n\t\tawait tx.productVariant.deleteMany({ where: { productId } });\n\t\tawait tx.productMedia.deleteMany({ where: { productId } });\n\t\tawait tx.productShippingInfo.deleteMany({ where: { productId } });\n\t\tawait tx.productTranslation.deleteMany({ where: { productId } });\n\t\tawait tx.collectionProduct.deleteMany({ where: { productId } });\n\n\t\t// Finally delete the product\n\t\tawait tx.product.delete({ where: { id: productId } });\n\t});\n\n\t// Cleanup media files from R2 (after DB deletion)\n\tif (mediaUrls.length > 0) {\n\t\tawait cleanupProductMedia(mediaUrls, tenantId);\n\t}\n\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Bulk permanently delete products\nexport async function permanentlyDeleteProducts(productIds: string[]) {\n\tawait requireStoreAccess(); // Verify access, individual deletes check ownership\n\n\tfor (const productId of productIds) {\n\t\tawait permanentlyDeleteProduct(productId);\n\t}\n\n\treturn { success: true };\n}\n\n// Get trashed products\nexport async function getTrashedProducts() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst products = await db.product.findMany({\n\t\twhere: {\n\t\t\ttenantId,\n\t\t\tdeletedAt: { not: null },\n\t\t},\n\t\torderBy: { deletedAt: \"desc\" },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\ttake: 1,\n\t\t\t},\n\t\t\tmedia: {\n\t\t\t\torderBy: { order: \"asc\" },\n\t\t\t\ttake: 1,\n\t\t\t},\n\t\t},\n\t});\n\n\treturn products.map((p) => ({\n\t\tid: p.id,\n\t\tname: p.translations[0]?.name ?? \"Untitled\",\n\t\tsku: p.sku,\n\t\tprice: p.price,\n\t\tdeletedAt: p.deletedAt ?? new Date(),\n\t\timageUrl: p.media[0]?.url ?? null,\n\t}));\n}\n\n// Clean up old trashed products (called by cron job)\nexport async function cleanupTrashedProducts(retentionDays = 30) {\n\t// This function should be called by a cron job\n\t// Don't require admin - it runs as a system task\n\n\tconst cutoffDate = new Date();\n\tcutoffDate.setDate(cutoffDate.getDate() - retentionDays);\n\n\tconst oldProducts = await db.product.findMany({\n\t\twhere: {\n\t\t\tdeletedAt: { lte: cutoffDate },\n\t\t},\n\t\tselect: { id: true },\n\t});\n\n\tfor (const product of oldProducts) {\n\t\tawait permanentlyDeleteProduct(product.id);\n\t}\n\n\treturn { deleted: oldProducts.length };\n}\n"],"names":[],"mappings":";;;;;;;MA8CsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/stores/dialog-store.ts"],"sourcesContent":["import { create } from \"zustand\";\n\ninterface DialogState {\n\t// Product dialogs\n\tisAddProductOpen: boolean;\n\tisEditProductOpen: boolean;\n\tisViewProductOpen: boolean;\n\tisDeleteProductOpen: boolean;\n\n\t// Discount dialogs\n\tisAddDiscountOpen: boolean;\n\tisEditDiscountOpen: boolean;\n\tisViewDiscountOpen: boolean;\n\tisDeleteDiscountOpen: boolean;\n\n\t// Customer dialogs\n\tisAddCustomerOpen: boolean;\n\tisEditCustomerOpen: boolean;\n\tisViewCustomerOpen: boolean;\n\tisDeleteCustomerOpen: boolean;\n\n\t// Order dialogs\n\tisAddOrderOpen: boolean;\n\tisEditOrderOpen: boolean;\n\tisViewOrderOpen: boolean;\n\tisDeleteOrderOpen: boolean;\n\n\t// Category dialogs\n\tisAddCategoryOpen: boolean;\n\tisEditCategoryOpen: boolean;\n\tisViewCategoryOpen: boolean;\n\tisDeleteCategoryOpen: boolean;\n\n\t// Brand dialogs\n\tisAddBrandOpen: boolean;\n\tisEditBrandOpen: boolean;\n\tisViewBrandOpen: boolean;\n\tisDeleteBrandOpen: boolean;\n\n\t// Collection dialogs\n\tisAddCollectionOpen: boolean;\n\tisEditCollectionOpen: boolean;\n\tisViewCollectionOpen: boolean;\n\tisDeleteCollectionOpen: boolean;\n\n\t// Review dialogs\n\tisAddReviewOpen: boolean;\n\tisEditReviewOpen: boolean;\n\tisViewReviewOpen: boolean;\n\tisDeleteReviewOpen: boolean;\n\n\t// Gift Card dialogs\n\tisAddGiftCardOpen: boolean;\n\tisEditGiftCardOpen: boolean;\n\tisViewGiftCardOpen: boolean;\n\tisDeleteGiftCardOpen: boolean;\n\n\t// Promo Code dialogs\n\tisAddPromoCodeOpen: boolean;\n\tisEditPromoCodeOpen: boolean;\n\tisViewPromoCodeOpen: boolean;\n\tisDeletePromoCodeOpen: boolean;\n\n\t// Page dialogs\n\tisAddPageOpen: boolean;\n\tisEditPageOpen: boolean;\n\tisViewPageOpen: boolean;\n\tisDeletePageOpen: boolean;\n\n\t// Shipping dialogs\n\tisAddShippingZoneOpen: boolean;\n\tisEditShippingZoneOpen: boolean;\n\tisViewShippingZoneOpen: boolean;\n\tisDeleteShippingZoneOpen: boolean;\n\n\t// Payment dialogs\n\tisAddPaymentMethodOpen: boolean;\n\tisEditPaymentMethodOpen: boolean;\n\tisViewPaymentMethodOpen: boolean;\n\tisDeletePaymentMethodOpen: boolean;\n\n\t// Locale dialogs\n\tisAddLocaleOpen: boolean;\n\tisEditLocaleOpen: boolean;\n\tisViewLocaleOpen: boolean;\n\tisDeleteLocaleOpen: boolean;\n\n\t// Actions\n\topenDialog: (\n\t\tdialogName: keyof Omit<\n\t\t\tDialogState,\n\t\t\t\"openDialog\" | \"closeDialog\" | \"closeAllDialogs\"\n\t\t>,\n\t) => void;\n\tcloseDialog: (\n\t\tdialogName: keyof Omit<\n\t\t\tDialogState,\n\t\t\t\"openDialog\" | \"closeDialog\" | \"closeAllDialogs\"\n\t\t>,\n\t) => void;\n\tcloseAllDialogs: () => void;\n}\n\nexport const useDialogStore = create<DialogState>((set) => ({\n\t// Product dialogs\n\tisAddProductOpen: false,\n\tisEditProductOpen: false,\n\tisViewProductOpen: false,\n\tisDeleteProductOpen: false,\n\n\t// Discount dialogs\n\tisAddDiscountOpen: false,\n\tisEditDiscountOpen: false,\n\tisViewDiscountOpen: false,\n\tisDeleteDiscountOpen: false,\n\n\t// Customer dialogs\n\tisAddCustomerOpen: false,\n\tisEditCustomerOpen: false,\n\tisViewCustomerOpen: false,\n\tisDeleteCustomerOpen: false,\n\n\t// Order dialogs\n\tisAddOrderOpen: false,\n\tisEditOrderOpen: false,\n\tisViewOrderOpen: false,\n\tisDeleteOrderOpen: false,\n\n\t// Category dialogs\n\tisAddCategoryOpen: false,\n\tisEditCategoryOpen: false,\n\tisViewCategoryOpen: false,\n\tisDeleteCategoryOpen: false,\n\n\t// Brand dialogs\n\tisAddBrandOpen: false,\n\tisEditBrandOpen: false,\n\tisViewBrandOpen: false,\n\tisDeleteBrandOpen: false,\n\n\t// Collection dialogs\n\tisAddCollectionOpen: false,\n\tisEditCollectionOpen: false,\n\tisViewCollectionOpen: false,\n\tisDeleteCollectionOpen: false,\n\n\t// Review dialogs\n\tisAddReviewOpen: false,\n\tisEditReviewOpen: false,\n\tisViewReviewOpen: false,\n\tisDeleteReviewOpen: false,\n\n\t// Gift Card dialogs\n\tisAddGiftCardOpen: false,\n\tisEditGiftCardOpen: false,\n\tisViewGiftCardOpen: false,\n\tisDeleteGiftCardOpen: false,\n\n\t// Promo Code dialogs\n\tisAddPromoCodeOpen: false,\n\tisEditPromoCodeOpen: false,\n\tisViewPromoCodeOpen: false,\n\tisDeletePromoCodeOpen: false,\n\n\t// Page dialogs\n\tisAddPageOpen: false,\n\tisEditPageOpen: false,\n\tisViewPageOpen: false,\n\tisDeletePageOpen: false,\n\n\t// Shipping dialogs\n\tisAddShippingZoneOpen: false,\n\tisEditShippingZoneOpen: false,\n\tisViewShippingZoneOpen: false,\n\tisDeleteShippingZoneOpen: false,\n\n\t// Payment dialogs\n\tisAddPaymentMethodOpen: false,\n\tisEditPaymentMethodOpen: false,\n\tisViewPaymentMethodOpen: false,\n\tisDeletePaymentMethodOpen: false,\n\n\t// Locale dialogs\n\tisAddLocaleOpen: false,\n\tisEditLocaleOpen: false,\n\tisViewLocaleOpen: false,\n\tisDeleteLocaleOpen: false,\n\n\t// Actions\n\topenDialog: (dialogName) => set({ [dialogName]: true }),\n\tcloseDialog: (dialogName) => set({ [dialogName]: false }),\n\tcloseAllDialogs: () =>\n\t\tset({\n\t\t\t// Product dialogs\n\t\t\tisAddProductOpen: false,\n\t\t\tisEditProductOpen: false,\n\t\t\tisViewProductOpen: false,\n\t\t\tisDeleteProductOpen: false,\n\n\t\t\t// Discount dialogs\n\t\t\tisAddDiscountOpen: false,\n\t\t\tisEditDiscountOpen: false,\n\t\t\tisViewDiscountOpen: false,\n\t\t\tisDeleteDiscountOpen: false,\n\n\t\t\t// Customer dialogs\n\t\t\tisAddCustomerOpen: false,\n\t\t\tisEditCustomerOpen: false,\n\t\t\tisViewCustomerOpen: false,\n\t\t\tisDeleteCustomerOpen: false,\n\n\t\t\t// Order dialogs\n\t\t\tisAddOrderOpen: false,\n\t\t\tisEditOrderOpen: false,\n\t\t\tisViewOrderOpen: false,\n\t\t\tisDeleteOrderOpen: false,\n\n\t\t\t// Category dialogs\n\t\t\tisAddCategoryOpen: false,\n\t\t\tisEditCategoryOpen: false,\n\t\t\tisViewCategoryOpen: false,\n\t\t\tisDeleteCategoryOpen: false,\n\n\t\t\t// Brand dialogs\n\t\t\tisAddBrandOpen: false,\n\t\t\tisEditBrandOpen: false,\n\t\t\tisViewBrandOpen: false,\n\t\t\tisDeleteBrandOpen: false,\n\n\t\t\t// Collection dialogs\n\t\t\tisAddCollectionOpen: false,\n\t\t\tisEditCollectionOpen: false,\n\t\t\tisViewCollectionOpen: false,\n\t\t\tisDeleteCollectionOpen: false,\n\n\t\t\t// Review dialogs\n\t\t\tisAddReviewOpen: false,\n\t\t\tisEditReviewOpen: false,\n\t\t\tisViewReviewOpen: false,\n\t\t\tisDeleteReviewOpen: false,\n\n\t\t\t// Gift Card dialogs\n\t\t\tisAddGiftCardOpen: false,\n\t\t\tisEditGiftCardOpen: false,\n\t\t\tisViewGiftCardOpen: false,\n\t\t\tisDeleteGiftCardOpen: false,\n\n\t\t\t// Promo Code dialogs\n\t\t\tisAddPromoCodeOpen: false,\n\t\t\tisEditPromoCodeOpen: false,\n\t\t\tisViewPromoCodeOpen: false,\n\t\t\tisDeletePromoCodeOpen: false,\n\n\t\t\t// Page dialogs\n\t\t\tisAddPageOpen: false,\n\t\t\tisEditPageOpen: false,\n\t\t\tisViewPageOpen: false,\n\t\t\tisDeletePageOpen: false,\n\n\t\t\t// Shipping dialogs\n\t\t\tisAddShippingZoneOpen: false,\n\t\t\tisEditShippingZoneOpen: false,\n\t\t\tisViewShippingZoneOpen: false,\n\t\t\tisDeleteShippingZoneOpen: false,\n\n\t\t\t// Payment dialogs\n\t\t\tisAddPaymentMethodOpen: false,\n\t\t\tisEditPaymentMethodOpen: false,\n\t\t\tisViewPaymentMethodOpen: false,\n\t\t\tisDeletePaymentMethodOpen: false,\n\n\t\t\t// Locale dialogs\n\t\t\tisAddLocaleOpen: false,\n\t\t\tisEditLocaleOpen: false,\n\t\t\tisViewLocaleOpen: false,\n\t\t\tisDeleteLocaleOpen: false,\n\t\t}),\n}));\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n\t\"text-sm leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tprimary: \"font-medium\",\n\t\t\t\tsecondary: \"font-normal\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"primary\",\n\t\t},\n\t},\n);\n\nfunction Label({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root> &\n\tVariantProps<typeof labelVariants>) {\n\treturn (\n\t\t<LabelPrimitive.Root\n\t\t\tdata-slot=\"label\"\n\t\t\tclassName={cn(labelVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACxB,kGACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,WAAW;QACZ;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,OAAO,EACP,GAAG,OAE+B;IAClC,qBACC,6LAAC,6OAAc,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAbS"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { Select as SelectPrimitive } from \"radix-ui\";\nimport * as React from \"react\";\nimport { isValidElement, type ReactNode } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Create a Context for `indicatorPosition` and `indicator` control\nconst SelectContext = React.createContext<{\n\tindicatorPosition: \"left\" | \"right\";\n\tindicatorVisibility: boolean;\n\tindicator: ReactNode;\n}>({ indicatorPosition: \"left\", indicator: null, indicatorVisibility: true });\n\n// Root Component\nconst Select = ({\n\tindicatorPosition = \"left\",\n\tindicatorVisibility = true,\n\tindicator,\n\t...props\n}: {\n\tindicatorPosition?: \"left\" | \"right\";\n\tindicatorVisibility?: boolean;\n\tindicator?: ReactNode;\n} & React.ComponentProps<typeof SelectPrimitive.Root>) => {\n\tconst contextValue = React.useMemo(\n\t\t() => ({ indicatorPosition, indicatorVisibility, indicator }),\n\t\t[indicatorPosition, indicatorVisibility, indicator],\n\t);\n\n\treturn (\n\t\t<SelectContext.Provider value={contextValue}>\n\t\t\t<SelectPrimitive.Root {...props} />\n\t\t</SelectContext.Provider>\n\t);\n};\n\nfunction SelectGroup({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n\treturn <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\n}\n\nfunction SelectValue({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n\treturn <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\n}\n\n// Define size variants for SelectTrigger\nconst selectTriggerVariants = cva(\n\t`\n    flex bg-background w-full items-center justify-between outline-none border border-input shadow-xs shadow-black/5 transition-shadow \n    text-foreground data-placeholder:text-muted-foreground focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] \n    focus-visible:ring-ring/30 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"h-7 px-2.5 text-xs gap-1 rounded-md\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) gap-1 rounded-md\",\n\t\t\t\tlg: \"h-10 px-4 text-sm gap-1.5 rounded-md\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nexport interface SelectTriggerProps\n\textends React.ComponentProps<typeof SelectPrimitive.Trigger>,\n\t\tVariantProps<typeof selectTriggerVariants> {}\n\nfunction SelectTrigger({\n\tclassName,\n\tchildren,\n\tsize,\n\t...props\n}: SelectTriggerProps) {\n\treturn (\n\t\t<SelectPrimitive.Trigger\n\t\t\tdata-slot=\"select-trigger\"\n\t\t\tclassName={cn(selectTriggerVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<SelectPrimitive.Icon asChild>\n\t\t\t\t<ChevronDown className=\"h-4 w-4 opacity-60 -me-0.5\" />\n\t\t\t</SelectPrimitive.Icon>\n\t\t</SelectPrimitive.Trigger>\n\t);\n}\n\nfunction SelectScrollUpButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollUpButton\n\t\t\tdata-slot=\"select-scroll-up-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronUp className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollUpButton>\n\t);\n}\n\nfunction SelectScrollDownButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollDownButton\n\t\t\tdata-slot=\"select-scroll-down-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronDown className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollDownButton>\n\t);\n}\n\nfunction SelectContent({\n\tclassName,\n\tchildren,\n\tposition = \"popper\",\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n\treturn (\n\t\t<SelectPrimitive.Portal>\n\t\t\t<SelectPrimitive.Content\n\t\t\t\tdata-slot=\"select-content\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover shadow-md shadow-black/5 text-secondary-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\"data-[side=bottom]:translate-y-1.5 data-[side=left]:-translate-x-1.5 data-[side=right]:translate-x-1.5 data-[side=top]:-translate-y-1.5\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tposition={position}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<SelectScrollUpButton />\n\t\t\t\t<SelectPrimitive.Viewport\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"p-1.5\",\n\t\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\t\"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</SelectPrimitive.Viewport>\n\t\t\t\t<SelectScrollDownButton />\n\t\t\t</SelectPrimitive.Content>\n\t\t</SelectPrimitive.Portal>\n\t);\n}\n\nfunction SelectLabel({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n\treturn (\n\t\t<SelectPrimitive.Label\n\t\t\tdata-slot=\"select-label\"\n\t\t\tclassName={cn(\n\t\t\t\t\"py-1.5 ps-8 pe-2 text-xs text-muted-foreground font-medium\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SelectItem({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n\tconst { indicatorPosition, indicatorVisibility, indicator } =\n\t\tReact.useContext(SelectContext);\n\n\treturn (\n\t\t<SelectPrimitive.Item\n\t\t\tdata-slot=\"select-item\"\n\t\t\tclassName={cn(\n\t\t\t\t\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 text-sm outline-hidden text-foreground hover:bg-accent focus:bg-accent data-disabled:pointer-events-none data-disabled:opacity-50\",\n\t\t\t\tindicatorPosition === \"left\" ? \"ps-8 pe-2\" : \"pe-8 ps-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{indicatorVisibility &&\n\t\t\t\t(indicator && isValidElement(indicator) ? (\n\t\t\t\t\tindicator\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"absolute flex h-3.5 w-3.5 items-center justify-center\",\n\t\t\t\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectPrimitive.ItemIndicator>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t</SelectPrimitive.ItemIndicator>\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t<SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n\t\t</SelectPrimitive.Item>\n\t);\n}\n\nfunction SelectIndicator({\n\tchildren,\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ItemIndicator>) {\n\tconst { indicatorPosition } = React.useContext(SelectContext);\n\n\treturn (\n\t\t<span\n\t\t\tdata-slot=\"select-indicator\"\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute flex top-1/2 -translate-y-1/2 items-center justify-center\",\n\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<SelectPrimitive.ItemIndicator>{children}</SelectPrimitive.ItemIndicator>\n\t\t</span>\n\t);\n}\n\nfunction SelectSeparator({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n\treturn (\n\t\t<SelectPrimitive.Separator\n\t\t\tdata-slot=\"select-separator\"\n\t\t\tclassName={cn(\"-mx-1.5 my-1.5 h-px bg-border\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectIndicator,\n\tSelectItem,\n\tSelectLabel,\n\tSelectScrollDownButton,\n\tSelectScrollUpButton,\n\tSelectSeparator,\n\tSelectTrigger,\n\tSelectValue,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1137, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Separator = React.forwardRef<\n\tReact.ElementRef<typeof SeparatorPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n\t(\n\t\t{ className, orientation = \"horizontal\", decorative = true, ...props },\n\t\tref,\n\t) => (\n\t\t<SeparatorPrimitive.Root\n\t\t\tref={ref}\n\t\t\tdecorative={decorative}\n\t\t\torientation={orientation}\n\t\t\tclassName={cn(\n\t\t\t\t\"shrink-0 bg-border\",\n\t\t\t\torientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t),\n);\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,2KAAgB,MAIjC,CACC,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,gLAAuB;QACvB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,gJAAE,EACZ,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAEA,GAAG,KAAK;;;;;;;AAIZ,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}},
    {"offset": {"line": 1174, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n\tReact.ElementRef<typeof SwitchPrimitives.Root>,\n\tReact.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n\t<SwitchPrimitives.Root\n\t\tclassName={cn(\n\t\t\t\"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t\tref={ref}\n\t>\n\t\t<SwitchPrimitives.Thumb\n\t\t\tclassName={cn(\n\t\t\t\t\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n\t\t\t)}\n\t\t/>\n\t</SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,6KAAqB;QACrB,WAAW,IAAA,gJAAE,EACZ,sXACA;QAEA,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACtB,WAAW,IAAA,gJAAE,EACZ;;;;;;;;;;;;AAKJ,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1216, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n\tReact.ElementRef<typeof TabsPrimitive.List>,\n\tReact.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n\t<TabsPrimitive.List\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n\tReact.ElementRef<typeof TabsPrimitive.Trigger>,\n\tReact.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n\t<TabsPrimitive.Trigger\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n\tReact.ElementRef<typeof TabsPrimitive.Content>,\n\tReact.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n\t<TabsPrimitive.Content\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,2KAAkB;QAClB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,8FACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,8KAAqB;QACrB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,uYACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,8KAAqB;QACrB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,mIACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1284, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Textarea = React.forwardRef<\n\tHTMLTextAreaElement,\n\tReact.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n\treturn (\n\t\t<textarea\n\t\t\tclassName={cn(\n\t\t\t\t\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACC,6LAAC;QACA,WAAW,IAAA,gJAAE,EACZ,qTACA;QAED,KAAK;QACJ,GAAG,KAAK;;;;;;AAGZ;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1318, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-dialogs.tsx"],"sourcesContent":["\"use client\";\n\nimport { Image as ImageIcon, Plus, Trash2, Upload } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Textarea } from \"@/components/ui/textarea\";\n\ninterface Product {\n\tid: string;\n\tslug: string;\n\tprice: number;\n\tsku: string | null;\n\ttrackStock: boolean;\n\tstock: number | null;\n\tcategoryId: string;\n\tcategoryName?: string; // For display purposes\n\tbrandId: string | null;\n\tbrandName?: string | null; // For display purposes\n\tname: string; // From translations\n\tdescription?: string | null; // From translations\n\tcreatedAt: string;\n\tupdatedAt: string;\n\tdeletedAt: string | null;\n}\n\ninterface ViewProductDialogProps {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tproduct: Product | null;\n}\n\nexport function ViewProductDialog({\n\topen,\n\tonOpenChange,\n\tproduct,\n}: ViewProductDialogProps) {\n\tif (!product) return null;\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>Product Details - {product.name}</DialogTitle>\n\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\tView complete product information\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t</DialogHeader>\n\n\t\t\t\t<Tabs defaultValue=\"general\" className=\"w-full\">\n\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-4\">\n\t\t\t\t\t\t<TabsTrigger value=\"general\">General</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"inventory\">Inventory</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"pricing\">Pricing</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"media\">Media</TabsTrigger>\n\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t<TabsContent value=\"general\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tProduct Name\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm\">{product.name}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">SKU</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-mono\">{product.sku || \"N/A\"}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tSlug\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-mono\">{product.slug}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tCategory\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t{product.categoryName || product.categoryId}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tBrand\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t{product.brandName || product.brandId || \"N/A\"}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<Badge>{product.deletedAt ? \"Deleted\" : \"Active\"}</Badge>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tHigh-quality wireless headphones with active noise cancellation,\n\t\t\t\t\t\t\t\t40-hour battery life, and premium sound quality. Perfect for\n\t\t\t\t\t\t\t\tmusic lovers and professionals.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"inventory\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tCurrent Stock\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold\">{product.stock}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tReserved\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold\">5</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tAvailable\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold\">{(product.stock ?? 0) - 5}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">Stock History</p>\n\t\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Initial stock</span>\n\t\t\t\t\t\t\t\t\t<span>+150</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Sold</span>\n\t\t\t\t\t\t\t\t\t<span className=\"text-red-600\">-35</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Restocked</span>\n\t\t\t\t\t\t\t\t\t<span className=\"text-green-600\">+50</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"pricing\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold\">{product.price}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tCost\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold\">$45.00</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tMargin\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold text-green-600\">95%</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tCompare at Price\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-2xl font-bold line-through text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t$129.99\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"media\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4\">\n\t\t\t\t\t\t\t{[1, 2, 3, 4].map((i) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tclassName=\"aspect-square border-2 border-dashed rounded-lg flex items-center justify-center bg-muted/30\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ImageIcon className=\"h-8 w-8 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\t\t\t\t</Tabs>\n\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogFooter>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\ninterface ProductFormDialogProps {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tproduct?: Product | null;\n\tmode: \"create\" | \"edit\";\n}\n\nexport function ProductFormDialog({\n\topen,\n\tonOpenChange,\n\tproduct,\n\tmode,\n}: ProductFormDialogProps) {\n\tconst [variants, setVariants] = useState([{ id: `1`, name: ``, value: `` }]);\n\n\tconst addVariant = () => {\n\t\tsetVariants([\n\t\t\t...variants,\n\t\t\t{ id: Date.now().toString(), name: ``, value: `` },\n\t\t]);\n\t};\n\n\tconst removeVariant = (id: string) => {\n\t\tsetVariants(variants.filter((v) => v.id !== id));\n\t};\n\n\tconst handleSubmit = (e: React.FormEvent) => {\n\t\te.preventDefault();\n\t\tonOpenChange(false);\n\t};\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t{mode === \"create\" ? \"Create New Product\" : `Edit Product`}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t{mode === \"create\"\n\t\t\t\t\t\t\t? \"Add a new product to your catalog\"\n\t\t\t\t\t\t\t: \"Update product information\"}\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t</DialogHeader>\n\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<Tabs defaultValue=\"general\" className=\"w-full\">\n\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-4\">\n\t\t\t\t\t\t\t<TabsTrigger value=\"general\">General</TabsTrigger>\n\t\t\t\t\t\t\t<TabsTrigger value=\"pricing\">Pricing</TabsTrigger>\n\t\t\t\t\t\t\t<TabsTrigger value=\"inventory\">Inventory</TabsTrigger>\n\t\t\t\t\t\t\t<TabsTrigger value=\"variants\">Variants</TabsTrigger>\n\t\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t\t<TabsContent value=\"general\" className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"productName\">Product Name *</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid=\"productName\"\n\t\t\t\t\t\t\t\t\tdefaultValue={product?.name}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Wireless Headphones\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"sku\">SKU *</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"sku\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={product?.sku ?? \"\"}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"WH-001\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"barcode\">Barcode</Label>\n\t\t\t\t\t\t\t\t\t<Input id=\"barcode\" placeholder=\"1234567890123\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"category\">Category *</Label>\n\t\t\t\t\t\t\t\t\t<Select defaultValue={product?.categoryId}>\n\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"category\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select category\" />\n\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Electronics\">Electronics</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Clothing\">Clothing</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Home\">Home & Garden</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Sports\">Sports</SelectItem>\n\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"brand\">Brand</Label>\n\t\t\t\t\t\t\t\t\t<Select defaultValue={product?.brandId ?? \"\"}>\n\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"brand\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select brand\" />\n\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Apple\">Apple</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Samsung\">Samsung</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Sony\">Sony</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"Nike\">Nike</SelectItem>\n\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"description\">Description</Label>\n\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Detailed product description...\"\n\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"active\">Product Status</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\tMake this product available for purchase\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Switch id=\"active\" defaultChecked />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t<TabsContent value=\"pricing\" className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"price\">Price *</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"price\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={product?.price ?? \"\"}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"89.99\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"comparePrice\">Compare at Price</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"comparePrice\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"129.99\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"cost\">Cost per Item</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"cost\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"45.00\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"profit\">Profit</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"profit\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calculated automatically\"\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"taxable\">Charge Tax</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\tThis product is taxable\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Switch id=\"taxable\" defaultChecked />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t<TabsContent value=\"inventory\" className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"stock\">Stock Quantity *</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"stock\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue={product?.stock ?? \"\"}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"100\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"lowStock\">Low Stock Alert</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"lowStock\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tdefaultValue=\"10\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"10\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"weight\">Weight (kg)</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"weight\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"0.5\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"trackInventory\">Track Inventory</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\tEnable stock management for this product\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Switch id=\"trackInventory\" defaultChecked />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"allowBackorder\">Allow Backorders</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\tCustomers can purchase when out of stock\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Switch id=\"allowBackorder\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t<TabsContent value=\"variants\" className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t{variants.map((variant) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={variant.id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex gap-2 p-4 border rounded-lg bg-muted/30\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 grid grid-cols-2 gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={`variantName-${variant.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tOption Name\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`variantName-${variant.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Size, Color, Material...\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label htmlFor={`variantValue-${variant.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tValues\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`variantValue-${variant.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"S, M, L, XL\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeVariant(variant.id)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-8\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Trash2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={addVariant}\n\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\tAdd Variant Option\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</TabsContent>\n\t\t\t\t\t</Tabs>\n\n\t\t\t\t\t<Separator className=\"my-6\" />\n\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<Label>Product Images</Label>\n\t\t\t\t\t\t<div className=\"grid grid-cols-4 gap-4\">\n\t\t\t\t\t\t\t{[1, 2, 3, 4].map((i) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\tclassName=\"aspect-square border-2 border-dashed rounded-lg flex flex-col items-center justify-center bg-muted/30 hover:bg-muted/50 cursor-pointer transition-colors\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Upload className=\"h-6 w-6 text-muted-foreground mb-2\" />\n\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground\">Upload</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<DialogFooter className=\"mt-6\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => onOpenChange(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton type=\"submit\">\n\t\t\t\t\t\t\t{mode === \"create\" ? \"Create Product\" : \"Save Changes\"}\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</form>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\ninterface DeleteProductDialogProps {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tproduct: Product | null;\n\tonConfirm?: () => void | Promise<void>;\n}\n\nexport function DeleteProductDialog({\n\topen,\n\tonOpenChange,\n\tproduct,\n\tonConfirm,\n}: DeleteProductDialogProps) {\n\tconst [isDeleting, setIsDeleting] = useState(false);\n\n\tconst handleDelete = async () => {\n\t\tif (onConfirm) {\n\t\t\tsetIsDeleting(true);\n\t\t\ttry {\n\t\t\t\tawait onConfirm();\n\t\t\t} finally {\n\t\t\t\tsetIsDeleting(false);\n\t\t\t}\n\t\t} else {\n\t\t\tonOpenChange(false);\n\t\t}\n\t};\n\n\tif (!product) return null;\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>Delete Product</DialogTitle>\n\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\tAre you sure you want to delete this product? It will be moved to\n\t\t\t\t\t\ttrash and permanently deleted after 30 days.\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t</DialogHeader>\n\n\t\t\t\t<div className=\"p-4 border rounded-lg bg-muted/30 space-y-2\">\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Product:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">{product.name}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">SKU:</span>\n\t\t\t\t\t\t<span className=\"font-medium font-mono\">{product.sku ?? \"\"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Stock:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">{product.stock ?? \"\"} units</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Price:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{typeof product.price === \"number\"\n\t\t\t\t\t\t\t\t? product.price.toFixed(2)\n\t\t\t\t\t\t\t\t: product.price}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tonClick={() => onOpenChange(false)}\n\t\t\t\t\t\tdisabled={isDeleting}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\tdisabled={isDeleting}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isDeleting ? \"Deleting...\" : \"Delete Product\"}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogFooter>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3281, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\n\nimport { Popover as PopoverPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Popover({\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n\treturn <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\n}\n\nfunction PopoverTrigger({\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n\treturn <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\n}\n\nfunction PopoverContent({\n\tclassName,\n\talign = \"center\",\n\tsideOffset = 4,\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n\treturn (\n\t\t<PopoverPrimitive.Content\n\t\t\tdata-slot=\"popover-content\"\n\t\t\talign={align}\n\t\t\tsideOffset={sideOffset}\n\t\t\tclassName={cn(\n\t\t\t\t\"z-50 w-72 rounded-md border border-border bg-popover p-4 text-popover-foreground shadow-md shadow-black/5 outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Popover, PopoverContent, PopoverTrigger };\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAEA;AAJA;;;;AAMA,SAAS,QAAQ,EAChB,GAAG,OACiD;IACpD,qBAAO,6LAAC,oNAAgB,CAAC,IAAI;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC5D;KAJS;AAMT,SAAS,eAAe,EACvB,GAAG,OACoD;IACvD,qBAAO,6LAAC,oNAAgB,CAAC,OAAO;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACvE;MAJS;AAMT,SAAS,eAAe,EACvB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACoD;IACvD,qBACC,6LAAC,oNAAgB,CAAC,OAAO;QACxB,aAAU;QACV,OAAO;QACP,YAAY;QACZ,WAAW,IAAA,gJAAE,EACZ,6cACA;QAEA,GAAG,KAAK;;;;;;AAGZ;MAlBS"}},
    {"offset": {"line": 3344, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-filters.tsx"],"sourcesContent":["\"use client\";\n\nimport { Filter, X } from \"lucide-react\";\nimport { usePathname, useRouter, useSearchParams } from \"next/navigation\";\nimport { useCallback, useState } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\n\ninterface FilterOption {\n\tid: string;\n\tname: string;\n}\n\ninterface ProductFiltersProps {\n\tcategories: FilterOption[];\n\tbrands: FilterOption[];\n\tonFiltersChange?: (filters: ProductFilterState) => void;\n}\n\nexport interface ProductFilterState {\n\tstatus: string | null;\n\tcategoryId: string | null;\n\tbrandId: string | null;\n\tstockStatus: string | null;\n\tpurchaseType: string | null;\n}\n\nconst STATUS_OPTIONS = [\n\t{ value: \"ACTIVE\", label: \"Active\" },\n\t{ value: \"DRAFT\", label: \"Draft\" },\n\t{ value: \"UNLISTED\", label: \"Unlisted\" },\n];\n\nconst STOCK_OPTIONS = [\n\t{ value: \"in_stock\", label: \"In Stock\" },\n\t{ value: \"low_stock\", label: \"Low Stock\" },\n\t{ value: \"out_of_stock\", label: \"Out of Stock\" },\n];\n\nconst PURCHASE_TYPE_OPTIONS = [\n\t{ value: \"ONE_TIME\", label: \"One-time purchase\" },\n\t{ value: \"SUBSCRIPTION\", label: \"Subscription\" },\n\t{ value: \"PRE_ORDER\", label: \"Pre-order\" },\n];\n\nexport function ProductFilters({\n\tcategories,\n\tbrands,\n\tonFiltersChange,\n}: ProductFiltersProps) {\n\tconst router = useRouter();\n\tconst pathname = usePathname();\n\tconst searchParams = useSearchParams();\n\n\tconst [filters, setFilters] = useState<ProductFilterState>({\n\t\tstatus: searchParams.get(\"status\"),\n\t\tcategoryId: searchParams.get(\"categoryId\"),\n\t\tbrandId: searchParams.get(\"brandId\"),\n\t\tstockStatus: searchParams.get(\"stockStatus\"),\n\t\tpurchaseType: searchParams.get(\"purchaseType\"),\n\t});\n\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\t// Count active filters\n\tconst activeFilterCount = Object.values(filters).filter(Boolean).length;\n\n\t// Sync URL params with filters\n\tconst updateURLParams = useCallback(\n\t\t(newFilters: ProductFilterState) => {\n\t\t\tconst params = new URLSearchParams(searchParams.toString());\n\n\t\t\t// Update or remove each filter param\n\t\t\tObject.entries(newFilters).forEach(([key, value]) => {\n\t\t\t\tif (value) {\n\t\t\t\t\tparams.set(key, value);\n\t\t\t\t} else {\n\t\t\t\t\tparams.delete(key);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Reset to page 1 when filters change\n\t\t\tparams.delete(\"page\");\n\n\t\t\trouter.push(`${pathname}?${params.toString()}`, { scroll: false });\n\t\t},\n\t\t[pathname, router, searchParams],\n\t);\n\n\tconst handleFilterChange = (\n\t\tkey: keyof ProductFilterState,\n\t\tvalue: string | null,\n\t) => {\n\t\tconst newFilters = { ...filters, [key]: value === \"all\" ? null : value };\n\t\tsetFilters(newFilters);\n\t\tupdateURLParams(newFilters);\n\t\tonFiltersChange?.(newFilters);\n\t};\n\n\tconst clearAllFilters = () => {\n\t\tconst clearedFilters: ProductFilterState = {\n\t\t\tstatus: null,\n\t\t\tcategoryId: null,\n\t\t\tbrandId: null,\n\t\t\tstockStatus: null,\n\t\t\tpurchaseType: null,\n\t\t};\n\t\tsetFilters(clearedFilters);\n\t\tupdateURLParams(clearedFilters);\n\t\tonFiltersChange?.(clearedFilters);\n\t};\n\n\tconst clearFilter = (key: keyof ProductFilterState) => {\n\t\thandleFilterChange(key, null);\n\t};\n\n\t// Get label for filter value\n\tconst getFilterLabel = (key: keyof ProductFilterState, value: string) => {\n\t\tswitch (key) {\n\t\t\tcase \"status\":\n\t\t\t\treturn STATUS_OPTIONS.find((o) => o.value === value)?.label ?? value;\n\t\t\tcase \"stockStatus\":\n\t\t\t\treturn STOCK_OPTIONS.find((o) => o.value === value)?.label ?? value;\n\t\t\tcase \"purchaseType\":\n\t\t\t\treturn (\n\t\t\t\t\tPURCHASE_TYPE_OPTIONS.find((o) => o.value === value)?.label ?? value\n\t\t\t\t);\n\t\t\tcase \"categoryId\":\n\t\t\t\treturn categories.find((c) => c.id === value)?.name ?? value;\n\t\t\tcase \"brandId\":\n\t\t\t\treturn brands.find((b) => b.id === value)?.name ?? value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t<Popover open={isOpen} onOpenChange={setIsOpen}>\n\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t<Button variant=\"outline\" className=\"relative\">\n\t\t\t\t\t\t<Filter className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tFilters\n\t\t\t\t\t\t{activeFilterCount > 0 && (\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tclassName=\"ml-2 h-5 w-5 p-0 flex items-center justify-center rounded-full text-xs\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{activeFilterCount}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Button>\n\t\t\t\t</PopoverTrigger>\n\t\t\t\t<PopoverContent className=\"w-80\" align=\"start\">\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<h4 className=\"font-medium\">Filters</h4>\n\t\t\t\t\t\t\t{activeFilterCount > 0 && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={clearAllFilters}\n\t\t\t\t\t\t\t\t\tclassName=\"h-auto p-0 text-muted-foreground hover:text-foreground\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tClear all\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t{/* Status Filter */}\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Status</span>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={filters.status ?? \"all\"}\n\t\t\t\t\t\t\t\tonValueChange={(value) => handleFilterChange(\"status\", value)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"All statuses\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"all\">All statuses</SelectItem>\n\t\t\t\t\t\t\t\t\t{STATUS_OPTIONS.map((option) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Category Filter */}\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Category</span>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={filters.categoryId ?? \"all\"}\n\t\t\t\t\t\t\t\tonValueChange={(value) =>\n\t\t\t\t\t\t\t\t\thandleFilterChange(\"categoryId\", value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"All categories\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"all\">All categories</SelectItem>\n\t\t\t\t\t\t\t\t\t{categories.map((category) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={category.id} value={category.id}>\n\t\t\t\t\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Brand Filter */}\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Brand</span>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={filters.brandId ?? \"all\"}\n\t\t\t\t\t\t\t\tonValueChange={(value) => handleFilterChange(\"brandId\", value)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"All brands\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"all\">All brands</SelectItem>\n\t\t\t\t\t\t\t\t\t{brands.map((brand) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={brand.id} value={brand.id}>\n\t\t\t\t\t\t\t\t\t\t\t{brand.name}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Stock Status Filter */}\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Stock Status</span>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={filters.stockStatus ?? \"all\"}\n\t\t\t\t\t\t\t\tonValueChange={(value) =>\n\t\t\t\t\t\t\t\t\thandleFilterChange(\"stockStatus\", value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"All stock statuses\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"all\">All stock statuses</SelectItem>\n\t\t\t\t\t\t\t\t\t{STOCK_OPTIONS.map((option) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Purchase Type Filter */}\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Purchase Type</span>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={filters.purchaseType ?? \"all\"}\n\t\t\t\t\t\t\t\tonValueChange={(value) =>\n\t\t\t\t\t\t\t\t\thandleFilterChange(\"purchaseType\", value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"All purchase types\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"all\">All purchase types</SelectItem>\n\t\t\t\t\t\t\t\t\t{PURCHASE_TYPE_OPTIONS.map((option) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</PopoverContent>\n\t\t\t</Popover>\n\n\t\t\t{/* Active filter badges */}\n\t\t\t{activeFilterCount > 0 && (\n\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t{Object.entries(filters).map(([key, value]) => {\n\t\t\t\t\t\tif (!value) return null;\n\t\t\t\t\t\tconst filterKey = key as keyof ProductFilterState;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tclassName=\"pl-2 pr-1 py-1 flex items-center gap-1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t{getFilterLabel(filterKey, value)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={() => clearFilter(filterKey)}\n\t\t\t\t\t\t\t\t\tclassName=\"ml-1 rounded-full p-0.5 hover:bg-muted\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<X className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={clearAllFilters}\n\t\t\t\t\t\tclassName=\"h-7 px-2 text-xs text-muted-foreground\"\n\t\t\t\t\t>\n\t\t\t\t\t\tClear all\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3991, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/page.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ProductStatus } from \"@boostcart/database\";\nimport {\n\tDownload,\n\tLoader2,\n\tMoreVertical,\n\tPackage,\n\tPlus,\n\tSearch,\n\tTrash2,\n} from \"lucide-react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuLabel,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { deleteProduct, getProducts } from \"@/server/api/internal/products\";\nimport { useDialogStore } from \"@/stores/dialog-store\";\nimport {\n\tDeleteProductDialog,\n\tViewProductDialog,\n} from \"./_components/product-dialogs\";\nimport { ProductFilters } from \"./_components/product-filters\";\n\ninterface Product {\n\tid: string;\n\tslug: string;\n\tname: string;\n\tdescription: string | null;\n\tstatus: ProductStatus;\n\tprice: number;\n\tsku: string | null;\n\ttrackStock: boolean;\n\tstock: number | null;\n\tcategoryId: string;\n\tcategoryName: string;\n\tbrandId: string | null;\n\tbrandName: string | null;\n\timageUrl: string | null;\n\tcreatedAt: Date;\n\tupdatedAt: Date;\n}\n\ninterface ProductsStats {\n\ttotal: number;\n\tactive: number;\n\toutOfStock: number;\n\tlowStock: number;\n}\n\n// TODO: Replace with real data from API\nconst mockCategories = [\n\t{ id: \"cat-1\", name: \"Electronics\" },\n\t{ id: \"cat-2\", name: \"Clothing\" },\n\t{ id: \"cat-3\", name: \"Home & Garden\" },\n\t{ id: \"cat-4\", name: \"Sports & Outdoors\" },\n\t{ id: \"cat-5\", name: \"Beauty & Health\" },\n];\n\nconst mockBrands = [\n\t{ id: \"brand-1\", name: \"Apple\" },\n\t{ id: \"brand-2\", name: \"Samsung\" },\n\t{ id: \"brand-3\", name: \"Nike\" },\n\t{ id: \"brand-4\", name: \"Adidas\" },\n\t{ id: \"brand-5\", name: \"Sony\" },\n];\n\nfunction ProductsPageContent() {\n\tconst router = useRouter();\n\tconst searchParams = useSearchParams();\n\n\tconst [products, setProducts] = useState<Product[]>([]);\n\tconst [stats, setStats] = useState<ProductsStats>({\n\t\ttotal: 0,\n\t\tactive: 0,\n\t\toutOfStock: 0,\n\t\tlowStock: 0,\n\t});\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [searchQuery, setSearchQuery] = useState(\n\t\tsearchParams.get(\"search\") ?? \"\",\n\t);\n\tconst [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n\tconst [pagination, setPagination] = useState({\n\t\tpage: 1,\n\t\tpageSize: 20,\n\t\ttotal: 0,\n\t\ttotalPages: 0,\n\t});\n\n\t// Dialog states from zustand\n\tconst isViewProductOpen = useDialogStore((state) => state.isViewProductOpen);\n\tconst isDeleteProductOpen = useDialogStore(\n\t\t(state) => state.isDeleteProductOpen,\n\t);\n\tconst openDialog = useDialogStore((state) => state.openDialog);\n\tconst closeDialog = useDialogStore((state) => state.closeDialog);\n\n\t// Extract primitive values from searchParams to use as stable dependencies\n\tconst currentPage = searchParams.get(\"page\") ?? \"1\";\n\tconst statusParam = searchParams.get(\"status\") ?? \"\";\n\tconst categoryIdParam = searchParams.get(\"categoryId\") ?? \"\";\n\tconst brandIdParam = searchParams.get(\"brandId\") ?? \"\";\n\tconst stockStatusParam = searchParams.get(\"stockStatus\") ?? \"\";\n\tconst searchParam = searchParams.get(\"search\") ?? \"\";\n\n\t// Fetch products with filters\n\tconst fetchProducts = useCallback(async () => {\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tconst page = parseInt(currentPage, 10);\n\t\t\tconst status = statusParam as ProductStatus | null;\n\t\t\tconst categoryId = categoryIdParam || null;\n\t\t\tconst brandId = brandIdParam || null;\n\n\t\t\t// Validate stockStatus against allowed values\n\t\t\tconst validStockStatuses = [\n\t\t\t\t\"in_stock\",\n\t\t\t\t\"out_of_stock\",\n\t\t\t\t\"low_stock\",\n\t\t\t] as const;\n\t\t\tconst stockStatus =\n\t\t\t\tstockStatusParam &&\n\t\t\t\tvalidStockStatuses.includes(\n\t\t\t\t\tstockStatusParam as (typeof validStockStatuses)[number],\n\t\t\t\t)\n\t\t\t\t\t? (stockStatusParam as \"in_stock\" | \"out_of_stock\" | \"low_stock\")\n\t\t\t\t\t: undefined;\n\n\t\t\tconst result = await getProducts({\n\t\t\t\tpage,\n\t\t\t\tpageSize: 20,\n\t\t\t\tstatus: status ? [status] : undefined,\n\t\t\t\tcategoryIds: categoryId ? [categoryId] : undefined,\n\t\t\t\tbrandIds: brandId ? [brandId] : undefined,\n\t\t\t\tstockStatus,\n\t\t\t\tsearch: searchParam || undefined,\n\t\t\t});\n\n\t\t\tsetProducts(\n\t\t\t\tresult.products.map((p) => ({\n\t\t\t\t\tid: p.id,\n\t\t\t\t\tslug: p.slug,\n\t\t\t\t\tname: p.name,\n\t\t\t\t\tdescription: p.description ?? null,\n\t\t\t\t\tstatus: p.status,\n\t\t\t\t\tprice: Number(p.price),\n\t\t\t\t\tsku: p.sku,\n\t\t\t\t\ttrackStock: p.trackStock,\n\t\t\t\t\tstock: p.stock,\n\t\t\t\t\tcategoryId: p.categoryId,\n\t\t\t\t\tcategoryName: p.categoryName ?? \"Uncategorized\",\n\t\t\t\t\tbrandId: p.brandId,\n\t\t\t\t\tbrandName: p.brandName ?? null,\n\t\t\t\t\timageUrl: p.imageUrl ?? null,\n\t\t\t\t\tcreatedAt: new Date(p.createdAt),\n\t\t\t\t\tupdatedAt: new Date(p.updatedAt),\n\t\t\t\t})),\n\t\t\t);\n\n\t\t\tsetPagination({\n\t\t\t\tpage: result.pagination.page,\n\t\t\t\tpageSize: result.pagination.pageSize,\n\t\t\t\ttotal: result.pagination.total,\n\t\t\t\ttotalPages: result.pagination.totalPages,\n\t\t\t});\n\n\t\t\t// Update stats\n\t\t\tsetStats({\n\t\t\t\ttotal: result.pagination.total,\n\t\t\t\tactive: result.products.filter((p) => p.status === \"ACTIVE\").length,\n\t\t\t\toutOfStock: result.products.filter((p) => p.trackStock && p.stock === 0)\n\t\t\t\t\t.length,\n\t\t\t\tlowStock: result.products.filter(\n\t\t\t\t\t(p) =>\n\t\t\t\t\t\tp.trackStock && p.stock !== null && p.stock > 0 && p.stock <= 10,\n\t\t\t\t).length,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to fetch products:\", error);\n\t\t\ttoast.error(\"Failed to load products\");\n\t\t} finally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tstatusParam,\n\t\tcategoryIdParam,\n\t\tbrandIdParam,\n\t\tstockStatusParam,\n\t\tsearchParam,\n\t]);\n\n\tuseEffect(() => {\n\t\tfetchProducts();\n\t}, [fetchProducts]);\n\n\t// Handle search with debounce - only update URL if searchQuery differs from URL param\n\tuseEffect(() => {\n\t\t// Skip if searchQuery matches URL (prevents loop)\n\t\tif (searchQuery === searchParam) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handler = setTimeout(() => {\n\t\t\tconst params = new URLSearchParams();\n\t\t\t// Rebuild params from current values\n\t\t\tif (searchQuery) {\n\t\t\t\tparams.set(\"search\", searchQuery);\n\t\t\t}\n\t\t\tif (statusParam) {\n\t\t\t\tparams.set(\"status\", statusParam);\n\t\t\t}\n\t\t\tif (categoryIdParam) {\n\t\t\t\tparams.set(\"categoryId\", categoryIdParam);\n\t\t\t}\n\t\t\tif (brandIdParam) {\n\t\t\t\tparams.set(\"brandId\", brandIdParam);\n\t\t\t}\n\t\t\tif (stockStatusParam) {\n\t\t\t\tparams.set(\"stockStatus\", stockStatusParam);\n\t\t\t}\n\t\t\t// Reset page when searching\n\t\t\trouter.push(`/admin/products?${params.toString()}`, { scroll: false });\n\t\t}, 300);\n\n\t\treturn () => clearTimeout(handler);\n\t}, [\n\t\tsearchQuery,\n\t\tsearchParam,\n\t\tstatusParam,\n\t\tcategoryIdParam,\n\t\tbrandIdParam,\n\t\tstockStatusParam,\n\t\trouter,\n\t]);\n\n\t// Event handlers\n\tconst handleView = (product: Product) => {\n\t\tsetSelectedProduct(product);\n\t\topenDialog(\"isViewProductOpen\");\n\t};\n\n\tconst handleEdit = (product: Product) => {\n\t\trouter.push(`/admin/products/${product.id}/edit`);\n\t};\n\n\tconst handleDelete = (product: Product) => {\n\t\tsetSelectedProduct(product);\n\t\topenDialog(\"isDeleteProductOpen\");\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\tif (!selectedProduct) return;\n\n\t\ttry {\n\t\t\tawait deleteProduct(selectedProduct.id);\n\t\t\ttoast.success(\"Product moved to trash\");\n\t\t\tcloseDialog(\"isDeleteProductOpen\");\n\t\t\tfetchProducts();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to delete product:\", error);\n\t\t\ttoast.error(\"Failed to delete product\");\n\t\t}\n\t};\n\n\tconst handleCreate = () => {\n\t\trouter.push(\"/admin/products/new\");\n\t};\n\n\tconst handlePageChange = (newPage: number) => {\n\t\tconst params = new URLSearchParams(searchParams.toString());\n\t\tparams.set(\"page\", newPage.toString());\n\t\trouter.push(`/admin/products?${params.toString()}`, { scroll: false });\n\t};\n\n\tconst getStatusBadge = (status: ProductStatus) => {\n\t\tswitch (status) {\n\t\t\tcase \"ACTIVE\":\n\t\t\t\treturn (\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300\"\n\t\t\t\t\t>\n\t\t\t\t\t\tActive\n\t\t\t\t\t</Badge>\n\t\t\t\t);\n\t\t\tcase \"DRAFT\":\n\t\t\t\treturn (\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300\"\n\t\t\t\t\t>\n\t\t\t\t\t\tDraft\n\t\t\t\t\t</Badge>\n\t\t\t\t);\n\t\t\tcase \"UNLISTED\":\n\t\t\t\treturn (\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300\"\n\t\t\t\t\t>\n\t\t\t\t\t\tUnlisted\n\t\t\t\t\t</Badge>\n\t\t\t\t);\n\t\t}\n\t};\n\n\tconst getStockBadge = (product: Product) => {\n\t\tif (!product.trackStock) {\n\t\t\treturn <span className=\"text-sm text-muted-foreground\">Not tracked</span>;\n\t\t}\n\n\t\tconst stock = product.stock ?? 0;\n\n\t\tif (stock === 0) {\n\t\t\treturn (\n\t\t\t\t<Badge\n\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\tclassName=\"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300\"\n\t\t\t\t>\n\t\t\t\t\tOut of Stock\n\t\t\t\t</Badge>\n\t\t\t);\n\t\t}\n\n\t\tif (stock <= 10) {\n\t\t\treturn (\n\t\t\t\t<Badge\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tclassName=\"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300\"\n\t\t\t\t>\n\t\t\t\t\tLow: {stock}\n\t\t\t\t</Badge>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Badge\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300\"\n\t\t\t>\n\t\t\t\t{stock}\n\t\t\t</Badge>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1 className=\"text-3xl font-bold tracking-tight\">Products</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\t\tManage your product inventory and catalog\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t<Button variant=\"outline\" asChild>\n\t\t\t\t\t\t<Link href=\"/admin/products/trash\">\n\t\t\t\t\t\t\t<Trash2 className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tTrash\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<PolarisButton type=\"button\" onClick={handleCreate}>\n\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t\tAdd Product\n\t\t\t\t\t</PolarisButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Stats */}\n\t\t\t<div className=\"grid gap-4 md:grid-cols-4\">\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Total Products</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{stats.total.toLocaleString()}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Active Products</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{stats.active.toLocaleString()}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Out of Stock</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{stats.outOfStock.toLocaleString()}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Low Stock</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{stats.lowStock.toLocaleString()}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t{/* Filters */}\n\t\t\t<Card className=\"p-4\">\n\t\t\t\t<div className=\"flex flex-col sm:flex-row gap-4\">\n\t\t\t\t\t<div className=\"relative flex-1\">\n\t\t\t\t\t\t<Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\tplaceholder=\"Search by product name, SKU, or brand...\"\n\t\t\t\t\t\t\tclassName=\"pl-9\"\n\t\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\t\tonChange={(e) => setSearchQuery(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ProductFilters categories={mockCategories} brands={mockBrands} />\n\t\t\t\t\t<Button type=\"button\" variant=\"outline\">\n\t\t\t\t\t\t<Download className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tExport\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t{/* Products Table */}\n\t\t\t<Card>\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<div className=\"flex items-center justify-center py-16\">\n\t\t\t\t\t\t<Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n\t\t\t\t\t</div>\n\t\t\t\t) : products.length === 0 ? (\n\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-16\">\n\t\t\t\t\t\t<div className=\"rounded-full bg-muted p-4 mb-4\">\n\t\t\t\t\t\t\t<Package className=\"h-8 w-8 text-muted-foreground\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3 className=\"text-lg font-medium mb-1\">No products found</h3>\n\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground mb-4\">\n\t\t\t\t\t\t\t{searchQuery || searchParams.toString()\n\t\t\t\t\t\t\t\t? \"Try adjusting your search or filters\"\n\t\t\t\t\t\t\t\t: \"Get started by adding your first product\"}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<PolarisButton type=\"button\" onClick={handleCreate}>\n\t\t\t\t\t\t\t<Plus className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tAdd Product\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableHead>Product</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Status</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>SKU</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Category</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Brand</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Stock</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Price</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"w-[70px]\" />\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{products.map((product) => (\n\t\t\t\t\t\t\t\t<TableRow key={product.id} className=\"cursor-pointer\">\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-lg bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-sm overflow-hidden relative\">\n\t\t\t\t\t\t\t\t\t\t\t\t{product.imageUrl ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={product.imageUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tunoptimized\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Package className=\"h-5 w-5 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-sm\">{product.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs truncate max-w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{product.slug}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{getStatusBadge(product.status)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"font-mono text-sm\">\n\t\t\t\t\t\t\t\t\t\t{product.sku ?? \"\"}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{product.categoryName}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{product.brandName ?? \"\"}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{getStockBadge(product)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-medium\">\n\t\t\t\t\t\t\t\t\t\t{product.price.toFixed(2)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"ghost\" size=\"icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MoreVertical className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuLabel>Actions</DropdownMenuLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem onClick={() => handleView(product)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView details\n\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem onClick={() => handleEdit(product)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit product\n\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem>Duplicate</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem>Manage inventory</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem>View analytics</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-red-600\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(product)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete product\n\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuContent>\n\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)}\n\t\t\t</Card>\n\n\t\t\t{/* Pagination */}\n\t\t\t{!isLoading && products.length > 0 && (\n\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\tShowing{\" \"}\n\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t{(pagination.page - 1) * pagination.pageSize + 1}-\n\t\t\t\t\t\t\t{Math.min(\n\t\t\t\t\t\t\t\tpagination.page * pagination.pageSize,\n\t\t\t\t\t\t\t\tpagination.total,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\tof <span className=\"font-medium\">{pagination.total}</span> products\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdisabled={pagination.page <= 1}\n\t\t\t\t\t\t\tonClick={() => handlePageChange(pagination.page - 1)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrevious\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tdisabled={pagination.page >= pagination.totalPages}\n\t\t\t\t\t\t\tonClick={() => handlePageChange(pagination.page + 1)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* CRUD Dialogs */}\n\t\t\t<ViewProductDialog\n\t\t\t\topen={isViewProductOpen}\n\t\t\t\tonOpenChange={(open) =>\n\t\t\t\t\topen\n\t\t\t\t\t\t? openDialog(\"isViewProductOpen\")\n\t\t\t\t\t\t: closeDialog(\"isViewProductOpen\")\n\t\t\t\t}\n\t\t\t\tproduct={\n\t\t\t\t\tselectedProduct\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t...selectedProduct,\n\t\t\t\t\t\t\t\tprice: selectedProduct.price,\n\t\t\t\t\t\t\t\tcreatedAt: selectedProduct.createdAt.toISOString(),\n\t\t\t\t\t\t\t\tupdatedAt: selectedProduct.updatedAt.toISOString(),\n\t\t\t\t\t\t\t\tdeletedAt: null,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<DeleteProductDialog\n\t\t\t\topen={isDeleteProductOpen}\n\t\t\t\tonOpenChange={(open) =>\n\t\t\t\t\topen\n\t\t\t\t\t\t? openDialog(\"isDeleteProductOpen\")\n\t\t\t\t\t\t: closeDialog(\"isDeleteProductOpen\")\n\t\t\t\t}\n\t\t\t\tproduct={\n\t\t\t\t\tselectedProduct\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t...selectedProduct,\n\t\t\t\t\t\t\t\tprice: selectedProduct.price,\n\t\t\t\t\t\t\t\tcreatedAt: selectedProduct.createdAt.toISOString(),\n\t\t\t\t\t\t\t\tupdatedAt: selectedProduct.updatedAt.toISOString(),\n\t\t\t\t\t\t\t\tdeletedAt: null,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tonConfirm={handleConfirmDelete}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default function ProductsPage() {\n\treturn (\n\t\t<Suspense\n\t\t\tfallback={\n\t\t\t\t<div className=\"flex items-center justify-center min-h-[400px]\">\n\t\t\t\t\t<Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n\t\t\t\t</div>\n\t\t\t}\n\t\t>\n\t\t\t<ProductsPageContent />\n\t\t</Suspense>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}