{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<\n\tHTMLTableElement,\n\tReact.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n\t<div className=\"relative w-full overflow-auto\">\n\t\t<table\n\t\t\tref={ref}\n\t\t\tclassName={cn(\"w-full caption-bottom text-sm\", className)}\n\t\t\t{...props}\n\t\t/>\n\t</div>\n));\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n));\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tbody\n\t\tref={ref}\n\t\tclassName={cn(\"[&_tr:last-child]:border-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tfoot\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<\n\tHTMLTableRowElement,\n\tReact.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n\t<tr\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<th\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<td\n\t\tref={ref}\n\t\tclassName={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<\n\tHTMLTableCaptionElement,\n\tReact.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n\t<caption\n\t\tref={ref}\n\t\tclassName={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nTableCaption.displayName = \"TableCaption\";\n\nexport {\n\tTable,\n\tTableHeader,\n\tTableBody,\n\tTableFooter,\n\tTableHead,\n\tTableRow,\n\tTableCell,\n\tTableCaption,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC;YACA,KAAK;YACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIZ,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAExE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,2DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,+EACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,oGACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGX,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAiNsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAiCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,4CAAA"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/pages.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\nimport type { PageType } from \"@boostcart/database\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getPages() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst pages = await db.page.findMany({\n\t\twhere: { tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn pages.map((page) => ({\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttitle: page.translations[0]?.title ?? page.slug,\n\t\tcontent: page.translations[0]?.content ?? \"\",\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t}));\n}\n\nexport async function getPage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\tinclude: {\n\t\t\t\t\tlocale: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found\");\n\t}\n\n\treturn {\n\t\tid: page.id,\n\t\tslug: page.slug,\n\t\ttype: page.type,\n\t\tisActive: page.isActive,\n\t\ttranslations: page.translations.map((t) => ({\n\t\t\tid: t.id,\n\t\t\tlocaleId: t.localeId,\n\t\t\tlocaleCode: t.locale.code,\n\t\t\tlocaleName: t.locale.name,\n\t\t\ttitle: t.title,\n\t\t\tcontent: t.content,\n\t\t})),\n\t\tcreatedAt: page.createdAt,\n\t\tupdatedAt: page.updatedAt,\n\t};\n}\n\nexport interface CreatePageInput {\n\tslug: string;\n\ttype: PageType;\n\tisActive?: boolean;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function createPage(input: CreatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Check for duplicate slug\n\tconst existing = await db.page.findUnique({\n\t\twhere: {\n\t\t\ttenantId_slug: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: input.slug,\n\t\t\t},\n\t\t},\n\t});\n\n\tif (existing) {\n\t\tthrow new Error(\"A page with this slug already exists\");\n\t}\n\n\tconst page = await db.page.create({\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive ?? true,\n\t\t\ttenantId,\n\t\t\ttranslations: {\n\t\t\t\tcreate: input.translations,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn page;\n}\n\nexport interface UpdatePageInput {\n\tslug?: string;\n\ttype?: PageType;\n\tisActive?: boolean;\n\ttranslations?: {\n\t\tlocaleId: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n}\n\nexport async function updatePage(id: string, input: UpdatePageInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\t// Check for duplicate slug if changing\n\tif (input.slug && input.slug !== page.slug) {\n\t\tconst existing = await db.page.findUnique({\n\t\t\twhere: {\n\t\t\t\ttenantId_slug: {\n\t\t\t\t\ttenantId,\n\t\t\t\t\tslug: input.slug,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (existing) {\n\t\t\tthrow new Error(\"A page with this slug already exists\");\n\t\t}\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\tslug: input.slug,\n\t\t\ttype: input.type,\n\t\t\tisActive: input.isActive,\n\t\t\t...(input.translations && {\n\t\t\t\ttranslations: {\n\t\t\t\t\tdeleteMany: {},\n\t\t\t\t\tcreate: input.translations,\n\t\t\t\t},\n\t\t\t}),\n\t\t},\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deletePage(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify page belongs to tenant\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tawait db.page.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function togglePageActive(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst page = await db.page.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!page) {\n\t\tthrow new Error(\"Page not found or access denied\");\n\t}\n\n\tconst updated = await db.page.update({\n\t\twhere: { id },\n\t\tdata: { isActive: !page.isActive },\n\t});\n\n\treturn updated;\n}\n\nexport async function getPageTypes() {\n\treturn [\n\t\t{ value: \"FAQ\", label: \"FAQ\" },\n\t\t{ value: \"CONTACT\", label: \"Contact\" },\n\t\t{ value: \"ABOUT_US\", label: \"About Us\" },\n\t\t{ value: \"PRIVACY_POLICY\", label: \"Privacy Policy\" },\n\t\t{ value: \"TERMS_OF_SERVICE\", label: \"Terms of Service\" },\n\t\t{ value: \"CUSTOM\", label: \"Custom Page\" },\n\t];\n}\n"],"names":[],"mappings":";;;;;;;MAoOsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,oDAAA"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/pages/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Eye, FileText, Pencil, Plus, Trash2 } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n\tEmpty,\n\tEmptyContent,\n\tEmptyDescription,\n\tEmptyHeader,\n\tEmptyMedia,\n\tEmptyTitle,\n} from \"@/components/ui/empty\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport {\n\tdeletePage,\n\tgetPages,\n\ttogglePageActive,\n} from \"@/server/api/internal/pages\";\nimport type { PageType } from \"@boostcart/database\";\n\ninterface PageData {\n\tid: string;\n\tslug: string;\n\ttype: PageType;\n\tisActive: boolean;\n\ttitle: string;\n\tcontent: string;\n\ttranslations: {\n\t\tlocaleId: string;\n\t\tlocaleCode: string;\n\t\tlocaleName: string;\n\t\ttitle: string;\n\t\tcontent: string;\n\t}[];\n\tcreatedAt: Date;\n\tupdatedAt: Date;\n}\n\nexport default function PagesPage() {\n\tconst router = useRouter();\n\tconst [pages, setPages] = useState<PageData[]>([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [viewDialogOpen, setViewDialogOpen] = useState(false);\n\tconst [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\tconst [selectedPage, setSelectedPage] = useState<PageData | null>(null);\n\tconst [deleting, setDeleting] = useState(false);\n\n\tconst loadData = useCallback(async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst pagesData = await getPages();\n\t\t\tsetPages(pagesData);\n\t\t} catch {\n\t\t\ttoast.error(\"Failed to load pages\");\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tloadData();\n\t}, [loadData]);\n\n\tconst handleView = (page: PageData) => {\n\t\tsetSelectedPage(page);\n\t\tsetViewDialogOpen(true);\n\t};\n\n\tconst handleDeleteClick = (page: PageData) => {\n\t\tsetSelectedPage(page);\n\t\tsetDeleteDialogOpen(true);\n\t};\n\n\tconst handleToggleActive = async (page: PageData) => {\n\t\ttry {\n\t\t\tawait togglePageActive(page.id);\n\t\t\ttoast.success(page.isActive ? \"Page deactivated\" : \"Page activated\");\n\t\t\tloadData();\n\t\t} catch {\n\t\t\ttoast.error(\"Failed to update page status\");\n\t\t}\n\t};\n\n\tconst handleDelete = async () => {\n\t\tif (!selectedPage) return;\n\n\t\ttry {\n\t\t\tsetDeleting(true);\n\t\t\tawait deletePage(selectedPage.id);\n\t\t\ttoast.success(\"Page deleted\");\n\t\t\tsetDeleteDialogOpen(false);\n\t\t\tloadData();\n\t\t} catch {\n\t\t\ttoast.error(\"Failed to delete page\");\n\t\t} finally {\n\t\t\tsetDeleting(false);\n\t\t}\n\t};\n\n\tconst formatDate = (date: Date) => {\n\t\treturn new Date(date).toLocaleDateString(\"bg-BG\", {\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t});\n\t};\n\n\tconst activePages = pages.filter((p) => p.isActive).length;\n\tconst draftPages = pages.filter((p) => !p.isActive).length;\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center h-64\">\n\t\t\t\t<div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1 className=\"text-3xl font-bold tracking-tight\">Pages</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\t\tManage static pages and content\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<PolarisButton onClick={() => router.push(\"/admin/pages/new\")}>\n\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\tCreate Page\n\t\t\t\t</PolarisButton>\n\t\t\t</div>\n\n\t\t\t<div className=\"grid gap-4 md:grid-cols-3\">\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Total Pages</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{pages.length}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Active Pages</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{activePages}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Draft Pages</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{draftPages}</p>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<Card>\n\t\t\t\t{pages.length === 0 ? (\n\t\t\t\t\t<Empty>\n\t\t\t\t\t\t<EmptyMedia>\n\t\t\t\t\t\t\t<FileText className=\"h-12 w-12 text-muted-foreground\" />\n\t\t\t\t\t\t</EmptyMedia>\n\t\t\t\t\t\t<EmptyHeader>\n\t\t\t\t\t\t\t<EmptyTitle>No pages yet</EmptyTitle>\n\t\t\t\t\t\t\t<EmptyDescription>\n\t\t\t\t\t\t\t\tCreate your first page to add content to your store\n\t\t\t\t\t\t\t</EmptyDescription>\n\t\t\t\t\t\t</EmptyHeader>\n\t\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t\t<PolarisButton onClick={() => router.push(\"/admin/pages/new\")}>\n\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\tCreate Page\n\t\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t\t</EmptyContent>\n\t\t\t\t\t</Empty>\n\t\t\t\t) : (\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableHead>Title</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Slug</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Type</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Status</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Updated</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Actions</TableHead>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{pages.map((page) => (\n\t\t\t\t\t\t\t\t<TableRow key={page.id}>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">{page.title}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"font-mono text-sm\">\n\t\t\t\t\t\t\t\t\t\t/{page.slug}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t{page.type.replace(\"_\", \" \")}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\tvariant={page.isActive ? \"default\" : \"secondary\"}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleToggleActive(page)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{page.isActive ? \"Active\" : \"Draft\"}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{formatDate(page.updatedAt)}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-end gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleView(page)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Eye className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"ghost\" size=\"icon\" asChild>\n\t\t\t\t\t\t\t\t\t\t\t\t<Link href={`/admin/pages/${page.id}/edit`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Pencil className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteClick(page)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trash2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)}\n\t\t\t</Card>\n\n\t\t\t{/* View Dialog */}\n\t\t\t<Dialog open={viewDialogOpen} onOpenChange={setViewDialogOpen}>\n\t\t\t\t<DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Page Preview</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>Preview how your page will look</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t{selectedPage && (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tvariant={selectedPage.isActive ? \"default\" : \"secondary\"}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{selectedPage.isActive ? \"Active\" : \"Draft\"}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t<Badge variant=\"outline\">\n\t\t\t\t\t\t\t\t\t{selectedPage.type.replace(\"_\", \" \")}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t<span className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t/{selectedPage.slug}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h2 className=\"text-2xl font-bold\">{selectedPage.title}</h2>\n\n\t\t\t\t\t\t\t<div className=\"border-t pt-4\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"prose prose-sm dark:prose-invert max-w-none\"\n\t\t\t\t\t\t\t\t\t// biome-ignore lint/security/noDangerouslySetInnerHtml: Rich text content\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: selectedPage.content }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button variant=\"outline\" onClick={() => setViewDialogOpen(false)}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton onClick={() => router.push(`/admin/pages/${selectedPage?.id}/edit`)}>\n\t\t\t\t\t\t\t<Pencil className=\"h-4 w-4\" />\n\t\t\t\t\t\t\tEdit Page\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t{/* Delete Dialog */}\n\t\t\t<Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Delete Page</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tAre you sure you want to delete &quot;{selectedPage?.title}&quot;?\n\t\t\t\t\t\t\tThis action cannot be undone.\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => setDeleteDialogOpen(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t\tdisabled={deleting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{deleting ? \"Deleting...\" : \"Delete Page\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA;AACA;AAQA;AAQA;AAQA;AAAA;AAAA;;;AAnCA;;;;;;;;;;;;;;AA4De,SAAS;;IACvB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAa,EAAE;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAkB;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,WAAW,IAAA,4KAAW;2CAAC;YAC5B,IAAI;gBACH,WAAW;gBACX,MAAM,YAAY,MAAM,IAAA,2MAAQ;gBAChC,SAAS;YACV,EAAE,OAAM;gBACP,oJAAK,CAAC,KAAK,CAAC;YACb,SAAU;gBACT,WAAW;YACZ;QACD;0CAAG,EAAE;IAEL,IAAA,0KAAS;+BAAC;YACT;QACD;8BAAG;QAAC;KAAS;IAEb,MAAM,aAAa,CAAC;QACnB,gBAAgB;QAChB,kBAAkB;IACnB;IAEA,MAAM,oBAAoB,CAAC;QAC1B,gBAAgB;QAChB,oBAAoB;IACrB;IAEA,MAAM,qBAAqB,OAAO;QACjC,IAAI;YACH,MAAM,IAAA,mNAAgB,EAAC,KAAK,EAAE;YAC9B,oJAAK,CAAC,OAAO,CAAC,KAAK,QAAQ,GAAG,qBAAqB;YACnD;QACD,EAAE,OAAM;YACP,oJAAK,CAAC,KAAK,CAAC;QACb;IACD;IAEA,MAAM,eAAe;QACpB,IAAI,CAAC,cAAc;QAEnB,IAAI;YACH,YAAY;YACZ,MAAM,IAAA,6MAAU,EAAC,aAAa,EAAE;YAChC,oJAAK,CAAC,OAAO,CAAC;YACd,oBAAoB;YACpB;QACD,EAAE,OAAM;YACP,oJAAK,CAAC,KAAK,CAAC;QACb,SAAU;YACT,YAAY;QACb;IACD;IAEA,MAAM,aAAa,CAAC;QACnB,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;YACjD,MAAM;YACN,OAAO;YACP,KAAK;QACN;IACD;IAEA,MAAM,cAAc,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,EAAE,MAAM;IAC1D,MAAM,aAAa,MAAM,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,QAAQ,EAAE,MAAM;IAE1D,IAAI,SAAS;QACZ,qBACC,6LAAC;YAAI,WAAU;sBACd,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGlB;IAEA,qBACC,6LAAC;QAAI,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACd,6LAAC;;0CACA,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI3C,6LAAC;wBAAc,SAAS,IAAM,OAAO,IAAI,CAAC;;0CACzC,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAK9B,6LAAC;gBAAI,WAAU;;kCACd,6LAAC,+JAAI;wBAAC,WAAU;;0CACf,6LAAC;gCAAE,WAAU;0CAAgC;;;;;;0CAC7C,6LAAC;gCAAE,WAAU;0CAA2B,MAAM,MAAM;;;;;;;;;;;;kCAErD,6LAAC,+JAAI;wBAAC,WAAU;;0CACf,6LAAC;gCAAE,WAAU;0CAAgC;;;;;;0CAC7C,6LAAC;gCAAE,WAAU;0CAA2B;;;;;;;;;;;;kCAEzC,6LAAC,+JAAI;wBAAC,WAAU;;0CACf,6LAAC;gCAAE,WAAU;0CAAgC;;;;;;0CAC7C,6LAAC;gCAAE,WAAU;0CAA2B;;;;;;;;;;;;;;;;;;0BAI1C,6LAAC,+JAAI;0BACH,MAAM,MAAM,KAAK,kBACjB,6LAAC,iKAAK;;sCACL,6LAAC,sKAAU;sCACV,cAAA,6LAAC,6NAAQ;gCAAC,WAAU;;;;;;;;;;;sCAErB,6LAAC,uKAAW;;8CACX,6LAAC,sKAAU;8CAAC;;;;;;8CACZ,6LAAC,4KAAgB;8CAAC;;;;;;;;;;;;sCAInB,6LAAC,wKAAY;sCACZ,cAAA,6LAAC;gCAAc,SAAS,IAAM,OAAO,IAAI,CAAC;;kDACzC,6LAAC,6MAAI;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;yCAM/B,6LAAC,iKAAK;;sCACL,6LAAC,uKAAW;sCACX,cAAA,6LAAC,oKAAQ;;kDACR,6LAAC,qKAAS;kDAAC;;;;;;kDACX,6LAAC,qKAAS;kDAAC;;;;;;kDACX,6LAAC,qKAAS;kDAAC;;;;;;kDACX,6LAAC,qKAAS;kDAAC;;;;;;kDACX,6LAAC,qKAAS;kDAAC;;;;;;kDACX,6LAAC,qKAAS;wCAAC,WAAU;kDAAa;;;;;;;;;;;;;;;;;sCAGpC,6LAAC,qKAAS;sCACR,MAAM,GAAG,CAAC,CAAC,qBACX,6LAAC,oKAAQ;;sDACR,6LAAC,qKAAS;4CAAC,WAAU;sDAAe,KAAK,KAAK;;;;;;sDAC9C,6LAAC,qKAAS;4CAAC,WAAU;;gDAAoB;gDACtC,KAAK,IAAI;;;;;;;sDAEZ,6LAAC,qKAAS;sDACT,cAAA,6LAAC,iKAAK;gDAAC,SAAQ;0DACb,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK;;;;;;;;;;;sDAG1B,6LAAC,qKAAS;sDACT,cAAA,6LAAC,iKAAK;gDACL,SAAS,KAAK,QAAQ,GAAG,YAAY;gDACrC,WAAU;gDACV,SAAS,IAAM,mBAAmB;0DAEjC,KAAK,QAAQ,GAAG,WAAW;;;;;;;;;;;sDAG9B,6LAAC,qKAAS;sDAAE,WAAW,KAAK,SAAS;;;;;;sDACrC,6LAAC,qKAAS;4CAAC,WAAU;sDACpB,cAAA,6LAAC;gDAAI,WAAU;;kEACd,6LAAC,mKAAM;wDACN,SAAQ;wDACR,MAAK;wDACL,SAAS,IAAM,WAAW;kEAE1B,cAAA,6LAAC,0MAAG;4DAAC,WAAU;;;;;;;;;;;kEAEhB,6LAAC,mKAAM;wDAAC,SAAQ;wDAAQ,MAAK;wDAAO,OAAO;kEAC1C,cAAA,6LAAC,0KAAI;4DAAC,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC;sEACzC,cAAA,6LAAC,mNAAM;gEAAC,WAAU;;;;;;;;;;;;;;;;kEAGpB,6LAAC,mKAAM;wDACN,SAAQ;wDACR,MAAK;wDACL,SAAS,IAAM,kBAAkB;kEAEjC,cAAA,6LAAC,uNAAM;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;mCAvCP,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;0BAmD3B,6LAAC,mKAAM;gBAAC,MAAM;gBAAgB,cAAc;0BAC3C,cAAA,6LAAC,0KAAa;oBAAC,WAAU;;sCACxB,6LAAC,yKAAY;;8CACZ,6LAAC,wKAAW;8CAAC;;;;;;8CACb,6LAAC,8KAAiB;8CAAC;;;;;;;;;;;;wBAGnB,8BACA,6LAAC;4BAAI,WAAU;;8CACd,6LAAC;oCAAI,WAAU;;sDACd,6LAAC,iKAAK;4CACL,SAAS,aAAa,QAAQ,GAAG,YAAY;sDAE5C,aAAa,QAAQ,GAAG,WAAW;;;;;;sDAErC,6LAAC,iKAAK;4CAAC,SAAQ;sDACb,aAAa,IAAI,CAAC,OAAO,CAAC,KAAK;;;;;;sDAEjC,6LAAC;4CAAK,WAAU;;gDAAgC;gDAC7C,aAAa,IAAI;;;;;;;;;;;;;8CAIrB,6LAAC;oCAAG,WAAU;8CAAsB,aAAa,KAAK;;;;;;8CAEtD,6LAAC;oCAAI,WAAU;8CACd,cAAA,6LAAC;wCACA,WAAU;wCACV,0EAA0E;wCAC1E,yBAAyB;4CAAE,QAAQ,aAAa,OAAO;wCAAC;;;;;;;;;;;;;;;;;sCAM5D,6LAAC,yKAAY;;8CACZ,6LAAC,mKAAM;oCAAC,SAAQ;oCAAU,SAAS,IAAM,kBAAkB;8CAAQ;;;;;;8CAGnE,6LAAC;oCAAc,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,aAAa,EAAE,cAAc,GAAG,KAAK,CAAC;;sDAChF,6LAAC,mNAAM;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;0BAQlC,6LAAC,mKAAM;gBAAC,MAAM;gBAAkB,cAAc;0BAC7C,cAAA,6LAAC,0KAAa;;sCACb,6LAAC,yKAAY;;8CACZ,6LAAC,wKAAW;8CAAC;;;;;;8CACb,6LAAC,8KAAiB;;wCAAC;wCACqB,cAAc;wCAAM;;;;;;;;;;;;;sCAK7D,6LAAC,yKAAY;;8CACZ,6LAAC,mKAAM;oCACN,SAAQ;oCACR,SAAS,IAAM,oBAAoB;8CACnC;;;;;;8CAGD,6LAAC,mKAAM;oCACN,SAAQ;oCACR,SAAS;oCACT,UAAU;8CAET,WAAW,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnC;GA/QwB;;QACR,kJAAS;;;KADD"}}]
}