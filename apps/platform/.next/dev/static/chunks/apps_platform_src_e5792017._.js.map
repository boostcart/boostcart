{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/brands.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getBrands() {\n  const { tenantId } = await requireStoreAccess();\n\n  const brands = await db.brand.findMany({\n    where: { tenantId },\n    include: {\n      _count: {\n        select: {\n          products: true,\n        },\n      },\n    },\n    orderBy: { name: \"asc\" },\n  });\n\n  return brands;\n}\n\nexport async function getBrand(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const brand = await db.brand.findFirst({\n    where: { id, tenantId },\n    include: {\n      products: {\n        take: 10,\n        orderBy: { createdAt: \"desc\" },\n      },\n      _count: {\n        select: {\n          products: true,\n        },\n      },\n    },\n  });\n\n  if (!brand) {\n    throw new Error(\"Brand not found\");\n  }\n\n  return brand;\n}\n\ninterface BrandInput {\n  name: string;\n  slug: string;\n  description?: string;\n  logoUrl?: string;\n  websiteUrl?: string;\n  isActive?: boolean;\n  seoTitle?: string;\n  seoDescription?: string;\n}\n\nexport async function createBrand(input: BrandInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if slug already exists for this tenant\n  const existing = await db.brand.findFirst({\n    where: {\n      slug: input.slug,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Brand with this slug already exists\");\n  }\n\n  const brand = await db.brand.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return brand;\n}\n\nexport async function updateBrand(id: string, input: Partial<BrandInput>) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify brand belongs to tenant\n  const brand = await db.brand.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!brand) {\n    throw new Error(\"Brand not found or access denied\");\n  }\n\n  // If slug is being changed, check for duplicates\n  if (input.slug && input.slug !== brand.slug) {\n    const existing = await db.brand.findFirst({\n      where: {\n        slug: input.slug,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Brand with this slug already exists\");\n    }\n  }\n\n  const updated = await db.brand.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteBrand(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify brand belongs to tenant\n  const brand = await db.brand.findFirst({\n    where: { id, tenantId },\n    include: {\n      _count: {\n        select: {\n          products: true,\n        },\n      },\n    },\n  });\n\n  if (!brand) {\n    throw new Error(\"Brand not found or access denied\");\n  }\n\n  if (brand._count.products > 0) {\n    throw new Error(\n      \"Cannot delete brand with products. Please remove or reassign products first.\"\n    );\n  }\n\n  await db.brand.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAgCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,6CAAA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/categories.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getCategories() {\n  const { tenantId } = await requireStoreAccess();\n\n  const categories = await db.category.findMany({\n    where: { tenantId },\n    include: {\n      parent: true,\n      _count: {\n        select: {\n          products: true,\n          subCategories: true,\n        },\n      },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return categories;\n}\n\nexport async function getCategory(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const category = await db.category.findFirst({\n    where: { id, tenantId },\n    include: {\n      parent: true,\n      subCategories: true,\n      products: {\n        take: 10,\n        orderBy: { createdAt: \"desc\" },\n      },\n      _count: {\n        select: {\n          products: true,\n          subCategories: true,\n        },\n      },\n    },\n  });\n\n  if (!category) {\n    throw new Error(\"Category not found\");\n  }\n\n  return category;\n}\n\ninterface CategoryInput {\n  name: string;\n  slug: string;\n  description?: string;\n  parentId?: string;\n  isActive?: boolean;\n  seoTitle?: string;\n  seoDescription?: string;\n}\n\nexport async function createCategory(input: CategoryInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if slug already exists for this tenant\n  const existing = await db.category.findFirst({\n    where: {\n      slug: input.slug,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Category with this slug already exists\");\n  }\n\n  // If parentId provided, verify it belongs to tenant\n  if (input.parentId) {\n    const parent = await db.category.findFirst({\n      where: { id: input.parentId, tenantId },\n    });\n\n    if (!parent) {\n      throw new Error(\"Parent category not found or access denied\");\n    }\n  }\n\n  const category = await db.category.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return category;\n}\n\nexport async function updateCategory(id: string, input: Partial<CategoryInput>) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify category belongs to tenant\n  const category = await db.category.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!category) {\n    throw new Error(\"Category not found or access denied\");\n  }\n\n  // If slug is being changed, check for duplicates\n  if (input.slug && input.slug !== category.slug) {\n    const existing = await db.category.findFirst({\n      where: {\n        slug: input.slug,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Category with this slug already exists\");\n    }\n  }\n\n  // If parentId is being changed, verify it belongs to tenant\n  if (input.parentId) {\n    const parent = await db.category.findFirst({\n      where: { id: input.parentId, tenantId },\n    });\n\n    if (!parent) {\n      throw new Error(\"Parent category not found or access denied\");\n    }\n\n    // Prevent circular references\n    if (input.parentId === id) {\n      throw new Error(\"Category cannot be its own parent\");\n    }\n  }\n\n  const updated = await db.category.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteCategory(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify category belongs to tenant\n  const category = await db.category.findFirst({\n    where: { id, tenantId },\n    include: {\n      _count: {\n        select: {\n          products: true,\n          subCategories: true,\n        },\n      },\n    },\n  });\n\n  if (!category) {\n    throw new Error(\"Category not found or access denied\");\n  }\n\n  if (category._count.products > 0) {\n    throw new Error(\n      \"Cannot delete category with products. Please remove or reassign products first.\"\n    );\n  }\n\n  if (category._count.subCategories > 0) {\n    throw new Error(\n      \"Cannot delete category with subcategories. Please delete or reassign subcategories first.\"\n    );\n  }\n\n  await db.category.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAgCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/collections.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getCollections() {\n  const { tenantId } = await requireStoreAccess();\n\n  const collections = await db.collection.findMany({\n    where: { tenantId },\n    include: {\n      _count: {\n        select: {\n          products: true,\n        },\n      },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return collections;\n}\n\nexport async function getCollection(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const collection = await db.collection.findFirst({\n    where: { id, tenantId },\n    include: {\n      products: {\n        take: 20,\n        include: {\n          product: true,\n        },\n      },\n      _count: {\n        select: {\n          products: true,\n        },\n      },\n    },\n  });\n\n  if (!collection) {\n    throw new Error(\"Collection not found\");\n  }\n\n  return collection;\n}\n\ninterface CollectionInput {\n  name: string;\n  slug: string;\n  description?: string;\n  imageUrl?: string;\n  isActive?: boolean;\n  isFeatured?: boolean;\n  sortOrder?: number;\n  seoTitle?: string;\n  seoDescription?: string;\n}\n\nexport async function createCollection(input: CollectionInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if slug already exists for this tenant\n  const existing = await db.collection.findFirst({\n    where: {\n      slug: input.slug,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Collection with this slug already exists\");\n  }\n\n  const collection = await db.collection.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return collection;\n}\n\nexport async function updateCollection(\n  id: string,\n  input: Partial<CollectionInput>\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify collection belongs to tenant\n  const collection = await db.collection.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!collection) {\n    throw new Error(\"Collection not found or access denied\");\n  }\n\n  // If slug is being changed, check for duplicates\n  if (input.slug && input.slug !== collection.slug) {\n    const existing = await db.collection.findFirst({\n      where: {\n        slug: input.slug,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Collection with this slug already exists\");\n    }\n  }\n\n  const updated = await db.collection.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteCollection(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify collection belongs to tenant\n  const collection = await db.collection.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!collection) {\n    throw new Error(\"Collection not found or access denied\");\n  }\n\n  await db.collection.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n\nexport async function addProductsToCollection(\n  collectionId: string,\n  productIds: string[]\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify collection belongs to tenant\n  const collection = await db.collection.findFirst({\n    where: { id: collectionId, tenantId },\n  });\n\n  if (!collection) {\n    throw new Error(\"Collection not found or access denied\");\n  }\n\n  // Verify all products belong to tenant\n  const products = await db.product.findMany({\n    where: {\n      id: { in: productIds },\n      tenantId,\n    },\n  });\n\n  if (products.length !== productIds.length) {\n    throw new Error(\"One or more products not found or access denied\");\n  }\n\n  // Add products to collection\n  await db.collectionProduct.createMany({\n    data: productIds.map((productId) => ({\n      collectionId,\n      productId,\n    })),\n    skipDuplicates: true,\n  });\n\n  return { success: true };\n}\n\nexport async function removeProductsFromCollection(\n  collectionId: string,\n  productIds: string[]\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify collection belongs to tenant\n  const collection = await db.collection.findFirst({\n    where: { id: collectionId, tenantId },\n  });\n\n  if (!collection) {\n    throw new Error(\"Collection not found or access denied\");\n  }\n\n  await db.collectionProduct.deleteMany({\n    where: {\n      collectionId,\n      productId: { in: productIds },\n    },\n  });\n\n  return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAgCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/products.ts"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport {\n\ttype CreateProductInput,\n\tCreateProductSchema,\n\ttype ProductFilterInput,\n\tProductFilterSchema,\n\ttype UpdateProductInput,\n\tUpdateProductSchema,\n} from \"@/schemas/product\";\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\n// Helper to check access and get tenant context for admin operations\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\t// Get tenant context (from user's store membership)\n\tconst tenant = await requireAdminTenant();\n\n\t// Verify user has access to this tenant\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn { userId: session.user.id, tenantId: tenant.id, role: staffRecord.role };\n}\n\n// Get products with filters\nexport async function getProducts(filters?: ProductFilterInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedFilters = filters\n\t\t? ProductFilterSchema.parse(filters)\n\t\t: { page: 1, pageSize: 20 };\n\n\tconst {\n\t\tpage,\n\t\tpageSize,\n\t\tsearch,\n\t\tstatus,\n\t\tcategoryIds,\n\t\tbrandIds,\n\t\tstockStatus,\n\t\tpriceMin,\n\t\tpriceMax,\n\t\tsortBy,\n\t} = validatedFilters;\n\n\tconst where: Record<string, unknown> = {\n\t\ttenantId, // Filter by current tenant\n\t\tdeletedAt: null, // Only active products\n\t};\n\n\t// Search\n\tif (search) {\n\t\twhere.OR = [\n\t\t\t{ sku: { contains: search, mode: \"insensitive\" } },\n\t\t\t{\n\t\t\t\ttranslations: {\n\t\t\t\t\tsome: { name: { contains: search, mode: \"insensitive\" } },\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n\n\t// Status filter\n\tif (status && status.length > 0) {\n\t\twhere.status = { in: status };\n\t}\n\n\t// Category filter\n\tif (categoryIds && categoryIds.length > 0) {\n\t\twhere.categoryId = { in: categoryIds };\n\t}\n\n\t// Brand filter\n\tif (brandIds && brandIds.length > 0) {\n\t\twhere.brandId = { in: brandIds };\n\t}\n\n\t// Stock status filter\n\tif (stockStatus) {\n\t\tswitch (stockStatus) {\n\t\t\tcase \"in_stock\":\n\t\t\t\twhere.OR = [{ trackStock: false }, { stock: { gt: 10 } }];\n\t\t\t\tbreak;\n\t\t\tcase \"low_stock\":\n\t\t\t\twhere.trackStock = true;\n\t\t\t\twhere.stock = { gt: 0, lte: 10 };\n\t\t\t\tbreak;\n\t\t\tcase \"out_of_stock\":\n\t\t\t\twhere.trackStock = true;\n\t\t\t\twhere.stock = 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Price filter\n\tif (priceMin !== undefined || priceMax !== undefined) {\n\t\twhere.price = {};\n\t\tif (priceMin !== undefined) {\n\t\t\t(where.price as Record<string, number>).gte = priceMin;\n\t\t}\n\t\tif (priceMax !== undefined) {\n\t\t\t(where.price as Record<string, number>).lte = priceMax;\n\t\t}\n\t}\n\n\t// Sorting\n\tconst orderBy: Record<string, string>[] = [];\n\tif (sortBy) {\n\t\tswitch (sortBy) {\n\t\t\tcase \"name_asc\":\n\t\t\tcase \"name_desc\":\n\t\t\t\t// For name sorting, we need to sort by translation\n\t\t\t\t// This is a workaround - ideally we'd join and sort\n\t\t\t\tbreak;\n\t\t\tcase \"price_asc\":\n\t\t\t\torderBy.push({ price: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"price_desc\":\n\t\t\t\torderBy.push({ price: \"desc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"created_asc\":\n\t\t\t\torderBy.push({ createdAt: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"created_desc\":\n\t\t\t\torderBy.push({ createdAt: \"desc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"stock_asc\":\n\t\t\t\torderBy.push({ stock: \"asc\" });\n\t\t\t\tbreak;\n\t\t\tcase \"stock_desc\":\n\t\t\t\torderBy.push({ stock: \"desc\" });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (orderBy.length === 0) {\n\t\torderBy.push({ createdAt: \"desc\" });\n\t}\n\n\tconst [products, total] = await Promise.all([\n\t\tdb.product.findMany({\n\t\t\twhere,\n\t\t\torderBy,\n\t\t\tskip: (page - 1) * pageSize,\n\t\t\ttake: pageSize,\n\t\t\tinclude: {\n\t\t\t\tcategory: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbrand: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttranslations: {\n\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\ttake: 1,\n\t\t\t\t},\n\t\t\t\tmedia: {\n\t\t\t\t\torderBy: { order: \"asc\" },\n\t\t\t\t\ttake: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\tdb.product.count({ where }),\n\t]);\n\n\treturn {\n\t\tproducts: products.map((p) => ({\n\t\t\tid: p.id,\n\t\t\tslug: p.slug,\n\t\t\tstatus: p.status,\n\t\t\tprice: p.price,\n\t\t\tcompareAtPrice: p.compareAtPrice,\n\t\t\tsku: p.sku,\n\t\t\ttrackStock: p.trackStock,\n\t\t\tstock: p.stock,\n\t\t\tname: p.translations[0]?.name ?? \"Untitled\",\n\t\t\tdescription: p.translations[0]?.description,\n\t\t\tcategoryId: p.categoryId,\n\t\t\tcategoryName: p.category?.translations[0]?.name ?? \"Uncategorized\",\n\t\t\tbrandId: p.brandId,\n\t\t\tbrandName: p.brand?.translations[0]?.name,\n\t\t\timageUrl: p.media[0]?.url,\n\t\t\tcreatedAt: p.createdAt,\n\t\t\tupdatedAt: p.updatedAt,\n\t\t})),\n\t\tpagination: {\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\ttotal,\n\t\t\ttotalPages: Math.ceil(total / pageSize),\n\t\t},\n\t};\n}\n\n// Get single product by ID\nexport async function getProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t\tinclude: {\n\t\t\ttranslations: true,\n\t\t\tmedia: { orderBy: { order: \"asc\" } },\n\t\t\tvariants: {\n\t\t\t\tinclude: {\n\t\t\t\t\toptionMeta: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\tshippingInfo: true,\n\t\t\tcollectionProducts: {\n\t\t\t\tinclude: {\n\t\t\t\t\tcollection: {\n\t\t\t\t\t\tinclude: {\n\t\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\t\t\t\t\ttake: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t});\n\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tconst englishTranslation = product.translations.find(\n\t\t(t: { localeId: string }) => t.localeId === \"en\",\n\t);\n\n\treturn {\n\t\tid: product.id,\n\t\tslug: product.slug,\n\t\tstatus: product.status,\n\t\tcategoryId: product.categoryId,\n\t\tbrandId: product.brandId,\n\t\tprice: product.price,\n\t\tcompareAtPrice: product.compareAtPrice,\n\t\tcostPerItem: product.costPerItem,\n\t\tsku: product.sku,\n\t\ttrackStock: product.trackStock,\n\t\tstock: product.stock,\n\t\tlowStockThreshold: product.lowStockThreshold,\n\t\tpurchaseType: product.purchaseType,\n\t\tsubscriptionDiscountPercent: product.subscriptionDiscountPercent,\n\t\tsubscriptionIntervals: product.subscriptionIntervals,\n\t\tpreOrderReleaseDate: product.preOrderReleaseDate,\n\t\tpreOrderDepositPercent: product.preOrderDepositPercent,\n\t\tunitPriceAmount: product.unitPriceAmount,\n\t\tunitPriceMeasurement: product.unitPriceMeasurement,\n\t\tunitPriceBaseAmount: product.unitPriceBaseAmount,\n\t\tunitPriceBaseMeasurement: product.unitPriceBaseMeasurement,\n\t\tname: englishTranslation?.name ?? \"\",\n\t\tdescription: englishTranslation?.description ?? \"\",\n\t\tmedia: product.media.map(\n\t\t\t(m: {\n\t\t\t\tid: string;\n\t\t\t\turl: string;\n\t\t\t\tmediaType: string;\n\t\t\t\taltText: string | null;\n\t\t\t\torder: number;\n\t\t\t}) => ({\n\t\t\t\tid: m.id,\n\t\t\t\turl: m.url,\n\t\t\t\tmediaType: m.mediaType,\n\t\t\t\taltText: m.altText,\n\t\t\t\torder: m.order,\n\t\t\t}),\n\t\t),\n\t\tvariants: product.variants.map(\n\t\t\t(v: {\n\t\t\t\tid: string;\n\t\t\t\tsku: string | null;\n\t\t\t\tprice: unknown;\n\t\t\t\tpriceAdjustment: unknown;\n\t\t\t\tstock: number | null;\n\t\t\t\timageUrl: string | null;\n\t\t\t\toptions: unknown;\n\t\t\t\toptionMeta: unknown[];\n\t\t\t}) => ({\n\t\t\t\tid: v.id,\n\t\t\t\tsku: v.sku,\n\t\t\t\tprice: v.price,\n\t\t\t\tpriceAdjustment: v.priceAdjustment,\n\t\t\t\tstock: v.stock,\n\t\t\t\timageUrl: v.imageUrl,\n\t\t\t\toptions: v.options as Record<string, string>,\n\t\t\t\toptionMeta: v.optionMeta,\n\t\t\t}),\n\t\t),\n\t\tshippingInfo: product.shippingInfo\n\t\t\t? {\n\t\t\t\t\tpackageType: product.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: product.shippingInfo.packagingWeightKg,\n\t\t\t\t\tpackagingLengthCm: product.shippingInfo.packagingLengthCm,\n\t\t\t\t\tpackagingWidthCm: product.shippingInfo.packagingWidthCm,\n\t\t\t\t\tpackagingHeightCm: product.shippingInfo.packagingHeightCm,\n\t\t\t\t\tproductWeightKg: product.shippingInfo.productWeightKg,\n\t\t\t\t\tproductLengthCm: product.shippingInfo.productLengthCm,\n\t\t\t\t\tproductWidthCm: product.shippingInfo.productWidthCm,\n\t\t\t\t\tproductHeightCm: product.shippingInfo.productHeightCm,\n\t\t\t\t}\n\t\t\t: null,\n\t\tseo: {\n\t\t\tmetaTitle: englishTranslation?.metaTitle,\n\t\t\tmetaDescription: englishTranslation?.metaDescription,\n\t\t\tslug: product.slug,\n\t\t},\n\t\tcollectionIds: product.collectionProducts.map(\n\t\t\t(c: { collectionId: string }) => c.collectionId,\n\t\t),\n\t};\n}\n\n// Create product\nexport async function createProduct(input: CreateProductInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedInput = CreateProductSchema.parse(input);\n\n\tconst product = await db.$transaction(async (tx) => {\n\t\t// Create the product\n\t\tconst newProduct = await tx.product.create({\n\t\t\tdata: {\n\t\t\t\ttenantId,\n\t\t\t\tslug: validatedInput.slug,\n\t\t\t\tstatus: validatedInput.status,\n\t\t\t\tcategoryId: validatedInput.categoryId,\n\t\t\t\tbrandId: validatedInput.brandId || null,\n\t\t\t\tprice: validatedInput.price,\n\t\t\t\tcompareAtPrice: validatedInput.compareAtPrice,\n\t\t\t\tcostPerItem: validatedInput.costPerItem,\n\t\t\t\tsku: validatedInput.sku,\n\t\t\t\ttrackStock: validatedInput.trackStock,\n\t\t\t\tstock: validatedInput.stock,\n\t\t\t\tlowStockThreshold: validatedInput.lowStockThreshold,\n\t\t\t\t// Purchase options\n\t\t\t\tpurchaseType: validatedInput.purchaseOptions?.type ?? \"ONE_TIME\",\n\t\t\t\tsubscriptionDiscountPercent:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.subscriptionDiscount,\n\t\t\t\tsubscriptionIntervals:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.subscriptionIntervals ?? [],\n\t\t\t\tpreOrderReleaseDate:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.preOrderReleaseDate,\n\t\t\t\tpreOrderDepositPercent:\n\t\t\t\t\tvalidatedInput.purchaseOptions?.preOrderDepositPercent,\n\t\t\t\t// Unit pricing\n\t\t\t\tunitPriceAmount: validatedInput.unitPrice?.unitPriceAmount,\n\t\t\t\tunitPriceMeasurement: validatedInput.unitPrice?.unitPriceMeasurement,\n\t\t\t\tunitPriceBaseAmount: validatedInput.unitPrice?.unitPriceBaseAmount,\n\t\t\t\tunitPriceBaseMeasurement:\n\t\t\t\t\tvalidatedInput.unitPrice?.unitPriceBaseMeasurement,\n\t\t\t},\n\t\t});\n\n\t\t// Create translation (English by default)\n\t\tawait tx.productTranslation.create({\n\t\t\tdata: {\n\t\t\t\tproductId: newProduct.id,\n\t\t\t\tlocaleId: \"en\",\n\t\t\t\tname: validatedInput.name,\n\t\t\t\tdescription: validatedInput.description,\n\t\t\t\tmetaTitle: validatedInput.seo?.metaTitle,\n\t\t\t\tmetaDescription: validatedInput.seo?.metaDescription,\n\t\t\t},\n\t\t});\n\n\t\t// Create media\n\t\tif (validatedInput.media && validatedInput.media.length > 0) {\n\t\t\tawait tx.productMedia.createMany({\n\t\t\t\tdata: validatedInput.media.map((m, index) => ({\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\turl: m.url,\n\t\t\t\t\tmediaType: m.mediaType,\n\t\t\t\t\taltText: m.altText,\n\t\t\t\t\torder: m.order ?? index,\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\t// Create variants\n\t\tif (validatedInput.variants && validatedInput.variants.length > 0) {\n\t\t\tfor (const variant of validatedInput.variants) {\n\t\t\t\tconst createdVariant = await tx.productVariant.create({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\tpriceAdjustment: variant.priceAdjustment ?? 0,\n\t\t\t\t\t\tstock: variant.stock,\n\t\t\t\t\t\timageUrl: variant.imageUrl,\n\t\t\t\t\t\toptions: variant.options,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t// Create variant option meta (for colors)\n\t\t\t\tif (variant.optionMeta && variant.optionMeta.length > 0) {\n\t\t\t\t\tawait tx.variantOptionMeta.createMany({\n\t\t\t\t\t\tdata: variant.optionMeta.map((meta) => ({\n\t\t\t\t\t\t\tvariantId: createdVariant.id,\n\t\t\t\t\t\t\toptionName: meta.optionName,\n\t\t\t\t\t\t\thexColor: meta.hexColor,\n\t\t\t\t\t\t})),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create shipping info\n\t\tif (validatedInput.shippingInfo) {\n\t\t\tawait tx.productShippingInfo.create({\n\t\t\t\tdata: {\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Link to collections\n\t\tif (\n\t\t\tvalidatedInput.collectionIds &&\n\t\t\tvalidatedInput.collectionIds.length > 0\n\t\t) {\n\t\t\tawait tx.collectionProduct.createMany({\n\t\t\t\tdata: validatedInput.collectionIds.map((collectionId) => ({\n\t\t\t\t\tproductId: newProduct.id,\n\t\t\t\t\tcollectionId,\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\treturn newProduct;\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\n\treturn { success: true, productId: product.id };\n}\n\n// Update product\nexport async function updateProduct(input: UpdateProductInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst validatedInput = UpdateProductSchema.parse(input);\n\n\t// Verify product belongs to tenant\n\tconst existingProduct = await db.product.findFirst({\n\t\twhere: { id: validatedInput.id, tenantId },\n\t});\n\tif (!existingProduct) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.$transaction(async (tx) => {\n\t\t// Update the main product\n\t\tawait tx.product.update({\n\t\t\twhere: { id: validatedInput.id },\n\t\t\tdata: {\n\t\t\t\t...(validatedInput.slug && { slug: validatedInput.slug }),\n\t\t\t\t...(validatedInput.status && { status: validatedInput.status }),\n\t\t\t\t...(validatedInput.categoryId && {\n\t\t\t\t\tcategoryId: validatedInput.categoryId,\n\t\t\t\t}),\n\t\t\t\tbrandId: validatedInput.brandId || null,\n\t\t\t\t...(validatedInput.price !== undefined && {\n\t\t\t\t\tprice: validatedInput.price,\n\t\t\t\t}),\n\t\t\t\tcompareAtPrice: validatedInput.compareAtPrice,\n\t\t\t\tcostPerItem: validatedInput.costPerItem,\n\t\t\t\tsku: validatedInput.sku,\n\t\t\t\ttrackStock: validatedInput.trackStock,\n\t\t\t\tstock: validatedInput.stock,\n\t\t\t\tlowStockThreshold: validatedInput.lowStockThreshold,\n\t\t\t\t// Purchase options\n\t\t\t\t...(validatedInput.purchaseOptions && {\n\t\t\t\t\tpurchaseType: validatedInput.purchaseOptions.type,\n\t\t\t\t\tsubscriptionDiscountPercent:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.subscriptionDiscount,\n\t\t\t\t\tsubscriptionIntervals:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.subscriptionIntervals ?? [],\n\t\t\t\t\tpreOrderReleaseDate:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.preOrderReleaseDate,\n\t\t\t\t\tpreOrderDepositPercent:\n\t\t\t\t\t\tvalidatedInput.purchaseOptions.preOrderDepositPercent,\n\t\t\t\t}),\n\t\t\t\t// Unit pricing\n\t\t\t\t...(validatedInput.unitPrice && {\n\t\t\t\t\tunitPriceAmount: validatedInput.unitPrice.unitPriceAmount,\n\t\t\t\t\tunitPriceMeasurement: validatedInput.unitPrice.unitPriceMeasurement,\n\t\t\t\t\tunitPriceBaseAmount: validatedInput.unitPrice.unitPriceBaseAmount,\n\t\t\t\t\tunitPriceBaseMeasurement:\n\t\t\t\t\t\tvalidatedInput.unitPrice.unitPriceBaseMeasurement,\n\t\t\t\t}),\n\t\t\t},\n\t\t});\n\n\t\t// Update translation\n\t\tif (\n\t\t\tvalidatedInput.name ||\n\t\t\tvalidatedInput.description ||\n\t\t\tvalidatedInput.seo\n\t\t) {\n\t\t\tawait tx.productTranslation.upsert({\n\t\t\t\twhere: {\n\t\t\t\t\tproductId_localeId: {\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tlocaleId: \"en\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdate: {\n\t\t\t\t\t...(validatedInput.name && { name: validatedInput.name }),\n\t\t\t\t\t...(validatedInput.description !== undefined && {\n\t\t\t\t\t\tdescription: validatedInput.description,\n\t\t\t\t\t}),\n\t\t\t\t\t...(validatedInput.seo?.metaTitle !== undefined && {\n\t\t\t\t\t\tmetaTitle: validatedInput.seo.metaTitle,\n\t\t\t\t\t}),\n\t\t\t\t\t...(validatedInput.seo?.metaDescription !== undefined && {\n\t\t\t\t\t\tmetaDescription: validatedInput.seo.metaDescription,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tcreate: {\n\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\tlocaleId: \"en\",\n\t\t\t\t\tname: validatedInput.name ?? \"Untitled\",\n\t\t\t\t\tdescription: validatedInput.description,\n\t\t\t\t\tmetaTitle: validatedInput.seo?.metaTitle,\n\t\t\t\t\tmetaDescription: validatedInput.seo?.metaDescription,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Update media (replace all)\n\t\tif (validatedInput.media) {\n\t\t\tawait tx.productMedia.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\tif (validatedInput.media.length > 0) {\n\t\t\t\tawait tx.productMedia.createMany({\n\t\t\t\t\tdata: validatedInput.media.map((m, index) => ({\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\turl: m.url,\n\t\t\t\t\t\tmediaType: m.mediaType,\n\t\t\t\t\t\taltText: m.altText,\n\t\t\t\t\t\torder: m.order ?? index,\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Update variants (replace all)\n\t\tif (validatedInput.variants) {\n\t\t\t// Delete existing variants and their meta\n\t\t\tconst existingVariants = await tx.productVariant.findMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t\tselect: { id: true },\n\t\t\t});\n\n\t\t\tfor (const v of existingVariants) {\n\t\t\t\tawait tx.variantOptionMeta.deleteMany({ where: { variantId: v.id } });\n\t\t\t}\n\n\t\t\tawait tx.productVariant.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\t// Create new variants\n\t\t\tfor (const variant of validatedInput.variants) {\n\t\t\t\tconst createdVariant = await tx.productVariant.create({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\tpriceAdjustment: variant.priceAdjustment ?? 0,\n\t\t\t\t\t\tstock: variant.stock,\n\t\t\t\t\t\timageUrl: variant.imageUrl,\n\t\t\t\t\t\toptions: variant.options,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tif (variant.optionMeta && variant.optionMeta.length > 0) {\n\t\t\t\t\tawait tx.variantOptionMeta.createMany({\n\t\t\t\t\t\tdata: variant.optionMeta.map((meta) => ({\n\t\t\t\t\t\t\tvariantId: createdVariant.id,\n\t\t\t\t\t\t\toptionName: meta.optionName,\n\t\t\t\t\t\t\thexColor: meta.hexColor,\n\t\t\t\t\t\t})),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Update shipping info\n\t\tif (validatedInput.shippingInfo) {\n\t\t\tawait tx.productShippingInfo.upsert({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t\tupdate: {\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t\tcreate: {\n\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\tpackageType: validatedInput.shippingInfo.packageType,\n\t\t\t\t\tpackagingWeightKg: validatedInput.shippingInfo.weight,\n\t\t\t\t\tpackagingLengthCm: validatedInput.shippingInfo.packageLength,\n\t\t\t\t\tpackagingWidthCm: validatedInput.shippingInfo.packageWidth,\n\t\t\t\t\tpackagingHeightCm: validatedInput.shippingInfo.packageHeight,\n\t\t\t\t\tproductWeightKg: validatedInput.shippingInfo.productWeight,\n\t\t\t\t\tproductLengthCm: validatedInput.shippingInfo.productLength,\n\t\t\t\t\tproductWidthCm: validatedInput.shippingInfo.productWidth,\n\t\t\t\t\tproductHeightCm: validatedInput.shippingInfo.productHeight,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\t// Update collection links\n\t\tif (validatedInput.collectionIds) {\n\t\t\tawait tx.collectionProduct.deleteMany({\n\t\t\t\twhere: { productId: validatedInput.id },\n\t\t\t});\n\n\t\t\tif (validatedInput.collectionIds.length > 0) {\n\t\t\t\tawait tx.collectionProduct.createMany({\n\t\t\t\t\tdata: validatedInput.collectionIds.map((collectionId) => ({\n\t\t\t\t\t\tproductId: validatedInput.id,\n\t\t\t\t\t\tcollectionId,\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(`/admin/products/${validatedInput.id}/edit`);\n\n\treturn { success: true };\n}\n\n// Soft delete product (move to trash)\nexport async function deleteProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.product.update({\n\t\twhere: { id: productId },\n\t\tdata: { deletedAt: new Date() },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Restore product from trash\nexport async function restoreProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.product.update({\n\t\twhere: { id: productId },\n\t\tdata: { deletedAt: null },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Bulk restore products\nexport async function restoreProducts(productIds: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.product.updateMany({\n\t\twhere: { id: { in: productIds }, tenantId },\n\t\tdata: { deletedAt: null },\n\t});\n\n\trevalidatePath(\"/admin/products\");\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Permanently delete product\nexport async function permanentlyDeleteProduct(productId: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify product belongs to tenant\n\tconst product = await db.product.findFirst({\n\t\twhere: { id: productId, tenantId },\n\t});\n\tif (!product) {\n\t\tthrow new Error(\"Product not found\");\n\t}\n\n\tawait db.$transaction(async (tx) => {\n\t\t// Delete related data\n\t\tconst variants = await tx.productVariant.findMany({\n\t\t\twhere: { productId },\n\t\t\tselect: { id: true },\n\t\t});\n\n\t\tfor (const v of variants) {\n\t\t\tawait tx.variantOptionMeta.deleteMany({ where: { variantId: v.id } });\n\t\t}\n\n\t\tawait tx.productVariant.deleteMany({ where: { productId } });\n\t\tawait tx.productMedia.deleteMany({ where: { productId } });\n\t\tawait tx.productShippingInfo.deleteMany({ where: { productId } });\n\t\tawait tx.productTranslation.deleteMany({ where: { productId } });\n\t\tawait tx.collectionProduct.deleteMany({ where: { productId } });\n\n\t\t// Finally delete the product\n\t\tawait tx.product.delete({ where: { id: productId } });\n\t});\n\n\trevalidatePath(\"/admin/products/trash\");\n\n\treturn { success: true };\n}\n\n// Bulk permanently delete products\nexport async function permanentlyDeleteProducts(productIds: string[]) {\n\tawait requireStoreAccess(); // Verify access, individual deletes check ownership\n\n\tfor (const productId of productIds) {\n\t\tawait permanentlyDeleteProduct(productId);\n\t}\n\n\treturn { success: true };\n}\n\n// Get trashed products\nexport async function getTrashedProducts() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst products = await db.product.findMany({\n\t\twhere: {\n\t\t\ttenantId,\n\t\t\tdeletedAt: { not: null },\n\t\t},\n\t\torderBy: { deletedAt: \"desc\" },\n\t\tinclude: {\n\t\t\ttranslations: {\n\t\t\t\twhere: { localeId: \"en\" },\n\t\t\t\ttake: 1,\n\t\t\t},\n\t\t\tmedia: {\n\t\t\t\torderBy: { order: \"asc\" },\n\t\t\t\ttake: 1,\n\t\t\t},\n\t\t},\n\t});\n\n\treturn products.map((p) => ({\n\t\tid: p.id,\n\t\tname: p.translations[0]?.name ?? \"Untitled\",\n\t\tsku: p.sku,\n\t\tprice: p.price,\n\t\tdeletedAt: p.deletedAt ?? new Date(),\n\t\timageUrl: p.media[0]?.url ?? null,\n\t}));\n}\n\n// Clean up old trashed products (called by cron job)\nexport async function cleanupTrashedProducts(retentionDays = 30) {\n\t// This function should be called by a cron job\n\t// Don't require admin - it runs as a system task\n\n\tconst cutoffDate = new Date();\n\tcutoffDate.setDate(cutoffDate.getDate() - retentionDays);\n\n\tconst oldProducts = await db.product.findMany({\n\t\twhere: {\n\t\t\tdeletedAt: { lte: cutoffDate },\n\t\t},\n\t\tselect: { id: true },\n\t});\n\n\tfor (const product of oldProducts) {\n\t\tawait permanentlyDeleteProduct(product.id);\n\t}\n\n\treturn { deleted: oldProducts.length };\n}\n"],"names":[],"mappings":";;;;;;;MAuVsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/schemas/product.ts"],"sourcesContent":["import { z } from \"zod\";\n\n// Enums matching Prisma schema\nexport const ProductStatusEnum = z.enum([\"ACTIVE\", \"UNLISTED\", \"DRAFT\"]);\nexport const MediaTypeEnum = z.enum([\"IMAGE\", \"VIDEO\"]);\nexport const PurchaseTypeEnum = z.enum([\n\t\"ONE_TIME\",\n\t\"SUBSCRIPTION\",\n\t\"ONE_TIME_AND_SUBSCRIPTION\",\n\t\"PRE_ORDER\",\n]);\nexport const SubscriptionIntervalEnum = z.enum([\n\t\"WEEKLY\",\n\t\"BI_WEEKLY\",\n\t\"MONTHLY\",\n\t\"BI_MONTHLY\",\n\t\"QUARTERLY\",\n\t\"YEARLY\",\n]);\nexport const PackageTypeEnum = z.enum([\n\t\"BOX\",\n\t\"ENVELOPE\",\n\t\"SOFT_PACKAGE\",\n\t\"PALLET\",\n]);\nexport const MeasurementUnitEnum = z.enum([\n\t\"KG\",\n\t\"G\",\n\t\"L\",\n\t\"ML\",\n\t\"M\",\n\t\"CM\",\n\t\"MM\",\n\t\"SQM\",\n\t\"SQCM\",\n\t\"PER_ITEM\",\n]);\n\n// Types\nexport type ProductStatus = z.infer<typeof ProductStatusEnum>;\nexport type MediaType = z.infer<typeof MediaTypeEnum>;\nexport type PurchaseType = z.infer<typeof PurchaseTypeEnum>;\nexport type SubscriptionInterval = z.infer<typeof SubscriptionIntervalEnum>;\nexport type PackageType = z.infer<typeof PackageTypeEnum>;\nexport type MeasurementUnit = z.infer<typeof MeasurementUnitEnum>;\n\n// Product Media Schema\nexport const ProductMediaSchema = z.object({\n\tid: z.string().optional(),\n\turl: z.string().url(),\n\tmediaType: MediaTypeEnum,\n\taltText: z.string().optional(),\n\torder: z.number().int().min(0),\n});\nexport type ProductMediaInput = z.infer<typeof ProductMediaSchema>;\n\n// Variant Option Meta (for color picker etc)\nexport const VariantOptionMetaSchema = z.object({\n\toptionName: z.string(),\n\thexColor: z\n\t\t.string()\n\t\t.regex(/^#[0-9A-Fa-f]{6}$/)\n\t\t.optional(),\n});\nexport type VariantOptionMeta = z.infer<typeof VariantOptionMetaSchema>;\n\n// Product Variant Schema\nexport const ProductVariantSchema = z.object({\n\tid: z.string().optional(),\n\tsku: z.string().optional(),\n\tprice: z.number().positive().optional(), // Override price\n\tpriceAdjustment: z.number().default(0),\n\tstock: z.number().int().min(0).optional(),\n\timageUrl: z.string().url().optional(),\n\toptions: z.record(z.string(), z.string()).default({}), // { \"Color\": \"Red\", \"Size\": \"Large\" }\n\toptionMeta: z.array(VariantOptionMetaSchema).optional(),\n});\nexport type ProductVariantInput = z.infer<typeof ProductVariantSchema>;\n\n// Product Shipping Schema\nexport const ProductShippingSchema = z.object({\n\tpackageType: PackageTypeEnum.default(\"BOX\"),\n\t// Packaging weight\n\tweight: z.number().positive().optional(),\n\t// Package dimensions\n\tpackageLength: z.number().positive().optional(),\n\tpackageWidth: z.number().positive().optional(),\n\tpackageHeight: z.number().positive().optional(),\n\t// Product weight\n\tproductWeight: z.number().positive().optional(),\n\t// Product dimensions (for pallets)\n\tproductLength: z.number().positive().optional(),\n\tproductWidth: z.number().positive().optional(),\n\tproductHeight: z.number().positive().optional(),\n\t// Flags\n\tisFragile: z.boolean().default(false),\n\tisFreeShipping: z.boolean().default(false),\n\ttags: z.array(z.string()).default([]),\n});\nexport type ProductShippingInput = z.infer<typeof ProductShippingSchema>;\n\n// Product SEO Schema\nexport const ProductSeoSchema = z.object({\n\tmetaTitle: z.string().max(70).optional(),\n\tmetaDescription: z.string().max(160).optional(),\n\tslug: z\n\t\t.string()\n\t\t.regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/)\n\t\t.optional(),\n});\nexport type ProductSeoInput = z.infer<typeof ProductSeoSchema>;\n\n// Product Purchase Options Schema\nexport const ProductPurchaseOptionsSchema = z.object({\n\ttype: PurchaseTypeEnum.default(\"ONE_TIME\"),\n\tallowOneTimePurchase: z.boolean().default(true),\n\tsubscriptionDiscount: z.number().min(0).max(100).optional(),\n\tsubscriptionIntervals: z.array(SubscriptionIntervalEnum).optional(),\n\tpreOrderReleaseDate: z.coerce.date().optional(),\n\tpreOrderDepositPercent: z.number().min(0).max(100).optional(),\n});\nexport type ProductPurchaseOptionsInput = z.infer<\n\ttypeof ProductPurchaseOptionsSchema\n>;\n\n// Unit Price Schema\nexport const ProductUnitPriceSchema = z.object({\n\tunitPriceAmount: z.number().positive().optional(),\n\tunitPriceMeasurement: MeasurementUnitEnum.optional(),\n\tunitPriceBaseAmount: z.number().positive().optional(),\n\tunitPriceBaseMeasurement: MeasurementUnitEnum.optional(),\n});\nexport type ProductUnitPriceInput = z.infer<typeof ProductUnitPriceSchema>;\n\n// Full Create Product Schema\nexport const CreateProductSchema = z.object({\n\t// Basic info\n\tname: z.string().min(1, \"Name is required\").max(255),\n\tdescription: z.string().optional(),\n\tslug: z.string().regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/, \"Invalid URL format\"),\n\tstatus: ProductStatusEnum.default(\"DRAFT\"),\n\n\t// Categorization\n\tcategoryId: z.string().min(1, \"Category is required\"),\n\tbrandId: z.string().optional(),\n\tcollectionIds: z.array(z.string()).optional(),\n\n\t// Pricing\n\tprice: z.number().positive(\"Price must be greater than 0\"),\n\tcompareAtPrice: z.number().positive().optional(),\n\tcostPerItem: z.number().positive().optional(),\n\tunitPrice: ProductUnitPriceSchema.optional(),\n\n\t// Inventory\n\tsku: z.string().optional(),\n\ttrackStock: z.boolean().default(false),\n\tstock: z.number().int().min(0).optional(),\n\tlowStockThreshold: z.number().int().min(0).optional(),\n\n\t// Media\n\tmedia: z.array(ProductMediaSchema).optional(),\n\n\t// Variants\n\tvariants: z.array(ProductVariantSchema).optional(),\n\n\t// Shipping\n\tshippingInfo: ProductShippingSchema.optional(),\n\n\t// Purchase options\n\tpurchaseOptions: ProductPurchaseOptionsSchema.optional(),\n\n\t// SEO\n\tseo: ProductSeoSchema.optional(),\n});\n\nexport type CreateProductInput = z.infer<typeof CreateProductSchema>;\n\n// Update Product Schema (all fields optional)\nexport const UpdateProductSchema = CreateProductSchema.partial().extend({\n\tid: z.string(),\n});\nexport type UpdateProductInput = z.infer<typeof UpdateProductSchema>;\n\n// Variant Group Schema (for form state)\nexport const VariantGroupSchema = z.object({\n\tname: z.string().min(1, \"Variant name is required\"),\n\tvalues: z\n\t\t.array(\n\t\t\tz.object({\n\t\t\t\tvalue: z.string().min(1),\n\t\t\t\thexColor: z\n\t\t\t\t\t.string()\n\t\t\t\t\t.regex(/^#[0-9A-Fa-f]{6}$/)\n\t\t\t\t\t.optional(),\n\t\t\t}),\n\t\t)\n\t\t.min(1, \"At least one value is required\"),\n});\nexport type VariantGroupInput = z.infer<typeof VariantGroupSchema>;\n\n// Product filter schema for list page\nexport const ProductFilterSchema = z.object({\n\tsearch: z.string().optional(),\n\tstatus: z.array(ProductStatusEnum).optional(),\n\tcategoryIds: z.array(z.string()).optional(),\n\tbrandIds: z.array(z.string()).optional(),\n\tstockStatus: z\n\t\t.enum([\"all\", \"in_stock\", \"low_stock\", \"out_of_stock\"])\n\t\t.optional(),\n\tpriceMin: z.number().min(0).optional(),\n\tpriceMax: z.number().min(0).optional(),\n\tpurchaseType: z.array(PurchaseTypeEnum).optional(),\n\tsortBy: z\n\t\t.enum([\n\t\t\t\"name_asc\",\n\t\t\t\"name_desc\",\n\t\t\t\"price_asc\",\n\t\t\t\"price_desc\",\n\t\t\t\"created_asc\",\n\t\t\t\"created_desc\",\n\t\t\t\"stock_asc\",\n\t\t\t\"stock_desc\",\n\t\t])\n\t\t.optional(),\n\tpage: z.number().int().min(1).default(1),\n\tpageSize: z.number().int().min(1).max(100).default(20),\n});\nexport type ProductFilterInput = z.infer<typeof ProductFilterSchema>;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n\t\"text-sm leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tprimary: \"font-medium\",\n\t\t\t\tsecondary: \"font-normal\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"primary\",\n\t\t},\n\t},\n);\n\nfunction Label({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root> &\n\tVariantProps<typeof labelVariants>) {\n\treturn (\n\t\t<LabelPrimitive.Root\n\t\t\tdata-slot=\"label\"\n\t\t\tclassName={cn(labelVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACxB,kGACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,WAAW;QACZ;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,OAAO,EACP,GAAG,OAE+B;IAClC,qBACC,6LAAC,6OAAc,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAbS"}},
    {"offset": {"line": 440, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/form.tsx"],"sourcesContent":["\"use client\";\n\nimport type * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport * as React from \"react\";\nimport {\n\tController,\n\ttype ControllerProps,\n\ttype FieldPath,\n\ttype FieldValues,\n\tFormProvider,\n\tuseFormContext,\n\tuseFormState,\n} from \"react-hook-form\";\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/lib/utils\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n\tname: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n\t{} as FormFieldContextValue,\n);\n\nconst FormField = <\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n\t...props\n}: ControllerProps<TFieldValues, TName>) => {\n\tconst contextValue = React.useMemo(\n\t\t() => ({ name: props.name }),\n\t\t[props.name],\n\t);\n\treturn (\n\t\t<FormFieldContext.Provider value={contextValue}>\n\t\t\t<Controller {...props} />\n\t\t</FormFieldContext.Provider>\n\t);\n};\n\nconst useFormField = () => {\n\tconst fieldContext = React.useContext(FormFieldContext);\n\tconst itemContext = React.useContext(FormItemContext);\n\tconst { getFieldState } = useFormContext();\n\tconst formState = useFormState({ name: fieldContext.name });\n\tconst fieldState = getFieldState(fieldContext.name, formState);\n\n\tif (!fieldContext) {\n\t\tthrow new Error(\"useFormField should be used within <FormField>\");\n\t}\n\n\tconst { id } = itemContext;\n\n\treturn {\n\t\tid,\n\t\tname: fieldContext.name,\n\t\tformItemId: `${id}-form-item`,\n\t\tformDescriptionId: `${id}-form-item-description`,\n\t\tformMessageId: `${id}-form-item-message`,\n\t\t...fieldState,\n\t};\n};\n\ntype FormItemContextValue = {\n\tid: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n\t{} as FormItemContextValue,\n);\n\nfunction FormItem({ className, ...props }: React.ComponentProps<\"div\">) {\n\tconst id = React.useId();\n\tconst contextValue = React.useMemo(() => ({ id }), [id]);\n\n\treturn (\n\t\t<FormItemContext.Provider value={contextValue}>\n\t\t\t<div\n\t\t\t\tdata-slot=\"form-item\"\n\t\t\t\tclassName={cn(\"grid gap-2\", className)}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</FormItemContext.Provider>\n\t);\n}\n\nfunction FormLabel({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n\tconst { error, formItemId } = useFormField();\n\n\treturn (\n\t\t<Label\n\t\t\tdata-slot=\"form-label\"\n\t\t\tdata-error={!!error}\n\t\t\tclassName={cn(\"data-[error=true]:text-destructive\", className)}\n\t\t\thtmlFor={formItemId}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n\tconst { error, formItemId, formDescriptionId, formMessageId } =\n\t\tuseFormField();\n\n\treturn (\n\t\t<Slot\n\t\t\tdata-slot=\"form-control\"\n\t\t\tid={formItemId}\n\t\t\taria-describedby={\n\t\t\t\t!error\n\t\t\t\t\t? `${formDescriptionId}`\n\t\t\t\t\t: `${formDescriptionId} ${formMessageId}`\n\t\t\t}\n\t\t\taria-invalid={!!error}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n\tconst { formDescriptionId } = useFormField();\n\n\treturn (\n\t\t<p\n\t\t\tdata-slot=\"form-description\"\n\t\t\tid={formDescriptionId}\n\t\t\tclassName={cn(\"text-muted-foreground text-sm\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction FormMessage({ className, ...props }: React.ComponentProps<\"p\">) {\n\tconst { error, formMessageId } = useFormField();\n\tconst body = error ? String(error?.message ?? \"\") : props.children;\n\n\tif (!body) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<p\n\t\t\tdata-slot=\"form-message\"\n\t\t\tid={formMessageId}\n\t\t\tclassName={cn(\"text-destructive text-sm\", className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{body}\n\t\t</p>\n\t);\n}\n\nexport {\n\tuseFormField,\n\tForm,\n\tFormItem,\n\tFormLabel,\n\tFormControl,\n\tFormDescription,\n\tFormMessage,\n\tFormField,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\n\nimport { Popover as PopoverPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Popover({\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n\treturn <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\n}\n\nfunction PopoverTrigger({\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n\treturn <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\n}\n\nfunction PopoverContent({\n\tclassName,\n\talign = \"center\",\n\tsideOffset = 4,\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n\treturn (\n\t\t<PopoverPrimitive.Content\n\t\t\tdata-slot=\"popover-content\"\n\t\t\talign={align}\n\t\t\tsideOffset={sideOffset}\n\t\t\tclassName={cn(\n\t\t\t\t\"z-50 w-72 rounded-md border border-border bg-popover p-4 text-popover-foreground shadow-md shadow-black/5 outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Popover, PopoverContent, PopoverTrigger };\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAEA;AAJA;;;;AAMA,SAAS,QAAQ,EAChB,GAAG,OACiD;IACpD,qBAAO,6LAAC,oNAAgB,CAAC,IAAI;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC5D;KAJS;AAMT,SAAS,eAAe,EACvB,GAAG,OACoD;IACvD,qBAAO,6LAAC,oNAAgB,CAAC,OAAO;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACvE;MAJS;AAMT,SAAS,eAAe,EACvB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACoD;IACvD,qBACC,6LAAC,oNAAgB,CAAC,OAAO;QACxB,aAAU;QACV,OAAO;QACP,YAAY;QACZ,WAAW,IAAA,gJAAE,EACZ,6cACA;QAEA,GAAG,KAAK;;;;;;AAGZ;MAlBS"}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/searchable-select.tsx"],"sourcesContent":["\"use client\";\n\nimport { Check, ChevronsUpDown } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n} from \"@/components/ui/command\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SearchableSelectOption {\n\tvalue: string;\n\tlabel: string;\n\ticon?: React.ReactNode;\n}\n\ninterface SearchableSelectProps {\n\toptions: SearchableSelectOption[];\n\tvalue?: string;\n\tonValueChange?: (value: string) => void;\n\tplaceholder?: string;\n\tsearchPlaceholder?: string;\n\temptyText?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n}\n\nexport function SearchableSelect({\n\toptions,\n\tvalue,\n\tonValueChange,\n\tplaceholder = \"Select an option...\",\n\tsearchPlaceholder = \"Search...\",\n\temptyText = \"No results found.\",\n\tdisabled = false,\n\tclassName,\n}: SearchableSelectProps) {\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst selectedOption = options.find((option) => option.value === value);\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t{/* biome-ignore lint/a11y/useSemanticElements: Custom searchable select requires role=\"combobox\" */}\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\taria-expanded={open}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"w-full justify-between font-normal\",\n\t\t\t\t\t\t!value && \"text-muted-foreground\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"flex items-center gap-2 truncate\">\n\t\t\t\t\t\t{selectedOption?.icon}\n\t\t\t\t\t\t{selectedOption?.label ?? placeholder}\n\t\t\t\t\t</span>\n\t\t\t\t\t<ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent\n\t\t\t\tclassName=\"w-[--radix-popover-trigger-width] p-0\"\n\t\t\t\talign=\"start\"\n\t\t\t>\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder={searchPlaceholder} />\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t<CommandEmpty>{emptyText}</CommandEmpty>\n\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t{options.map((option) => (\n\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\t\tvalue={option.label}\n\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\tonValueChange?.(option.value === value ? \"\" : option.value);\n\t\t\t\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{option.icon && <span className=\"mr-2\">{option.icon}</span>}\n\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"ml-auto h-4 w-4\",\n\t\t\t\t\t\t\t\t\t\t\tvalue === option.value ? \"opacity-100\" : \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n\n// Multi-select variant\ninterface SearchableMultiSelectProps {\n\toptions: SearchableSelectOption[];\n\tvalues: string[];\n\tonValuesChange?: (values: string[]) => void;\n\tplaceholder?: string;\n\tsearchPlaceholder?: string;\n\temptyText?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n\tmaxDisplay?: number;\n}\n\nexport function SearchableMultiSelect({\n\toptions,\n\tvalues,\n\tonValuesChange,\n\tplaceholder = \"Select options...\",\n\tsearchPlaceholder = \"Search...\",\n\temptyText = \"No results found.\",\n\tdisabled = false,\n\tclassName,\n\tmaxDisplay = 3,\n}: SearchableMultiSelectProps) {\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst selectedOptions = options.filter((option) =>\n\t\tvalues.includes(option.value),\n\t);\n\n\tconst displayText = React.useMemo(() => {\n\t\tif (selectedOptions.length === 0) return null;\n\t\tif (selectedOptions.length <= maxDisplay) {\n\t\t\treturn selectedOptions.map((o) => o.label).join(\", \");\n\t\t}\n\t\treturn `${selectedOptions\n\t\t\t.slice(0, maxDisplay)\n\t\t\t.map((o) => o.label)\n\t\t\t.join(\", \")} +${selectedOptions.length - maxDisplay} more`;\n\t}, [selectedOptions, maxDisplay]);\n\n\tconst handleSelect = (optionValue: string) => {\n\t\tconst newValues = values.includes(optionValue)\n\t\t\t? values.filter((v) => v !== optionValue)\n\t\t\t: [...values, optionValue];\n\t\tonValuesChange?.(newValues);\n\t};\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t{/* biome-ignore lint/a11y/useSemanticElements: Custom multi-select requires role=\"combobox\" */}\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\taria-expanded={open}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"w-full justify-between font-normal\",\n\t\t\t\t\t\t!displayText && \"text-muted-foreground\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"truncate\">{displayText ?? placeholder}</span>\n\t\t\t\t\t<ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent\n\t\t\t\tclassName=\"w-[--radix-popover-trigger-width] p-0\"\n\t\t\t\talign=\"start\"\n\t\t\t>\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder={searchPlaceholder} />\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t<CommandEmpty>{emptyText}</CommandEmpty>\n\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t{options.map((option) => (\n\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\t\t\tvalue={option.label}\n\t\t\t\t\t\t\t\t\tonSelect={() => handleSelect(option.value)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{option.icon && <span className=\"mr-2\">{option.icon}</span>}\n\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"ml-auto h-4 w-4\",\n\t\t\t\t\t\t\t\t\t\t\tvalues.includes(option.value)\n\t\t\t\t\t\t\t\t\t\t\t\t? \"opacity-100\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-collections-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { useFormContext } from \"react-hook-form\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tFormControl,\n\tFormDescription,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { SearchableMultiSelect } from \"@/components/ui/searchable-select\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\ninterface Collection {\n\tid: string;\n\tname: string;\n}\n\ninterface ProductCollectionsSectionProps {\n\tcollections: Collection[];\n}\n\nexport function ProductCollectionsSection({\n\tcollections,\n}: ProductCollectionsSectionProps) {\n\tconst form = useFormContext<CreateProductInput>();\n\n\tconst collectionOptions = collections.map((collection) => ({\n\t\tvalue: collection.id,\n\t\tlabel: collection.name,\n\t}));\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Collections</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent>\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"collectionIds\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>Product collections</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<SearchableMultiSelect\n\t\t\t\t\t\t\t\t\toptions={collectionOptions}\n\t\t\t\t\t\t\t\t\tvalues={field.value || []}\n\t\t\t\t\t\t\t\t\tonValuesChange={field.onChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search collections...\"\n\t\t\t\t\t\t\t\t\temptyText=\"No collections found.\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\tAdd this product to one or more collections\n\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAQA;;;AAZA;;;;;AAwBO,SAAS,0BAA0B,EACzC,WAAW,EACqB;;IAChC,MAAM,OAAO,IAAA,mLAAc;IAE3B,MAAM,oBAAoB,YAAY,GAAG,CAAC,CAAC,aAAe,CAAC;YAC1D,OAAO,WAAW,EAAE;YACpB,OAAO,WAAW,IAAI;QACvB,CAAC;IAED,qBACC,6LAAC,+JAAI;;0BACJ,6LAAC,qKAAU;0BACV,cAAA,6LAAC,oKAAS;8BAAC;;;;;;;;;;;0BAEZ,6LAAC,sKAAW;0BACX,cAAA,6LAAC,oKAAS;oBACT,SAAS,KAAK,OAAO;oBACrB,MAAK;oBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACjB,6LAAC,mKAAQ;;8CACR,6LAAC,oKAAS;8CAAC;;;;;;8CACX,6LAAC,sKAAW;8CACX,cAAA,6LAAC,gMAAqB;wCACrB,SAAS;wCACT,QAAQ,MAAM,KAAK,IAAI,EAAE;wCACzB,gBAAgB,MAAM,QAAQ;wCAC9B,aAAY;wCACZ,WAAU;;;;;;;;;;;8CAGZ,6LAAC,0KAAe;8CAAC;;;;;;8CAGjB,6LAAC,sKAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnB;GAzCgB;;QAGF,mLAAc;;;KAHZ"}},
    {"offset": {"line": 1147, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/input.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define input size variants\nconst inputVariants = cva(\n\t`\n    flex w-full bg-background border border-input shadow-xs shadow-black/5 transition-[color,box-shadow] text-foreground placeholder:text-muted-foreground/80 \n    focus-visible:ring-ring/30  focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px]     \n    disabled:cursor-not-allowed disabled:opacity-60 \n    [&[readonly]]:bg-muted/80 [&[readonly]]:cursor-not-allowed\n    file:h-full [&[type=file]]:py-0 file:border-solid file:border-input file:bg-transparent \n    file:font-medium file:not-italic file:text-foreground file:p-0 file:border-0 file:border-e\n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tlg: \"h-10 px-4 text-sm rounded-md file:pe-4 file:me-4\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) rounded-md file:pe-3 file:me-3\",\n\t\t\t\tsm: \"h-7 px-2.5 text-xs rounded-md file:pe-2.5 file:me-2.5\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nconst inputAddonVariants = cva(\n\t\"flex items-center shrink-0 justify-center bg-muted border border-input shadow-xs shadow-[rgba(0,0,0,0.05)] text-secondary-foreground\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"rounded-md h-7 min-w-7 text-xs px-2.5 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"rounded-md h-8.5 min-w-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t\tlg: \"rounded-md h-10 min-w-10 px-4 text-sm [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t},\n\t\t\tmode: {\n\t\t\t\tdefault: \"\",\n\t\t\t\ticon: \"px-0 justify-center\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t\tmode: \"default\",\n\t\t},\n\t},\n);\n\nconst inputGroupVariants = cva(\n\t`\n    flex items-stretch\n    [&_[data-slot=input]]:grow\n    [&_[data-slot=input-addon]:has(+[data-slot=input])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=input])]:border-e-0\n    [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:border-e-0 \n    [&_[data-slot=input]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=input]+[data-slot=input-addon]]:border-s-0\n    [&_[data-slot=input-addon]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]+[data-slot=button]]:rounded-s-none\n    [&_[data-slot=button]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=datefield]]:[&_[data-slot=input]]:rounded-s-none\n    [&_[data-slot=datefield]:has(+[data-slot=input-addon])]:[&_[data-slot=input]]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=input-addon])]:rounded-e-none\n    [&_[data-slot=datefield]]:grow\n    [&_[data-slot=datefield]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=datefield]+[data-slot=input-addon]]:border-s-0\n  `,\n\t{\n\t\tvariants: {},\n\t\tdefaultVariants: {},\n\t},\n);\n\nconst inputWrapperVariants = cva(\n\t`\n    flex items-center gap-1.5\n    has-[:focus-visible]:ring-ring/30 \n    has-[:focus-visible]:border-ring\n    has-[:focus-visible]:outline-none \n    has-[:focus-visible]:ring-[3px]\n\n    [&_[data-slot=datefield]]:grow \n    [&_[data-slot=input]]:data-focus-within:ring-transparent  \n    [&_[data-slot=input]]:data-focus-within:ring-0 \n    [&_[data-slot=input]]:data-focus-within:border-0 \n    [&_[data-slot=input]]:flex \n    [&_[data-slot=input]]:w-full \n    [&_[data-slot=input]]:outline-none \n    [&_[data-slot=input]]:transition-colors \n    [&_[data-slot=input]]:text-foreground\n    [&_[data-slot=input]]:placeholder:text-muted-foreground \n    [&_[data-slot=input]]:border-0 \n    [&_[data-slot=input]]:bg-transparent \n    [&_[data-slot=input]]:p-0\n    [&_[data-slot=input]]:shadow-none \n    [&_[data-slot=input]]:focus-visible:ring-0 \n    [&_[data-slot=input]]:h-auto \n    [&_[data-slot=input]]:disabled:cursor-not-allowed\n    [&_[data-slot=input]]:disabled:opacity-50    \n\n    has-[[aria-invalid=true]]:border-destructive/60 \n    has-[[aria-invalid=true]]:ring-destructive/10 \n    dark:has-[[aria-invalid=true]]:border-destructive \n    dark:has-[[aria-invalid=true]]:ring-destructive/20    \n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"gap-1.25 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t\tlg: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nfunction Input({\n\tclassName,\n\ttype,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"input\"> & VariantProps<typeof inputVariants>) {\n\treturn (\n\t\t<input\n\t\t\tdata-slot=\"input\"\n\t\t\ttype={type}\n\t\t\tclassName={cn(inputVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputAddon({\n\tclassName,\n\tvariant,\n\tmode,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputAddonVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-addon\"\n\t\t\tclassName={cn(inputAddonVariants({ variant, mode }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputGroup({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-group\"\n\t\t\tclassName={cn(inputGroupVariants(), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputWrapper({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputWrapperVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-wrapper\"\n\t\t\tclassName={cn(\n\t\t\t\tinputVariants({ variant }),\n\t\t\t\tinputWrapperVariants({ variant }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tInput,\n\tInputAddon,\n\tInputGroup,\n\tInputWrapper,\n\tinputVariants,\n\tinputAddonVariants,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,IAAA,0KAAG,EACxB,CAAC;;;;;;;;EAQA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,wIACA;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;QACA,MAAM;YACL,SAAS;YACT,MAAM;QACP;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,CAAC;;;;;;;;;;;;;;;;EAgBA,CAAC,EACF;IACC,UAAU,CAAC;IACX,iBAAiB,CAAC;AACnB;AAGD,MAAM,uBAAuB,IAAA,0KAAG,EAC/B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,IAAI,EACJ,OAAO,EACP,GAAG,OACiE;IACpE,qBACC,6LAAC;QACA,aAAU;QACV,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAdS;AAgBT,SAAS,WAAW,EACnB,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;YAAE;YAAS;QAAK,IAAI;QACpD,GAAG,KAAK;;;;;;AAGZ;MAbS;AAeT,SAAS,WAAW,EACnB,SAAS,EACT,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGZ;MAXS;AAaT,SAAS,aAAa,EACrB,SAAS,EACT,OAAO,EACP,GAAG,OACsE;IACzE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EACZ,cAAc;YAAE;QAAQ,IACxB,qBAAqB;YAAE;QAAQ,IAC/B;QAEA,GAAG,KAAK;;;;;;AAGZ;MAhBS"}},
    {"offset": {"line": 1338, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Separator = React.forwardRef<\n\tReact.ElementRef<typeof SeparatorPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n\t(\n\t\t{ className, orientation = \"horizontal\", decorative = true, ...props },\n\t\tref,\n\t) => (\n\t\t<SeparatorPrimitive.Root\n\t\t\tref={ref}\n\t\t\tdecorative={decorative}\n\t\t\torientation={orientation}\n\t\t\tclassName={cn(\n\t\t\t\t\"shrink-0 bg-border\",\n\t\t\t\torientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t),\n);\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,2KAAgB,MAIjC,CACC,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,gLAAuB;QACvB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,gJAAE,EACZ,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAEA,GAAG,KAAK;;;;;;;AAIZ,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}},
    {"offset": {"line": 1375, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/toggle.tsx"],"sourcesContent":["\"use client\";\n\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n\t\"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: \"bg-transparent\",\n\t\t\t\toutline:\n\t\t\t\t\t\"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tdefault: \"h-10 px-3 min-w-10\",\n\t\t\t\tsm: \"h-9 px-2.5 min-w-9\",\n\t\t\t\tlg: \"h-11 px-5 min-w-11\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t\tsize: \"default\",\n\t\t},\n\t},\n);\n\nconst Toggle = React.forwardRef<\n\tReact.ElementRef<typeof TogglePrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n\t\tVariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n\t<TogglePrimitive.Root\n\t\tref={ref}\n\t\tclassName={cn(toggleVariants({ variant, size, className }))}\n\t\t{...props}\n\t/>\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,IAAA,0KAAG,EACzB,sbACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,SACC;QACF;QACA,MAAM;YACL,SAAS;YACT,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,uBAAS,2KAAgB,MAI7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,6KAAoB;QACpB,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;;AAIX,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 1435, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/rich-text-editor.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"@tiptap/extension-image\";\nimport Link from \"@tiptap/extension-link\";\nimport Placeholder from \"@tiptap/extension-placeholder\";\nimport Underline from \"@tiptap/extension-underline\";\nimport { type Editor, EditorContent, useEditor } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport {\n\tBold,\n\tHeading1,\n\tHeading2,\n\tHeading3,\n\tImagePlus,\n\tItalic,\n\tLink as LinkIcon,\n\tList,\n\tListOrdered,\n\tLoader2,\n\tMinus,\n\tQuote,\n\tRedo,\n\tStrikethrough,\n\tUnderline as UnderlineIcon,\n\tUndo,\n\tUnlink,\n} from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Toggle } from \"@/components/ui/toggle\";\nimport { cn } from \"@/lib/utils\";\n\ninterface RichTextEditorProps {\n\tvalue?: string;\n\tonChange?: (value: string) => void;\n\tplaceholder?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n\tminHeight?: string;\n\t/** Folder for image uploads (e.g., 'blog', 'pages') */\n\timageFolder?: string;\n\t/** Whether to enable image uploads */\n\tenableImages?: boolean;\n}\n\nexport function RichTextEditor({\n\tvalue = \"\",\n\tonChange,\n\tplaceholder = \"Start writing...\",\n\tdisabled = false,\n\tclassName,\n\tminHeight = \"200px\",\n\timageFolder = \"other\",\n\tenableImages = true,\n}: RichTextEditorProps) {\n\tconst isInternalUpdate = React.useRef(false);\n\n\tconst editor = useEditor({\n\t\timmediatelyRender: false,\n\t\textensions: [\n\t\t\tStarterKit.configure({\n\t\t\t\theading: {\n\t\t\t\t\tlevels: [1, 2, 3],\n\t\t\t\t},\n\t\t\t}),\n\t\t\tUnderline,\n\t\t\tLink.configure({\n\t\t\t\topenOnClick: false,\n\t\t\t\tHTMLAttributes: {\n\t\t\t\t\tclass: \"text-primary underline underline-offset-2\",\n\t\t\t\t},\n\t\t\t}),\n\t\t\tImage.configure({\n\t\t\t\tinline: false,\n\t\t\t\tallowBase64: false,\n\t\t\t\tHTMLAttributes: {\n\t\t\t\t\tclass: \"rounded-md max-w-full h-auto\",\n\t\t\t\t},\n\t\t\t}),\n\t\t\tPlaceholder.configure({\n\t\t\t\tplaceholder,\n\t\t\t}),\n\t\t],\n\t\tcontent: value,\n\t\teditable: !disabled,\n\t\tonUpdate: ({ editor }) => {\n\t\t\tif (!isInternalUpdate.current) {\n\t\t\t\tonChange?.(editor.getHTML());\n\t\t\t}\n\t\t},\n\t\teditorProps: {\n\t\t\tattributes: {\n\t\t\t\tclass: cn(\n\t\t\t\t\t\"prose prose-sm max-w-none focus:outline-none\",\n\t\t\t\t\t\"prose-headings:font-semibold prose-headings:tracking-tight\",\n\t\t\t\t\t\"prose-p:leading-relaxed prose-p:my-2\",\n\t\t\t\t\t\"prose-ul:my-2 prose-ol:my-2\",\n\t\t\t\t\t\"prose-li:my-0.5\",\n\t\t\t\t\t\"prose-blockquote:border-l-2 prose-blockquote:border-muted-foreground/20 prose-blockquote:pl-4 prose-blockquote:italic\",\n\t\t\t\t),\n\t\t\t},\n\t\t},\n\t});\n\n\t// Update content when value prop changes externally\n\tReact.useEffect(() => {\n\t\tif (!editor) return;\n\n\t\tconst currentContent = editor.getHTML();\n\t\t// Normalize empty content comparison - Tiptap returns <p></p> for empty\n\t\tconst normalizedCurrent =\n\t\t\tcurrentContent === \"<p></p>\" ? \"\" : currentContent;\n\t\tconst normalizedValue = value === \"<p></p>\" ? \"\" : value;\n\n\t\tif (normalizedValue !== normalizedCurrent) {\n\t\t\t// Use queueMicrotask to ensure the flag stays set during the async update\n\t\t\tisInternalUpdate.current = true;\n\t\t\teditor.commands.setContent(value);\n\t\t\t// Reset after a microtask to ensure onUpdate has fired\n\t\t\tqueueMicrotask(() => {\n\t\t\t\tisInternalUpdate.current = false;\n\t\t\t});\n\t\t}\n\t}, [value, editor]);\n\n\tif (!editor) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={cn(\"rounded-md border bg-muted/50 animate-pulse\", className)}\n\t\t\t\tstyle={{ minHeight }}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"rounded-md border bg-background\",\n\t\t\t\tdisabled && \"opacity-50\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{/* Toolbar */}\n\t\t\t<div className=\"flex flex-wrap items-center gap-0.5 border-b p-1\">\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"bold\")}\n\t\t\t\t\t\tonPressedChange={() => editor.chain().focus().toggleBold().run()}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Bold\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Bold className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"italic\")}\n\t\t\t\t\t\tonPressedChange={() => editor.chain().focus().toggleItalic().run()}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Italic\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Italic className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"underline\")}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleUnderline().run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Underline\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<UnderlineIcon className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"strike\")}\n\t\t\t\t\t\tonPressedChange={() => editor.chain().focus().toggleStrike().run()}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Strikethrough\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Strikethrough className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t<Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"heading\", { level: 1 })}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleHeading({ level: 1 }).run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Heading 1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Heading1 className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"heading\", { level: 2 })}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleHeading({ level: 2 }).run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Heading 2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Heading2 className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"heading\", { level: 3 })}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleHeading({ level: 3 }).run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Heading 3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Heading3 className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t<Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"bulletList\")}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleBulletList().run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Bullet List\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<List className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"orderedList\")}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleOrderedList().run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Numbered List\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListOrdered className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={editor.isActive(\"blockquote\")}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().toggleBlockquote().run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Quote\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Quote className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={false}\n\t\t\t\t\t\tonPressedChange={() =>\n\t\t\t\t\t\t\teditor.chain().focus().setHorizontalRule().run()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\ttooltip=\"Horizontal Rule\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Minus className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t<Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<LinkButton editor={editor} disabled={disabled} />\n\t\t\t\t\t{editor.isActive(\"link\") && (\n\t\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\t\tpressed={false}\n\t\t\t\t\t\t\tonPressedChange={() => editor.chain().focus().unsetLink().run()}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\ttooltip=\"Remove Link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Unlink className=\"h-4 w-4\" />\n\t\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t)}\n\t\t\t\t\t{enableImages && (\n\t\t\t\t\t\t<ImageButton\n\t\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\tfolder={imageFolder}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t<div className=\"flex-1\" />\n\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={false}\n\t\t\t\t\t\tonPressedChange={() => editor.chain().focus().undo().run()}\n\t\t\t\t\t\tdisabled={disabled || !editor.can().undo()}\n\t\t\t\t\t\ttooltip=\"Undo\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Undo className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t\t<ToolbarToggle\n\t\t\t\t\t\tpressed={false}\n\t\t\t\t\t\tonPressedChange={() => editor.chain().focus().redo().run()}\n\t\t\t\t\t\tdisabled={disabled || !editor.can().redo()}\n\t\t\t\t\t\ttooltip=\"Redo\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Redo className=\"h-4 w-4\" />\n\t\t\t\t\t</ToolbarToggle>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</div>\n\n\t\t\t{/* Editor content */}\n\t\t\t{/* biome-ignore lint/a11y/useSemanticElements: Custom rich text editor wrapper requires role=\"textbox\" */}\n\t\t\t<div\n\t\t\t\tclassName=\"p-3 overflow-y-auto\"\n\t\t\t\tstyle={{ minHeight }}\n\t\t\t\tonClick={() => editor.chain().focus().run()}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\teditor.chain().focus().run();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\trole=\"textbox\"\n\t\t\t\ttabIndex={0}\n\t\t\t\taria-label=\"Rich text editor\"\n\t\t\t>\n\t\t\t\t<EditorContent editor={editor} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction ToolbarGroup({ children }: { children: React.ReactNode }) {\n\treturn <div className=\"flex items-center gap-0.5\">{children}</div>;\n}\n\ninterface ToolbarToggleProps {\n\tpressed: boolean;\n\tonPressedChange: () => void;\n\tdisabled?: boolean;\n\ttooltip?: string;\n\tchildren: React.ReactNode;\n}\n\nfunction ToolbarToggle({\n\tpressed,\n\tonPressedChange,\n\tdisabled,\n\ttooltip,\n\tchildren,\n}: ToolbarToggleProps) {\n\treturn (\n\t\t<Toggle\n\t\t\tsize=\"sm\"\n\t\t\tpressed={pressed}\n\t\t\tonPressedChange={onPressedChange}\n\t\t\tdisabled={disabled}\n\t\t\taria-label={tooltip}\n\t\t\tclassName=\"h-8 w-8 p-0 data-[state=on]:bg-accent\"\n\t\t>\n\t\t\t{children}\n\t\t</Toggle>\n\t);\n}\n\nfunction LinkButton({\n\teditor,\n\tdisabled,\n}: {\n\teditor: Editor;\n\tdisabled?: boolean;\n}) {\n\tconst [open, setOpen] = React.useState(false);\n\tconst [url, setUrl] = React.useState(\"\");\n\n\tconst handleSubmit = (e: React.FormEvent) => {\n\t\te.preventDefault();\n\t\tif (url) {\n\t\t\teditor\n\t\t\t\t.chain()\n\t\t\t\t.focus()\n\t\t\t\t.extendMarkRange(\"link\")\n\t\t\t\t.setLink({ href: url })\n\t\t\t\t.run();\n\t\t}\n\t\tsetUrl(\"\");\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Toggle\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tpressed={editor.isActive(\"link\")}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label=\"Add Link\"\n\t\t\t\t\tclassName=\"h-8 w-8 p-0 data-[state=on]:bg-accent\"\n\t\t\t\t>\n\t\t\t\t\t<LinkIcon className=\"h-4 w-4\" />\n\t\t\t\t</Toggle>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-80\" align=\"start\">\n\t\t\t\t<form onSubmit={handleSubmit} className=\"space-y-3\">\n\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t<Label htmlFor=\"link-url\">URL</Label>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tid=\"link-url\"\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tvalue={url}\n\t\t\t\t\t\t\tonChange={(e) => setUrl(e.target.value)}\n\t\t\t\t\t\t\tplaceholder=\"https://example.com\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-end gap-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button type=\"submit\" size=\"sm\">\n\t\t\t\t\t\t\tAdd Link\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n\nfunction ImageButton({\n\teditor,\n\tdisabled,\n\tfolder,\n}: {\n\teditor: Editor;\n\tdisabled?: boolean;\n\tfolder: string;\n}) {\n\tconst [open, setOpen] = React.useState(false);\n\tconst [uploading, setUploading] = React.useState(false);\n\tconst [url, setUrl] = React.useState(\"\");\n\tconst fileInputRef = React.useRef<HTMLInputElement>(null);\n\n\tconst handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst file = e.target.files?.[0];\n\t\tif (!file) return;\n\n\t\t// Validate file type\n\t\tif (!file.type.startsWith(\"image/\")) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Validate file size (max 10MB)\n\t\tif (file.size > 10 * 1024 * 1024) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tsetUploading(true);\n\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append(\"file\", file);\n\t\t\tformData.append(\"folder\", folder);\n\n\t\t\tconst response = await fetch(\"/api/upload\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: formData,\n\t\t\t});\n\n\t\t\tif (!response.ok) {\n\t\t\t\tconst error = await response.json();\n\t\t\t\tthrow new Error(error.error || \"Upload failed\");\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\n\t\t\t// Insert image into editor\n\t\t\teditor.chain().focus().setImage({ src: data.url, alt: file.name }).run();\n\t\t\tsetOpen(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Image upload failed:\", error);\n\t\t} finally {\n\t\t\tsetUploading(false);\n\t\t\t// Reset file input\n\t\t\tif (fileInputRef.current) {\n\t\t\t\tfileInputRef.current.value = \"\";\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleUrlSubmit = (e: React.FormEvent) => {\n\t\te.preventDefault();\n\t\tif (url) {\n\t\t\teditor.chain().focus().setImage({ src: url }).run();\n\t\t}\n\t\tsetUrl(\"\");\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Toggle\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tpressed={false}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label=\"Add Image\"\n\t\t\t\t\tclassName=\"h-8 w-8 p-0\"\n\t\t\t\t>\n\t\t\t\t\t{uploading ? (\n\t\t\t\t\t\t<Loader2 className=\"h-4 w-4 animate-spin\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ImagePlus className=\"h-4 w-4\" />\n\t\t\t\t\t)}\n\t\t\t\t</Toggle>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-80\" align=\"start\">\n\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Label className=\"text-sm font-medium\">Upload Image</Label>\n\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mb-2\">\n\t\t\t\t\t\t\tMax 10MB. JPG, PNG, GIF, WebP\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref={fileInputRef}\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tonChange={handleFileSelect}\n\t\t\t\t\t\t\tdisabled={uploading}\n\t\t\t\t\t\t\tclassName=\"block w-full text-sm text-muted-foreground\n\t\t\t\t\t\t\t\tfile:mr-4 file:py-2 file:px-4\n\t\t\t\t\t\t\t\tfile:rounded-md file:border-0\n\t\t\t\t\t\t\t\tfile:text-sm file:font-medium\n\t\t\t\t\t\t\t\tfile:bg-primary file:text-primary-foreground\n\t\t\t\t\t\t\t\thover:file:bg-primary/90\n\t\t\t\t\t\t\t\tfile:cursor-pointer cursor-pointer\n\t\t\t\t\t\t\t\tdisabled:opacity-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\n\t\t\t\t\t\t\t<span className=\"w-full border-t\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"relative flex justify-center text-xs uppercase\">\n\t\t\t\t\t\t\t<span className=\"bg-popover px-2 text-muted-foreground\">\n\t\t\t\t\t\t\t\tOr enter URL\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<form onSubmit={handleUrlSubmit} className=\"space-y-3\">\n\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t<Label htmlFor=\"image-url\">Image URL</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"image-url\"\n\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\tvalue={url}\n\t\t\t\t\t\t\t\tonChange={(e) => setUrl(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"https://example.com/image.jpg\"\n\t\t\t\t\t\t\t\tdisabled={uploading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex justify-end gap-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t\t\t\t\tdisabled={uploading}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button type=\"submit\" size=\"sm\" disabled={uploading || !url}>\n\t\t\t\t\t\t\t\tAdd Image\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2392, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { Select as SelectPrimitive } from \"radix-ui\";\nimport * as React from \"react\";\nimport { isValidElement, type ReactNode } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Create a Context for `indicatorPosition` and `indicator` control\nconst SelectContext = React.createContext<{\n\tindicatorPosition: \"left\" | \"right\";\n\tindicatorVisibility: boolean;\n\tindicator: ReactNode;\n}>({ indicatorPosition: \"left\", indicator: null, indicatorVisibility: true });\n\n// Root Component\nconst Select = ({\n\tindicatorPosition = \"left\",\n\tindicatorVisibility = true,\n\tindicator,\n\t...props\n}: {\n\tindicatorPosition?: \"left\" | \"right\";\n\tindicatorVisibility?: boolean;\n\tindicator?: ReactNode;\n} & React.ComponentProps<typeof SelectPrimitive.Root>) => {\n\tconst contextValue = React.useMemo(\n\t\t() => ({ indicatorPosition, indicatorVisibility, indicator }),\n\t\t[indicatorPosition, indicatorVisibility, indicator],\n\t);\n\n\treturn (\n\t\t<SelectContext.Provider value={contextValue}>\n\t\t\t<SelectPrimitive.Root {...props} />\n\t\t</SelectContext.Provider>\n\t);\n};\n\nfunction SelectGroup({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n\treturn <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\n}\n\nfunction SelectValue({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n\treturn <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\n}\n\n// Define size variants for SelectTrigger\nconst selectTriggerVariants = cva(\n\t`\n    flex bg-background w-full items-center justify-between outline-none border border-input shadow-xs shadow-black/5 transition-shadow \n    text-foreground data-placeholder:text-muted-foreground focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] \n    focus-visible:ring-ring/30 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"h-7 px-2.5 text-xs gap-1 rounded-md\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) gap-1 rounded-md\",\n\t\t\t\tlg: \"h-10 px-4 text-sm gap-1.5 rounded-md\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nexport interface SelectTriggerProps\n\textends React.ComponentProps<typeof SelectPrimitive.Trigger>,\n\t\tVariantProps<typeof selectTriggerVariants> {}\n\nfunction SelectTrigger({\n\tclassName,\n\tchildren,\n\tsize,\n\t...props\n}: SelectTriggerProps) {\n\treturn (\n\t\t<SelectPrimitive.Trigger\n\t\t\tdata-slot=\"select-trigger\"\n\t\t\tclassName={cn(selectTriggerVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<SelectPrimitive.Icon asChild>\n\t\t\t\t<ChevronDown className=\"h-4 w-4 opacity-60 -me-0.5\" />\n\t\t\t</SelectPrimitive.Icon>\n\t\t</SelectPrimitive.Trigger>\n\t);\n}\n\nfunction SelectScrollUpButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollUpButton\n\t\t\tdata-slot=\"select-scroll-up-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronUp className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollUpButton>\n\t);\n}\n\nfunction SelectScrollDownButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollDownButton\n\t\t\tdata-slot=\"select-scroll-down-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronDown className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollDownButton>\n\t);\n}\n\nfunction SelectContent({\n\tclassName,\n\tchildren,\n\tposition = \"popper\",\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n\treturn (\n\t\t<SelectPrimitive.Portal>\n\t\t\t<SelectPrimitive.Content\n\t\t\t\tdata-slot=\"select-content\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover shadow-md shadow-black/5 text-secondary-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\"data-[side=bottom]:translate-y-1.5 data-[side=left]:-translate-x-1.5 data-[side=right]:translate-x-1.5 data-[side=top]:-translate-y-1.5\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tposition={position}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<SelectScrollUpButton />\n\t\t\t\t<SelectPrimitive.Viewport\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"p-1.5\",\n\t\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\t\"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</SelectPrimitive.Viewport>\n\t\t\t\t<SelectScrollDownButton />\n\t\t\t</SelectPrimitive.Content>\n\t\t</SelectPrimitive.Portal>\n\t);\n}\n\nfunction SelectLabel({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n\treturn (\n\t\t<SelectPrimitive.Label\n\t\t\tdata-slot=\"select-label\"\n\t\t\tclassName={cn(\n\t\t\t\t\"py-1.5 ps-8 pe-2 text-xs text-muted-foreground font-medium\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SelectItem({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n\tconst { indicatorPosition, indicatorVisibility, indicator } =\n\t\tReact.useContext(SelectContext);\n\n\treturn (\n\t\t<SelectPrimitive.Item\n\t\t\tdata-slot=\"select-item\"\n\t\t\tclassName={cn(\n\t\t\t\t\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 text-sm outline-hidden text-foreground hover:bg-accent focus:bg-accent data-disabled:pointer-events-none data-disabled:opacity-50\",\n\t\t\t\tindicatorPosition === \"left\" ? \"ps-8 pe-2\" : \"pe-8 ps-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{indicatorVisibility &&\n\t\t\t\t(indicator && isValidElement(indicator) ? (\n\t\t\t\t\tindicator\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"absolute flex h-3.5 w-3.5 items-center justify-center\",\n\t\t\t\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectPrimitive.ItemIndicator>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t</SelectPrimitive.ItemIndicator>\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t<SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n\t\t</SelectPrimitive.Item>\n\t);\n}\n\nfunction SelectIndicator({\n\tchildren,\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ItemIndicator>) {\n\tconst { indicatorPosition } = React.useContext(SelectContext);\n\n\treturn (\n\t\t<span\n\t\t\tdata-slot=\"select-indicator\"\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute flex top-1/2 -translate-y-1/2 items-center justify-center\",\n\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<SelectPrimitive.ItemIndicator>{children}</SelectPrimitive.ItemIndicator>\n\t\t</span>\n\t);\n}\n\nfunction SelectSeparator({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n\treturn (\n\t\t<SelectPrimitive.Separator\n\t\t\tdata-slot=\"select-separator\"\n\t\t\tclassName={cn(\"-mx-1.5 my-1.5 h-px bg-border\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectIndicator,\n\tSelectItem,\n\tSelectLabel,\n\tSelectScrollDownButton,\n\tSelectScrollUpButton,\n\tSelectSeparator,\n\tSelectTrigger,\n\tSelectValue,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2729, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-general-section.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tFormControl,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { RichTextEditor } from \"@/components/ui/rich-text-editor\";\nimport { SearchableSelect } from \"@/components/ui/searchable-select\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\n// Extract Status Select to its own component to isolate state\nconst StatusSelect = React.memo(function StatusSelect({\n\tvalue,\n\tonChange,\n}: {\n\tvalue: string;\n\tonChange: (value: string) => void;\n}) {\n\treturn (\n\t\t<Select value={value} onValueChange={onChange}>\n\t\t\t<SelectTrigger>\n\t\t\t\t<SelectValue placeholder=\"Select status\" />\n\t\t\t</SelectTrigger>\n\t\t\t<SelectContent>\n\t\t\t\t<SelectItem value=\"DRAFT\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<div className=\"h-2 w-2 rounded-full bg-gray-400\" />\n\t\t\t\t\t\tDraft\n\t\t\t\t\t</div>\n\t\t\t\t</SelectItem>\n\t\t\t\t<SelectItem value=\"ACTIVE\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<div className=\"h-2 w-2 rounded-full bg-green-500\" />\n\t\t\t\t\t\tActive\n\t\t\t\t\t</div>\n\t\t\t\t</SelectItem>\n\t\t\t\t<SelectItem value=\"UNLISTED\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<div className=\"h-2 w-2 rounded-full bg-yellow-500\" />\n\t\t\t\t\t\tUnlisted\n\t\t\t\t\t</div>\n\t\t\t\t</SelectItem>\n\t\t\t</SelectContent>\n\t\t</Select>\n\t);\n});\n\ninterface ProductGeneralSectionProps {\n\tcategories: { id: string; name: string }[];\n\tbrands: { id: string; name: string }[];\n}\n\nexport function ProductGeneralSection({\n\tcategories,\n\tbrands,\n}: ProductGeneralSectionProps) {\n\tconst form = useFormContext<CreateProductInput>();\n\n\tconst categoryOptions = React.useMemo(\n\t\t() =>\n\t\t\tcategories.map((c) => ({\n\t\t\t\tvalue: c.id,\n\t\t\t\tlabel: c.name,\n\t\t\t})),\n\t\t[categories],\n\t);\n\n\tconst brandOptions = React.useMemo(\n\t\t() =>\n\t\t\tbrands.map((b) => ({\n\t\t\t\tvalue: b.id,\n\t\t\t\tlabel: b.name,\n\t\t\t})),\n\t\t[brands],\n\t);\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>General Information</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t{/* Product Name */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>Product name</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<Input placeholder=\"Enter product name\" {...field} />\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Description */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"description\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>Description</FormLabel>\n\t\t\t\t\t\t\t<RichTextEditor\n\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\tonChange={field.onChange}\n\t\t\t\t\t\t\t\tplaceholder=\"Describe your product...\"\n\t\t\t\t\t\t\t\tminHeight=\"150px\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Status */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"status\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>Status</FormLabel>\n\t\t\t\t\t\t\t<StatusSelect value={field.value} onChange={field.onChange} />\n\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t{field.value === \"DRAFT\" &&\n\t\t\t\t\t\t\t\t\t\"Not visible anywhere, only in admin dashboard\"}\n\t\t\t\t\t\t\t\t{field.value === \"ACTIVE\" &&\n\t\t\t\t\t\t\t\t\t\"Visible and available for purchase\"}\n\t\t\t\t\t\t\t\t{field.value === \"UNLISTED\" &&\n\t\t\t\t\t\t\t\t\t\"Available for purchase via direct link only\"}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n\t\t\t\t\t{/* Category */}\n\t\t\t\t\t<FormField\n\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\tname=\"categoryId\"\n\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t<FormLabel>Category</FormLabel>\n\t\t\t\t\t\t\t\t<SearchableSelect\n\t\t\t\t\t\t\t\t\toptions={categoryOptions}\n\t\t\t\t\t\t\t\t\tvalue={field.value}\n\t\t\t\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tif (value !== field.value) {\n\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select category\"\n\t\t\t\t\t\t\t\t\tsearchPlaceholder=\"Search categories...\"\n\t\t\t\t\t\t\t\t\temptyText=\"No categories found\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Brand */}\n\t\t\t\t\t<FormField\n\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\tname=\"brandId\"\n\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t<FormLabel>Brand (optional)</FormLabel>\n\t\t\t\t\t\t\t\t<SearchableSelect\n\t\t\t\t\t\t\t\t\toptions={brandOptions}\n\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tconst newValue = value || undefined;\n\t\t\t\t\t\t\t\t\t\tif (newValue !== field.value) {\n\t\t\t\t\t\t\t\t\t\t\tfield.onChange(newValue);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select brand\"\n\t\t\t\t\t\t\t\t\tsearchPlaceholder=\"Search brands...\"\n\t\t\t\t\t\t\t\t\temptyText=\"No brands found\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3157, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n\tReact.ElementRef<typeof SwitchPrimitives.Root>,\n\tReact.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n\t<SwitchPrimitives.Root\n\t\tclassName={cn(\n\t\t\t\"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t\tref={ref}\n\t>\n\t\t<SwitchPrimitives.Thumb\n\t\t\tclassName={cn(\n\t\t\t\t\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n\t\t\t)}\n\t\t/>\n\t</SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,6KAAqB;QACrB,WAAW,IAAA,gJAAE,EACZ,sXACA;QAEA,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACtB,WAAW,IAAA,gJAAE,EACZ;;;;;;;;;;;;AAKJ,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 3199, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-inventory-section.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tFormControl,\n\tFormDescription,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Switch } from \"@/components/ui/switch\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\n// Extract TrackStockSwitch to prevent re-render loops\nconst TrackStockSwitch = React.memo(function TrackStockSwitch({\n\tchecked,\n\tonChange,\n}: {\n\tchecked: boolean | undefined;\n\tonChange: (checked: boolean) => void;\n}) {\n\tconst handleChange = React.useCallback(\n\t\t(newChecked: boolean) => {\n\t\t\tif (newChecked !== checked) {\n\t\t\t\tonChange(newChecked);\n\t\t\t}\n\t\t},\n\t\t[checked, onChange],\n\t);\n\n\treturn <Switch checked={checked ?? false} onCheckedChange={handleChange} />;\n});\n\nexport function ProductInventorySection() {\n\tconst form = useFormContext<CreateProductInput>();\n\tconst trackStock = form.watch(\"trackStock\");\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Inventory</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t{/* SKU */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"sku\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>SKU (Stock Keeping Unit)</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"SKU-12345\"\n\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Track stock toggle */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"trackStock\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem className=\"flex items-center justify-between rounded-lg border p-3\">\n\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t<FormLabel className=\"text-base\">Track quantity</FormLabel>\n\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\tKeep track of inventory levels\n\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TrackStockSwitch\n\t\t\t\t\t\t\t\tchecked={field.value}\n\t\t\t\t\t\t\t\tonChange={field.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Stock quantity - only show when tracking */}\n\t\t\t\t{trackStock && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"stock\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormLabel>Quantity in stock</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseInt(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"lowStockThreshold\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormLabel>Low stock alert</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"10\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseInt(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\tGet notified when stock reaches this level\n\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAQA;AACA;;;AAdA;;;;;;;AAiBA,sDAAsD;AACtD,MAAM,iCAAmB,GAAA,qKAAU,SAAC,SAAS,iBAAiB,EAC7D,OAAO,EACP,QAAQ,EAIR;;IACA,MAAM,eAAe,4KAAiB;uEACrC,CAAC;YACA,IAAI,eAAe,SAAS;gBAC3B,SAAS;YACV;QACD;sEACA;QAAC;QAAS;KAAS;IAGpB,qBAAO,6LAAC,mKAAM;QAAC,SAAS,WAAW;QAAO,iBAAiB;;;;;;AAC5D;;AAEO,SAAS;;IACf,MAAM,OAAO,IAAA,mLAAc;IAC3B,MAAM,aAAa,KAAK,KAAK,CAAC;IAE9B,qBACC,6LAAC,+JAAI;;0BACJ,6LAAC,qKAAU;0BACV,cAAA,6LAAC,oKAAS;8BAAC;;;;;;;;;;;0BAEZ,6LAAC,sKAAW;gBAAC,WAAU;;kCAEtB,6LAAC,oKAAS;wBACT,SAAS,KAAK,OAAO;wBACrB,MAAK;wBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACjB,6LAAC,mKAAQ;;kDACR,6LAAC,oKAAS;kDAAC;;;;;;kDACX,6LAAC,sKAAW;kDACX,cAAA,6LAAC,iKAAK;4CACL,aAAY;4CACX,GAAG,KAAK;4CACT,OAAO,MAAM,KAAK,IAAI;;;;;;;;;;;kDAGxB,6LAAC,sKAAW;;;;;;;;;;;;;;;;kCAMf,6LAAC,oKAAS;wBACT,SAAS,KAAK,OAAO;wBACrB,MAAK;wBACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACjB,6LAAC,mKAAQ;gCAAC,WAAU;;kDACnB,6LAAC;wCAAI,WAAU;;0DACd,6LAAC,oKAAS;gDAAC,WAAU;0DAAY;;;;;;0DACjC,6LAAC,0KAAe;0DAAC;;;;;;;;;;;;kDAIlB,6LAAC;wCACA,SAAS,MAAM,KAAK;wCACpB,UAAU,MAAM,QAAQ;;;;;;;;;;;;;;;;;oBAO3B,4BACA;;0CACC,6LAAC,oKAAS;gCACT,SAAS,KAAK,OAAO;gCACrB,MAAK;gCACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACjB,6LAAC,mKAAQ;;0DACR,6LAAC,oKAAS;0DAAC;;;;;;0DACX,6LAAC,sKAAW;0DACX,cAAA,6LAAC,iKAAK;oDACL,MAAK;oDACL,KAAI;oDACJ,aAAY;oDACZ,OAAO,MAAM,KAAK,IAAI;oDACtB,UAAU,CAAC;wDACV,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wDAC5B,MAAM,QAAQ,CAAC,QAAQ,SAAS,SAAS;oDAC1C;;;;;;;;;;;0DAGF,6LAAC,sKAAW;;;;;;;;;;;;;;;;0CAKf,6LAAC,oKAAS;gCACT,SAAS,KAAK,OAAO;gCACrB,MAAK;gCACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBACjB,6LAAC,mKAAQ;;0DACR,6LAAC,oKAAS;0DAAC;;;;;;0DACX,6LAAC,sKAAW;0DACX,cAAA,6LAAC,iKAAK;oDACL,MAAK;oDACL,KAAI;oDACJ,aAAY;oDACZ,OAAO,MAAM,KAAK,IAAI;oDACtB,UAAU,CAAC;wDACV,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wDAC5B,MAAM,QAAQ,CAAC,QAAQ,SAAS,SAAS;oDAC1C;;;;;;;;;;;0DAGF,6LAAC,0KAAe;0DAAC;;;;;;0DAGjB,6LAAC,sKAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASrB;IAzGgB;;QACF,mLAAc;;;MADZ"}},
    {"offset": {"line": 3493, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-media-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { FileVideo, Play, Upload, X } from \"lucide-react\";\nimport Image from \"next/image\";\nimport * as React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { FormField, FormItem, FormMessage } from \"@/components/ui/form\";\nimport { cn } from \"@/lib/utils\";\nimport type { CreateProductInput, ProductMediaInput } from \"@/schemas/product\";\n\n// Local staged media item (not yet uploaded)\ninterface StagedMediaItem {\n\tid: string;\n\tfile?: File;\n\tpreviewUrl: string;\n\ttype: \"image\" | \"video\";\n\taltText?: string;\n\t// If this came from existing data (edit mode), it has a real URL\n\texistingUrl?: string;\n}\n\nexport function ProductMediaSection() {\n\tconst form = useFormContext<CreateProductInput>();\n\tconst formMedia = form.watch(\"media\") ?? [];\n\n\t// Local state for staged media (includes both existing and new uploads)\n\tconst [stagedMedia, setStagedMedia] = React.useState<StagedMediaItem[]>([]);\n\tconst [isDragging, setIsDragging] = React.useState(false);\n\tconst inputRef = React.useRef<HTMLInputElement>(null);\n\tconst isInitializedRef = React.useRef(false);\n\n\t// Ref for form.setValue to avoid dependency issues\n\tconst setValueRef = React.useRef(form.setValue);\n\tsetValueRef.current = form.setValue;\n\n\t// Initialize staged media from form data (for edit mode) - only once\n\tReact.useEffect(() => {\n\t\tif (!isInitializedRef.current && formMedia.length > 0) {\n\t\t\tisInitializedRef.current = true;\n\t\t\tconst existing: StagedMediaItem[] = formMedia.map((m, index) => ({\n\t\t\t\tid: m.id ?? `existing-${index}`,\n\t\t\t\tpreviewUrl: m.url,\n\t\t\t\texistingUrl: m.url,\n\t\t\t\ttype: m.mediaType === \"VIDEO\" ? \"video\" : \"image\",\n\t\t\t\taltText: m.altText,\n\t\t\t}));\n\t\t\tsetStagedMedia(existing);\n\t\t}\n\t}, [formMedia]);\n\n\t// Sync staged media back to form whenever it changes\n\tReact.useEffect(() => {\n\t\t// Skip initial sync to avoid loop\n\t\tif (!isInitializedRef.current && stagedMedia.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst mediaInput: ProductMediaInput[] = stagedMedia.map(\n\t\t\t(item, index) =>\n\t\t\t\t({\n\t\t\t\t\tid: item.existingUrl ? item.id : undefined, // Only keep ID if it's existing\n\t\t\t\t\turl: item.existingUrl ?? item.previewUrl, // Use existing URL or preview for new\n\t\t\t\t\tmediaType: item.type === \"video\" ? \"VIDEO\" : \"IMAGE\",\n\t\t\t\t\taltText: item.altText,\n\t\t\t\t\torder: index,\n\t\t\t\t\t// Mark new files for upload handling in form submit\n\t\t\t\t\t_stagedFile: item.file,\n\t\t\t\t}) as ProductMediaInput & { _stagedFile?: File },\n\t\t);\n\n\t\tsetValueRef.current(\"media\", mediaInput, { shouldDirty: true });\n\t}, [stagedMedia]);\n\n\tconst handleDragOver = (e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\tsetIsDragging(true);\n\t};\n\n\tconst handleDragLeave = (e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\tsetIsDragging(false);\n\t};\n\n\tconst handleDrop = (e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\tsetIsDragging(false);\n\t\tconst files = Array.from(e.dataTransfer.files);\n\t\thandleFiles(files);\n\t};\n\n\tconst handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (!e.target.files) return;\n\t\tconst files = Array.from(e.target.files);\n\t\thandleFiles(files);\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.value = \"\";\n\t\t}\n\t};\n\n\tconst handleFiles = (files: File[]) => {\n\t\tconst validFiles = files.filter(\n\t\t\t(file) =>\n\t\t\t\tfile.type.startsWith(\"image/\") || file.type.startsWith(\"video/\"),\n\t\t);\n\n\t\tconst newItems: StagedMediaItem[] = validFiles.map((file) => ({\n\t\t\tid: `new-${Date.now()}-${Math.random().toString(36).slice(2)}`,\n\t\t\tfile,\n\t\t\tpreviewUrl: URL.createObjectURL(file),\n\t\t\ttype: file.type.startsWith(\"video/\") ? \"video\" : \"image\",\n\t\t\taltText: file.name,\n\t\t}));\n\n\t\tsetStagedMedia((prev) => [...prev, ...newItems]);\n\t};\n\n\tconst handleRemove = (id: string) => {\n\t\tsetStagedMedia((prev) => {\n\t\t\tconst item = prev.find((m) => m.id === id);\n\t\t\t// Revoke object URL to free memory if it's a new file\n\t\t\tif (item?.file && item.previewUrl.startsWith(\"blob:\")) {\n\t\t\t\tURL.revokeObjectURL(item.previewUrl);\n\t\t\t}\n\t\t\treturn prev.filter((m) => m.id !== id);\n\t\t});\n\t};\n\n\t// const handleReorder = (fromIndex: number, toIndex: number) => {\n\t// \tsetStagedMedia(prev => {\n\t// \t\tconst newItems = [...prev];\n\t// \t\tconst [removed] = newItems.splice(fromIndex, 1);\n\t// \t\tif (removed) {\n\t// \t\t\tnewItems.splice(toIndex, 0, removed);\n\t// \t\t}\n\t// \t\treturn newItems;\n\t// \t});\n\t// };\n\n\t// Cleanup blob URLs on unmount\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tstagedMedia.forEach((item) => {\n\t\t\t\tif (item.previewUrl.startsWith(\"blob:\")) {\n\t\t\t\t\tURL.revokeObjectURL(item.previewUrl);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}, [stagedMedia]);\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Media</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"media\"\n\t\t\t\t\trender={() => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t{/* Media grid */}\n\t\t\t\t\t\t\t\t{stagedMedia.length > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n\t\t\t\t\t\t\t\t\t\t{stagedMedia.map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"group relative aspect-square rounded-lg border bg-muted overflow-hidden\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Media content */}\n\t\t\t\t\t\t\t\t\t\t\t\t{item.type === \"video\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center bg-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileVideo className=\"h-10 w-10 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Play className=\"absolute inset-0 m-auto h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.previewUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.altText || `Media ${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tunoptimized\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Cover badge */}\n\t\t\t\t\t\t\t\t\t\t\t\t{index === 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-primary text-primary-foreground text-xs font-medium rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCover\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* New file badge */}\n\t\t\t\t\t\t\t\t\t\t\t\t{item.file && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-blue-500 text-white text-xs font-medium rounded\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{index === 0 ? \"Cover (New)\" : \"New\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Remove button */}\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute top-1.5 right-1.5 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity z-10\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(item.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<X className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Order number */}\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute bottom-1.5 right-1.5 h-5 w-5 rounded-full bg-black/50 text-white text-xs flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{index + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{/* Upload dropzone */}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"border-2 border-dashed rounded-lg p-6 transition-colors w-full\",\n\t\t\t\t\t\t\t\t\t\tisDragging\n\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t\t\t: \"border-muted-foreground/25 hover:border-primary/50\",\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tonDragOver={handleDragOver}\n\t\t\t\t\t\t\t\t\tonDragLeave={handleDragLeave}\n\t\t\t\t\t\t\t\t\tonDrop={handleDrop}\n\t\t\t\t\t\t\t\t\tonClick={() => inputRef.current?.click()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleFileSelect}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col items-center gap-2 text-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"p-3 rounded-full bg-muted\">\n\t\t\t\t\t\t\t\t\t\t\t<Upload className=\"h-6 w-6 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\tDrag & drop files here\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\tor click to browse\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-primary\">\n\t\t\t\t\t\t\t\t\t\t\tClick anywhere to select files\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-2\">\n\t\t\t\t\t\t\t\tThe first image will be the cover image. Files will be uploaded\n\t\t\t\t\t\t\t\twhen you save the product. Supports images and videos up to\n\t\t\t\t\t\t\t\t16MB.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3913, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\";\n\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\";\nimport { ChevronDown } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Accordion = AccordionPrimitive.Root;\n\nconst AccordionItem = React.forwardRef<\n\tReact.ElementRef<typeof AccordionPrimitive.Item>,\n\tReact.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n\t<AccordionPrimitive.Item\n\t\tref={ref}\n\t\tclassName={cn(\"border-b\", className)}\n\t\t{...props}\n\t/>\n));\nAccordionItem.displayName = \"AccordionItem\";\n\nconst AccordionTrigger = React.forwardRef<\n\tReact.ElementRef<typeof AccordionPrimitive.Trigger>,\n\tReact.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n\t<AccordionPrimitive.Header className=\"flex\">\n\t\t<AccordionPrimitive.Trigger\n\t\t\tref={ref}\n\t\t\tclassName={cn(\n\t\t\t\t\"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n\t\t</AccordionPrimitive.Trigger>\n\t</AccordionPrimitive.Header>\n));\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;\n\nconst AccordionContent = React.forwardRef<\n\tReact.ElementRef<typeof AccordionPrimitive.Content>,\n\tReact.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n\t<AccordionPrimitive.Content\n\t\tref={ref}\n\t\tclassName=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n\t\t{...props}\n\t>\n\t\t<div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n\t</AccordionPrimitive.Content>\n));\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName;\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,gLAAuB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,gLAAuB;QACvB,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;;;;;;AAGX,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACrC,6LAAC,kLAAyB;QAAC,WAAU;kBACpC,cAAA,6LAAC,mLAA0B;YAC1B,KAAK;YACL,WAAW,IAAA,gJAAE,EACZ,gIACA;YAEA,GAAG,KAAK;;gBAER;8BACD,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI1B,iBAAiB,WAAW,GAAG,mLAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACrC,6LAAC,mLAA0B;QAC1B,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,IAAA,gJAAE,EAAC,aAAa;sBAAa;;;;;;;;;;;;AAI/C,iBAAiB,WAAW,GAAG,mLAA0B,CAAC,WAAW"}},
    {"offset": {"line": 4008, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/measurement-input.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { cn } from \"@/lib/utils\";\n\n// EU-focused measurement units\nexport type MeasurementUnit =\n\t// Weight\n\t| \"KG\"\n\t| \"G\"\n\t// Volume\n\t| \"L\"\n\t| \"ML\"\n\t// Length\n\t| \"M\"\n\t| \"CM\"\n\t| \"MM\"\n\t// Area\n\t| \"SQM\"\n\t| \"SQCM\"\n\t// Per item\n\t| \"PER_ITEM\";\n\nexport type MeasurementCategory =\n\t| \"weight\"\n\t| \"volume\"\n\t| \"length\"\n\t| \"area\"\n\t| \"item\";\n\ninterface MeasurementUnitOption {\n\tvalue: MeasurementUnit;\n\tlabel: string;\n\tshortLabel: string;\n\tcategory: MeasurementCategory;\n}\n\nexport const MEASUREMENT_UNITS: MeasurementUnitOption[] = [\n\t// Weight\n\t{ value: \"KG\", label: \"Kilograms\", shortLabel: \"kg\", category: \"weight\" },\n\t{ value: \"G\", label: \"Grams\", shortLabel: \"g\", category: \"weight\" },\n\t// Volume\n\t{ value: \"L\", label: \"Liters\", shortLabel: \"L\", category: \"volume\" },\n\t{ value: \"ML\", label: \"Milliliters\", shortLabel: \"mL\", category: \"volume\" },\n\t// Length\n\t{ value: \"M\", label: \"Meters\", shortLabel: \"m\", category: \"length\" },\n\t{ value: \"CM\", label: \"Centimeters\", shortLabel: \"cm\", category: \"length\" },\n\t{ value: \"MM\", label: \"Millimeters\", shortLabel: \"mm\", category: \"length\" },\n\t// Area\n\t{ value: \"SQM\", label: \"Square meters\", shortLabel: \"m\", category: \"area\" },\n\t{\n\t\tvalue: \"SQCM\",\n\t\tlabel: \"Square centimeters\",\n\t\tshortLabel: \"cm\",\n\t\tcategory: \"area\",\n\t},\n\t// Per item\n\t{\n\t\tvalue: \"PER_ITEM\",\n\t\tlabel: \"Per item\",\n\t\tshortLabel: \"item\",\n\t\tcategory: \"item\",\n\t},\n];\n\nexport function getUnitsByCategory(\n\tcategory?: MeasurementCategory,\n): MeasurementUnitOption[] {\n\tif (!category) return MEASUREMENT_UNITS;\n\treturn MEASUREMENT_UNITS.filter((u) => u.category === category);\n}\n\nexport function getUnitLabel(unit: MeasurementUnit): string {\n\treturn MEASUREMENT_UNITS.find((u) => u.value === unit)?.shortLabel ?? unit;\n}\n\ninterface MeasurementInputProps {\n\tvalue?: number;\n\tunit?: MeasurementUnit;\n\tonValueChange?: (value: number | undefined) => void;\n\tonUnitChange?: (unit: MeasurementUnit) => void;\n\tplaceholder?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n\tallowedCategories?: MeasurementCategory[];\n\tmin?: number;\n\tmax?: number;\n\tstep?: number;\n}\n\nexport function MeasurementInput({\n\tvalue,\n\tunit = \"KG\",\n\tonValueChange,\n\tonUnitChange,\n\tplaceholder = \"0\",\n\tdisabled = false,\n\tclassName,\n\tallowedCategories,\n\tmin = 0,\n\tmax,\n\tstep = 0.01,\n}: MeasurementInputProps) {\n\tconst availableUnits = React.useMemo(() => {\n\t\tif (!allowedCategories || allowedCategories.length === 0) {\n\t\t\treturn MEASUREMENT_UNITS;\n\t\t}\n\t\treturn MEASUREMENT_UNITS.filter((u) =>\n\t\t\tallowedCategories.includes(u.category),\n\t\t);\n\t}, [allowedCategories]);\n\n\t// Group units by category for better UX\n\tconst groupedUnits = React.useMemo(() => {\n\t\tconst groups: Record<string, MeasurementUnitOption[]> = {};\n\t\tfor (const u of availableUnits) {\n\t\t\tif (!groups[u.category]) {\n\t\t\t\tgroups[u.category] = [];\n\t\t\t}\n\t\t\tgroups[u.category]?.push(u);\n\t\t}\n\t\treturn groups;\n\t}, [availableUnits]);\n\n\tconst handleValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = e.target.value;\n\t\tif (val === \"\") {\n\t\t\tonValueChange?.(undefined);\n\t\t} else {\n\t\t\tconst num = parseFloat(val);\n\t\t\tif (!Number.isNaN(num)) {\n\t\t\t\tonValueChange?.(num);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst categoryLabels: Record<MeasurementCategory, string> = {\n\t\tweight: \"Weight\",\n\t\tvolume: \"Volume\",\n\t\tlength: \"Length\",\n\t\tarea: \"Area\",\n\t\titem: \"Per Item\",\n\t};\n\n\treturn (\n\t\t<div className={cn(\"flex gap-2\", className)}>\n\t\t\t<Input\n\t\t\t\ttype=\"number\"\n\t\t\t\tvalue={value ?? \"\"}\n\t\t\t\tonChange={handleValueChange}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tmin={min}\n\t\t\t\tmax={max}\n\t\t\t\tstep={step}\n\t\t\t\tclassName=\"flex-1\"\n\t\t\t/>\n\t\t\t<Select\n\t\t\t\tvalue={unit}\n\t\t\t\tonValueChange={(v) => onUnitChange?.(v as MeasurementUnit)}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\t<SelectTrigger className=\"w-24 shrink-0\">\n\t\t\t\t\t<SelectValue />\n\t\t\t\t</SelectTrigger>\n\t\t\t\t<SelectContent>\n\t\t\t\t\t{Object.entries(groupedUnits).map(([category, units]) => (\n\t\t\t\t\t\t<React.Fragment key={category}>\n\t\t\t\t\t\t\t{Object.keys(groupedUnits).length > 1 && (\n\t\t\t\t\t\t\t\t<div className=\"px-2 py-1.5 text-xs font-semibold text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t{categoryLabels[category as MeasurementCategory]}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{units.map((u) => (\n\t\t\t\t\t\t\t\t<SelectItem key={u.value} value={u.value}>\n\t\t\t\t\t\t\t\t\t{u.shortLabel}\n\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t))}\n\t\t\t\t</SelectContent>\n\t\t\t</Select>\n\t\t</div>\n\t);\n}\n\n// Simple dimension inputs (length x width x height)\ninterface DimensionInputProps {\n\tlength?: number;\n\twidth?: number;\n\theight?: number;\n\tonLengthChange?: (value: number | undefined) => void;\n\tonWidthChange?: (value: number | undefined) => void;\n\tonHeightChange?: (value: number | undefined) => void;\n\tunit?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n}\n\nexport function DimensionInput({\n\tlength,\n\twidth,\n\theight,\n\tonLengthChange,\n\tonWidthChange,\n\tonHeightChange,\n\tunit = \"cm\",\n\tdisabled = false,\n\tclassName,\n}: DimensionInputProps) {\n\tconst handleChange =\n\t\t(setter?: (value: number | undefined) => void) =>\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst val = e.target.value;\n\t\t\tif (val === \"\") {\n\t\t\t\tsetter?.(undefined);\n\t\t\t} else {\n\t\t\t\tconst num = parseFloat(val);\n\t\t\t\tif (!Number.isNaN(num)) {\n\t\t\t\t\tsetter?.(num);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\treturn (\n\t\t<div className={cn(\"flex items-center gap-2\", className)}>\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t<Input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={length ?? \"\"}\n\t\t\t\t\tonChange={handleChange(onLengthChange)}\n\t\t\t\t\tplaceholder=\"L\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tstep={0.1}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<span className=\"text-muted-foreground\"></span>\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t<Input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={width ?? \"\"}\n\t\t\t\t\tonChange={handleChange(onWidthChange)}\n\t\t\t\t\tplaceholder=\"W\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tstep={0.1}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<span className=\"text-muted-foreground\"></span>\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t<Input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={height ?? \"\"}\n\t\t\t\t\tonChange={handleChange(onHeightChange)}\n\t\t\t\t\tplaceholder=\"H\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tstep={0.1}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<span className=\"text-sm text-muted-foreground w-8\">{unit}</span>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4350, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-pricing-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { useFormContext } from \"react-hook-form\";\nimport {\n\tAccordion,\n\tAccordionContent,\n\tAccordionItem,\n\tAccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tFormControl,\n\tFormDescription,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { MEASUREMENT_UNITS } from \"@/components/ui/measurement-input\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\nexport function ProductPricingSection() {\n\tconst form = useFormContext<CreateProductInput>();\n\n\tconst price = form.watch(\"price\");\n\tconst costPerItem = form.watch(\"costPerItem\");\n\n\t// Calculate profit and margin\n\tconst profit = price && costPerItem ? price - costPerItem : undefined;\n\tconst margin =\n\t\tprice && costPerItem && price > 0\n\t\t\t? ((profit ?? 0) / price) * 100\n\t\t\t: undefined;\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Pricing</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t{/* Main price - always visible */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"price\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>Price</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"0.00\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"pl-7\"\n\t\t\t\t\t\t\t\t\t\tvalue={field.value || \"\"}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : 0);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Expandable pricing options */}\n\t\t\t\t<Accordion type=\"single\" collapsible className=\"w-full\">\n\t\t\t\t\t<AccordionItem value=\"advanced-pricing\" className=\"border-none\">\n\t\t\t\t\t\t<AccordionTrigger className=\"text-sm text-muted-foreground hover:no-underline py-2\">\n\t\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\tMore pricing options\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</AccordionTrigger>\n\t\t\t\t\t\t<AccordionContent className=\"space-y-4 pt-2\">\n\t\t\t\t\t\t\t{/* Compare at price */}\n\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\tname=\"compareAtPrice\"\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>Compare at price</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0.00\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pl-7\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\t\tTo display a sale price, enter a higher compare at price\n\t\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* Cost per item */}\n\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\tname=\"costPerItem\"\n\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t<FormLabel>Cost per item</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0.00\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pl-7\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\t\tCustomers won't see this. Used to calculate profit.\n\t\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* Profit display */}\n\t\t\t\t\t\t\t{profit !== undefined && (\n\t\t\t\t\t\t\t\t<div className=\"rounded-md bg-muted p-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Profit</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{profit.toFixed(2)}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Margin</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{margin?.toFixed(1)}%</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Unit price section */}\n\t\t\t\t\t\t\t<div className=\"space-y-3 pt-2 border-t\">\n\t\t\t\t\t\t\t\t<FormLabel className=\"text-base\">Unit price</FormLabel>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground -mt-1\">\n\t\t\t\t\t\t\t\t\tUsed to show price per unit (e.g., 2.50/100g)\n\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t\t{/* Amount */}\n\t\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\t\tname=\"unitPrice.unitPriceAmount\"\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel className=\"text-xs\">Total amount</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"unitPrice.unitPriceMeasurement\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: unitField }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={unitField.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value !== unitField.value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunitField.onChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectTrigger className=\"w-20\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Unit\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{MEASUREMENT_UNITS.map((unit) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={unit.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={unit.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{unit.shortLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t{/* Base measure */}\n\t\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\t\tname=\"unitPrice.unitPriceBaseAmount\"\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormLabel className=\"text-xs\">Base measure</FormLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"100\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"unitPrice.unitPriceBaseMeasurement\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: baseField }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={baseField.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value !== baseField.value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbaseField.onChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectTrigger className=\"w-20\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Unit\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{MEASUREMENT_UNITS.map((unit) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SelectItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={unit.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={unit.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{unit.shortLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</AccordionContent>\n\t\t\t\t\t</AccordionItem>\n\t\t\t\t</Accordion>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4993, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, Minus } from \"lucide-react\";\nimport { Checkbox as CheckboxPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define the variants for the Checkbox using cva.\nconst checkboxVariants = cva(\n\t`\n    group peer bg-background shrink-0 rounded-md border border-input ring-offset-background focus-visible:outline-none \n    focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20,\n    data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=checked]:text-primary-foreground data-[state=indeterminate]:bg-primary data-[state=indeterminate]:border-primary data-[state=indeterminate]:text-primary-foreground\n    `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"size-4.5 [&_svg]:size-3\",\n\t\t\t\tmd: \"size-5 [&_svg]:size-3.5\",\n\t\t\t\tlg: \"size-5.5 [&_svg]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nfunction Checkbox({\n\tclassName,\n\tsize,\n\t...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root> &\n\tVariantProps<typeof checkboxVariants>) {\n\treturn (\n\t\t<CheckboxPrimitive.Root\n\t\t\tdata-slot=\"checkbox\"\n\t\t\tclassName={cn(checkboxVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<CheckboxPrimitive.Indicator\n\t\t\t\tclassName={cn(\"flex items-center justify-center text-current\")}\n\t\t\t>\n\t\t\t\t<Check className=\"group-data-[state=indeterminate]:hidden\" />\n\t\t\t\t<Minus className=\"hidden group-data-[state=indeterminate]:block\" />\n\t\t\t</CheckboxPrimitive.Indicator>\n\t\t</CheckboxPrimitive.Root>\n\t);\n}\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAEA;AANA;;;;;;AAQA,kDAAkD;AAClD,MAAM,mBAAmB,IAAA,0KAAG,EAC3B,CAAC;;;;;;IAME,CAAC,EACJ;IACC,UAAU;QACT,MAAM;YACL,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,MAAM;IACP;AACD;AAGD,SAAS,SAAS,EACjB,SAAS,EACT,IAAI,EACJ,GAAG,OAEkC;IACrC,qBACC,6LAAC,uNAAiB,CAAC,IAAI;QACtB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,iBAAiB;YAAE;QAAK,IAAI;QACzC,GAAG,KAAK;kBAET,cAAA,6LAAC,uNAAiB,CAAC,SAAS;YAC3B,WAAW,IAAA,gJAAE,EAAC;;8BAEd,6LAAC,gNAAK;oBAAC,WAAU;;;;;;8BACjB,6LAAC,gNAAK;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;KApBS"}},
    {"offset": {"line": 5075, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n\tChevronDownIcon,\n\tChevronLeftIcon,\n\tChevronRightIcon,\n} from \"lucide-react\";\nimport * as React from \"react\";\nimport {\n\ttype DayButton,\n\tDayPicker,\n\tgetDefaultClassNames,\n} from \"react-day-picker\";\nimport { Button, buttonVariants } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\n\nfunction Calendar({\n\tclassName,\n\tclassNames,\n\tshowOutsideDays = true,\n\tcaptionLayout = \"label\",\n\tbuttonVariant = \"ghost\",\n\tformatters,\n\tcomponents,\n\t...props\n}: React.ComponentProps<typeof DayPicker> & {\n\tbuttonVariant?: React.ComponentProps<typeof Button>[\"variant\"];\n}) {\n\tconst defaultClassNames = getDefaultClassNames();\n\n\treturn (\n\t\t<DayPicker\n\t\t\tshowOutsideDays={showOutsideDays}\n\t\t\tclassName={cn(\n\t\t\t\t\"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n\t\t\t\tString.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n\t\t\t\tString.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tcaptionLayout={captionLayout}\n\t\t\tformatters={{\n\t\t\t\tformatMonthDropdown: (date) =>\n\t\t\t\t\tdate.toLocaleString(\"default\", { month: \"short\" }),\n\t\t\t\t...formatters,\n\t\t\t}}\n\t\t\tclassNames={{\n\t\t\t\troot: cn(\"w-fit\", defaultClassNames.root),\n\t\t\t\tmonths: cn(\n\t\t\t\t\t\"relative flex flex-col gap-4 md:flex-row\",\n\t\t\t\t\tdefaultClassNames.months,\n\t\t\t\t),\n\t\t\t\tmonth: cn(\"flex w-full flex-col gap-4\", defaultClassNames.month),\n\t\t\t\tnav: cn(\n\t\t\t\t\t\"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n\t\t\t\t\tdefaultClassNames.nav,\n\t\t\t\t),\n\t\t\t\tbutton_previous: cn(\n\t\t\t\t\tbuttonVariants({ variant: buttonVariant }),\n\t\t\t\t\t\"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n\t\t\t\t\tdefaultClassNames.button_previous,\n\t\t\t\t),\n\t\t\t\tbutton_next: cn(\n\t\t\t\t\tbuttonVariants({ variant: buttonVariant }),\n\t\t\t\t\t\"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n\t\t\t\t\tdefaultClassNames.button_next,\n\t\t\t\t),\n\t\t\t\tmonth_caption: cn(\n\t\t\t\t\t\"flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]\",\n\t\t\t\t\tdefaultClassNames.month_caption,\n\t\t\t\t),\n\t\t\t\tdropdowns: cn(\n\t\t\t\t\t\"flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium\",\n\t\t\t\t\tdefaultClassNames.dropdowns,\n\t\t\t\t),\n\t\t\t\tdropdown_root: cn(\n\t\t\t\t\t\"has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border\",\n\t\t\t\t\tdefaultClassNames.dropdown_root,\n\t\t\t\t),\n\t\t\t\tdropdown: cn(\n\t\t\t\t\t\"bg-popover absolute inset-0 opacity-0\",\n\t\t\t\t\tdefaultClassNames.dropdown,\n\t\t\t\t),\n\t\t\t\tcaption_label: cn(\n\t\t\t\t\t\"select-none font-medium\",\n\t\t\t\t\tcaptionLayout === \"label\"\n\t\t\t\t\t\t? \"text-sm\"\n\t\t\t\t\t\t: \"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5\",\n\t\t\t\t\tdefaultClassNames.caption_label,\n\t\t\t\t),\n\t\t\t\ttable: \"w-full border-collapse\",\n\t\t\t\tweekdays: cn(\"flex\", defaultClassNames.weekdays),\n\t\t\t\tweekday: cn(\n\t\t\t\t\t\"text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal\",\n\t\t\t\t\tdefaultClassNames.weekday,\n\t\t\t\t),\n\t\t\t\tweek: cn(\"mt-2 flex w-full\", defaultClassNames.week),\n\t\t\t\tweek_number_header: cn(\n\t\t\t\t\t\"w-[--cell-size] select-none\",\n\t\t\t\t\tdefaultClassNames.week_number_header,\n\t\t\t\t),\n\t\t\t\tweek_number: cn(\n\t\t\t\t\t\"text-muted-foreground select-none text-[0.8rem]\",\n\t\t\t\t\tdefaultClassNames.week_number,\n\t\t\t\t),\n\t\t\t\tday: cn(\n\t\t\t\t\t\"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md\",\n\t\t\t\t\tdefaultClassNames.day,\n\t\t\t\t),\n\t\t\t\trange_start: cn(\n\t\t\t\t\t\"bg-accent rounded-l-md\",\n\t\t\t\t\tdefaultClassNames.range_start,\n\t\t\t\t),\n\t\t\t\trange_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\n\t\t\t\trange_end: cn(\"bg-accent rounded-r-md\", defaultClassNames.range_end),\n\t\t\t\ttoday: cn(\n\t\t\t\t\t\"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\n\t\t\t\t\tdefaultClassNames.today,\n\t\t\t\t),\n\t\t\t\toutside: cn(\n\t\t\t\t\t\"text-muted-foreground aria-selected:text-muted-foreground\",\n\t\t\t\t\tdefaultClassNames.outside,\n\t\t\t\t),\n\t\t\t\tdisabled: cn(\n\t\t\t\t\t\"text-muted-foreground opacity-50\",\n\t\t\t\t\tdefaultClassNames.disabled,\n\t\t\t\t),\n\t\t\t\thidden: cn(\"invisible\", defaultClassNames.hidden),\n\t\t\t\t...classNames,\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\tRoot: ({ className, rootRef, ...props }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tdata-slot=\"calendar\"\n\t\t\t\t\t\t\tref={rootRef}\n\t\t\t\t\t\t\tclassName={cn(className)}\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tChevron: ({ className, orientation, ...props }) => {\n\t\t\t\t\tif (orientation === \"left\") {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (orientation === \"right\") {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ChevronRightIcon\n\t\t\t\t\t\t\t\tclassName={cn(\"size-4\", className)}\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ChevronDownIcon className={cn(\"size-4\", className)} {...props} />\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tDayButton: CalendarDayButton,\n\t\t\t\tWeekNumber: ({ children, ...props }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<td {...props}>\n\t\t\t\t\t\t\t<div className=\"flex size-[--cell-size] items-center justify-center text-center\">\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t...components,\n\t\t\t}}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction CalendarDayButton({\n\tclassName,\n\tday,\n\tmodifiers,\n\t...props\n}: React.ComponentProps<typeof DayButton>) {\n\tconst defaultClassNames = getDefaultClassNames();\n\n\tconst ref = React.useRef<HTMLButtonElement>(null);\n\tReact.useEffect(() => {\n\t\tif (modifiers.focused) ref.current?.focus();\n\t}, [modifiers.focused]);\n\n\treturn (\n\t\t<Button\n\t\t\tref={ref}\n\t\t\tvariant=\"ghost\"\n\t\t\tsize=\"icon\"\n\t\t\tdata-day={day.date.toLocaleDateString()}\n\t\t\tdata-selected-single={\n\t\t\t\tmodifiers.selected &&\n\t\t\t\t!modifiers.range_start &&\n\t\t\t\t!modifiers.range_end &&\n\t\t\t\t!modifiers.range_middle\n\t\t\t}\n\t\t\tdata-range-start={modifiers.range_start}\n\t\t\tdata-range-end={modifiers.range_end}\n\t\t\tdata-range-middle={modifiers.range_middle}\n\t\t\tclassName={cn(\n\t\t\t\t\"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n\t\t\t\tdefaultClassNames.day,\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Calendar, CalendarDayButton };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5254, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/date-picker.tsx"],"sourcesContent":["\"use client\";\n\nimport { format } from \"date-fns\";\nimport { Calendar as CalendarIcon } from \"lucide-react\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DatePickerProps {\n\tvalue?: Date;\n\tonChange?: (date: Date | undefined) => void;\n\tplaceholder?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n\tminDate?: Date;\n\tmaxDate?: Date;\n}\n\nexport function DatePicker({\n\tvalue,\n\tonChange,\n\tplaceholder = \"Pick a date\",\n\tdisabled = false,\n\tclassName,\n\tminDate,\n\tmaxDate,\n}: DatePickerProps) {\n\tconst [open, setOpen] = React.useState(false);\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"w-full justify-start text-left font-normal\",\n\t\t\t\t\t\t!value && \"text-muted-foreground\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<CalendarIcon className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t{value ? format(value, \"PPP\") : placeholder}\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-auto p-0\" align=\"start\">\n\t\t\t\t<Calendar\n\t\t\t\t\tmode=\"single\"\n\t\t\t\t\tselected={value}\n\t\t\t\t\tonSelect={(date) => {\n\t\t\t\t\t\tonChange?.(date);\n\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t}}\n\t\t\t\t\tdisabled={(date) => {\n\t\t\t\t\t\tif (minDate && date < minDate) return true;\n\t\t\t\t\t\tif (maxDate && date > maxDate) return true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}}\n\t\t\t\t\tinitialFocus\n\t\t\t\t/>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAKA;;;AAZA;;;;;;;;AAwBO,SAAS,WAAW,EAC1B,KAAK,EACL,QAAQ,EACR,cAAc,aAAa,EAC3B,WAAW,KAAK,EAChB,SAAS,EACT,OAAO,EACP,OAAO,EACU;;IACjB,MAAM,CAAC,MAAM,QAAQ,GAAG,yKAAc,CAAC;IAEvC,qBACC,6LAAC,qKAAO;QAAC,MAAM;QAAM,cAAc;;0BAClC,6LAAC,4KAAc;gBAAC,OAAO;0BACtB,cAAA,6LAAC,mKAAM;oBACN,SAAQ;oBACR,UAAU;oBACV,WAAW,IAAA,gJAAE,EACZ,8CACA,CAAC,SAAS,yBACV;;sCAGD,6LAAC,yNAAY;4BAAC,WAAU;;;;;;wBACvB,QAAQ,IAAA,kKAAM,EAAC,OAAO,SAAS;;;;;;;;;;;;0BAGlC,6LAAC,4KAAc;gBAAC,WAAU;gBAAa,OAAM;0BAC5C,cAAA,6LAAC,uKAAQ;oBACR,MAAK;oBACL,UAAU;oBACV,UAAU,CAAC;wBACV,WAAW;wBACX,QAAQ;oBACT;oBACA,UAAU,CAAC;wBACV,IAAI,WAAW,OAAO,SAAS,OAAO;wBACtC,IAAI,WAAW,OAAO,SAAS,OAAO;wBACtC,OAAO;oBACR;oBACA,YAAY;;;;;;;;;;;;;;;;;AAKjB;GA7CgB;KAAA"}},
    {"offset": {"line": 5353, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\";\n\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst RadioGroup = React.forwardRef<\n\tReact.ElementRef<typeof RadioGroupPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n\treturn (\n\t\t<RadioGroupPrimitive.Root\n\t\t\tclassName={cn(\"grid gap-2\", className)}\n\t\t\t{...props}\n\t\t\tref={ref}\n\t\t/>\n\t);\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n\tReact.ElementRef<typeof RadioGroupPrimitive.Item>,\n\tReact.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n\treturn (\n\t\t<RadioGroupPrimitive.Item\n\t\t\tref={ref}\n\t\t\tclassName={cn(\n\t\t\t\t\"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n\t\t\t\t<Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n\t\t\t</RadioGroupPrimitive.Indicator>\n\t\t</RadioGroupPrimitive.Item>\n\t);\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACC,6LAAC,qLAAwB;QACxB,WAAW,IAAA,gJAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGR;;AACA,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACC,6LAAC,qLAAwB;QACxB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4OACA;QAEA,GAAG,KAAK;kBAET,cAAA,6LAAC,0LAA6B;YAAC,WAAU;sBACxC,cAAA,6LAAC,mNAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAItB;;AACA,eAAe,WAAW,GAAG,qLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 5423, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-purchase-options-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { Clock, RefreshCw, ShoppingCart } from \"lucide-react\";\nimport * as React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { DatePicker } from \"@/components/ui/date-picker\";\nimport {\n\tFormControl,\n\tFormDescription,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\nconst purchaseTypes = [\n\t{\n\t\tvalue: \"ONE_TIME\",\n\t\tlabel: \"One-time purchase\",\n\t\tdescription: \"Standard single purchase\",\n\t\ticon: ShoppingCart,\n\t},\n\t{\n\t\tvalue: \"SUBSCRIPTION\",\n\t\tlabel: \"Subscription\",\n\t\tdescription: \"Recurring delivery on a schedule\",\n\t\ticon: RefreshCw,\n\t},\n\t{\n\t\tvalue: \"PRE_ORDER\",\n\t\tlabel: \"Pre-order\",\n\t\tdescription: \"Purchase before release\",\n\t\ticon: Clock,\n\t},\n] as const;\n\nconst subscriptionIntervals = [\n\t{ value: \"WEEKLY\", label: \"Weekly\" },\n\t{ value: \"BI_WEEKLY\", label: \"Every 2 weeks\" },\n\t{ value: \"MONTHLY\", label: \"Monthly\" },\n\t{ value: \"BI_MONTHLY\", label: \"Every 2 months\" },\n\t{ value: \"QUARTERLY\", label: \"Every 3 months\" },\n\t{ value: \"YEARLY\", label: \"Yearly\" },\n] as const;\n\n// Extract PurchaseTypeRadioGroup to prevent re-render loops\nconst PurchaseTypeRadioGroup = React.memo(function PurchaseTypeRadioGroup({\n\tvalue,\n\tonChange,\n}: {\n\tvalue: string | undefined;\n\tonChange: (value: string) => void;\n}) {\n\tconst currentValue = value ?? \"ONE_TIME\";\n\n\tconst handleChange = React.useCallback(\n\t\t(newValue: string) => {\n\t\t\tif (newValue !== value) {\n\t\t\t\tonChange(newValue);\n\t\t\t}\n\t\t},\n\t\t[value, onChange],\n\t);\n\n\treturn (\n\t\t<RadioGroup\n\t\t\tvalue={currentValue}\n\t\t\tonValueChange={handleChange}\n\t\t\tclassName=\"space-y-3\"\n\t\t>\n\t\t\t{purchaseTypes.map((type) => {\n\t\t\t\tconst Icon = type.icon;\n\t\t\t\tconst isSelected = currentValue === type.value;\n\t\t\t\treturn (\n\t\t\t\t\t<div key={type.value}>\n\t\t\t\t\t\t<RadioGroupItem\n\t\t\t\t\t\t\tvalue={type.value}\n\t\t\t\t\t\t\tid={`purchase-${type.value}`}\n\t\t\t\t\t\t\tclassName=\"peer sr-only\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\thtmlFor={`purchase-${type.value}`}\n\t\t\t\t\t\t\tclassName={`flex items-center gap-4 rounded-lg border-2 p-4 cursor-pointer transition-colors hover:bg-accent ${\n\t\t\t\t\t\t\t\tisSelected ? \"border-primary bg-primary/5\" : \"border-muted\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tclassName={`h-5 w-5 ${isSelected ? \"text-primary\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">{type.label}</span>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t{type.description}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{type.value === \"SUBSCRIPTION\" && (\n\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">Recurring</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{type.value === \"PRE_ORDER\" && (\n\t\t\t\t\t\t\t\t<Badge variant=\"outline\">Coming</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</RadioGroup>\n\t);\n});\n\nexport function ProductPurchaseOptionsSection() {\n\tconst form = useFormContext<CreateProductInput>();\n\tconst purchaseOptions = form.watch(\"purchaseOptions\");\n\tconst purchaseType = purchaseOptions?.type;\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Purchase options</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t{/* Purchase Type Selection */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"purchaseOptions.type\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem className=\"space-y-3\">\n\t\t\t\t\t\t\t<FormLabel>How customers can purchase this product</FormLabel>\n\t\t\t\t\t\t\t<PurchaseTypeRadioGroup\n\t\t\t\t\t\t\t\tvalue={field.value}\n\t\t\t\t\t\t\t\tonChange={field.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Subscription Options */}\n\t\t\t\t{purchaseType === \"SUBSCRIPTION\" && (\n\t\t\t\t\t<div className=\"space-y-4 rounded-lg border p-4 bg-muted/30\">\n\t\t\t\t\t\t<h4 className=\"text-sm font-medium\">Subscription settings</h4>\n\n\t\t\t\t\t\t{/* Allow one-time purchase as well */}\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"purchaseOptions.allowOneTimePurchase\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem className=\"flex items-center space-x-3 space-y-0\">\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={field.value}\n\t\t\t\t\t\t\t\t\t\t\tonCheckedChange={field.onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-1 leading-none\">\n\t\t\t\t\t\t\t\t\t\t<FormLabel className=\"text-sm font-normal\">\n\t\t\t\t\t\t\t\t\t\t\tAlso allow one-time purchase\n\t\t\t\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\t\tCustomers can choose between subscription or single\n\t\t\t\t\t\t\t\t\t\t\tpurchase\n\t\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Subscription intervals - multi-select using checkboxes */}\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"purchaseOptions.subscriptionIntervals\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormLabel>Available delivery frequencies</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormDescription className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\tSelect all intervals customers can choose from\n\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-2 mt-2\">\n\t\t\t\t\t\t\t\t\t\t{subscriptionIntervals.map((interval) => {\n\t\t\t\t\t\t\t\t\t\t\tconst isChecked = (field.value ?? []).includes(\n\t\t\t\t\t\t\t\t\t\t\t\tinterval.value,\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tconst checkboxId = `interval-${interval.value}`;\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={interval.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`flex items-center gap-2 rounded-md border p-2 cursor-pointer transition-colors ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisChecked\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"border-muted hover:bg-accent\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={checkboxId}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={isChecked}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonCheckedChange={(checked) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst current = field.value ?? [];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checked) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange([...current, interval.value]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(v: string) => v !== interval.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={checkboxId}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm cursor-pointer flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{interval.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Subscription discount */}\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"purchaseOptions.subscriptionDiscount\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormLabel>Subscription discount (%)</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\tPercentage off regular price for subscribers\n\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{/* Pre-order Options */}\n\t\t\t\t{purchaseType === \"PRE_ORDER\" && (\n\t\t\t\t\t<div className=\"space-y-4 rounded-lg border p-4 bg-muted/30\">\n\t\t\t\t\t\t<h4 className=\"text-sm font-medium\">Pre-order settings</h4>\n\n\t\t\t\t\t\t{/* Release date */}\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"purchaseOptions.preOrderReleaseDate\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t<FormLabel>Expected release date</FormLabel>\n\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\tvalue={field.value}\n\t\t\t\t\t\t\t\t\t\tonChange={field.onChange}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select release date\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\tWhen customers can expect to receive their order\n\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* Deposit percentage */}\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"purchaseOptions.preOrderDepositPercent\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormLabel>Deposit amount (%)</FormLabel>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"100\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\t\t\tPercentage of price collected at time of pre-order. Leave\n\t\t\t\t\t\t\t\t\t\tempty or 100 for full price upfront.\n\t\t\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6025, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/seo-preview.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\n\ninterface SeoPreviewProps {\n\ttitle?: string;\n\tdescription?: string;\n\turl?: string;\n\tbaseUrl?: string;\n\tclassName?: string;\n}\n\nexport function SeoPreview({\n\ttitle = \"Page Title\",\n\tdescription = \"Page description will appear here. This is what users will see in search engine results.\",\n\turl = \"page-url\",\n\tbaseUrl = \"yourstore.com\",\n\tclassName,\n}: SeoPreviewProps) {\n\t// Truncate title to ~60 characters for Google display\n\tconst displayTitle = title.length > 60 ? `${title.slice(0, 57)}...` : title;\n\n\t// Truncate description to ~160 characters for Google display\n\tconst displayDescription =\n\t\tdescription.length > 160 ? `${description.slice(0, 157)}...` : description;\n\n\t// Clean and format URL\n\tconst cleanUrl = url\n\t\t.toLowerCase()\n\t\t.replace(/^\\/+|\\/+$/g, \"\") // Remove leading/trailing slashes\n\t\t.replace(/\\s+/g, \"-\"); // Replace spaces with dashes\n\n\treturn (\n\t\t<div className={cn(\"rounded-lg border bg-card p-4\", className)}>\n\t\t\t<p className=\"text-xs text-muted-foreground mb-3\">\n\t\t\t\tPreview how this product might appear in search engine results\n\t\t\t</p>\n\t\t\t<div className=\"space-y-1\">\n\t\t\t\t{/* URL breadcrumb */}\n\t\t\t\t<div className=\"flex items-center gap-1 text-sm\">\n\t\t\t\t\t<span className=\"text-[#202124] dark:text-gray-300\">{baseUrl}</span>\n\t\t\t\t\t<span className=\"text-[#5f6368] dark:text-gray-500\"></span>\n\t\t\t\t\t<span className=\"text-[#5f6368] dark:text-gray-500\">products</span>\n\t\t\t\t\t<span className=\"text-[#5f6368] dark:text-gray-500\"></span>\n\t\t\t\t\t<span className=\"text-[#5f6368] dark:text-gray-500 truncate max-w-50\">\n\t\t\t\t\t\t{cleanUrl || \"...\"}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Title */}\n\t\t\t\t<h3 className=\"text-xl text-[#1a0dab] dark:text-[#8ab4f8] hover:underline cursor-pointer leading-tight\">\n\t\t\t\t\t{displayTitle || \"Untitled Product\"}\n\t\t\t\t</h3>\n\n\t\t\t\t{/* Description */}\n\t\t\t\t<p className=\"text-sm text-[#4d5156] dark:text-gray-400 leading-snug\">\n\t\t\t\t\t{displayDescription || \"No description provided.\"}\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Character counts */}\n\t\t\t<div className=\"flex gap-4 mt-3 pt-3 border-t text-xs text-muted-foreground\">\n\t\t\t\t<span\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\ttitle.length > 60 && \"text-amber-600 dark:text-amber-400\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\tTitle: {title.length}/60\n\t\t\t\t\t{title.length > 60 && \" (truncated)\"}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\tdescription.length > 160 && \"text-amber-600 dark:text-amber-400\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\tDescription: {description.length}/160\n\t\t\t\t\t{description.length > 160 && \" (truncated)\"}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYO,SAAS,WAAW,EAC1B,QAAQ,YAAY,EACpB,cAAc,0FAA0F,EACxG,MAAM,UAAU,EAChB,UAAU,eAAe,EACzB,SAAS,EACQ;IACjB,sDAAsD;IACtD,MAAM,eAAe,MAAM,MAAM,GAAG,KAAK,GAAG,MAAM,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG;IAEtE,6DAA6D;IAC7D,MAAM,qBACL,YAAY,MAAM,GAAG,MAAM,GAAG,YAAY,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG;IAEhE,uBAAuB;IACvB,MAAM,WAAW,IACf,WAAW,GACX,OAAO,CAAC,cAAc,IAAI,kCAAkC;KAC5D,OAAO,CAAC,QAAQ,MAAM,6BAA6B;IAErD,qBACC,6LAAC;QAAI,WAAW,IAAA,gJAAE,EAAC,iCAAiC;;0BACnD,6LAAC;gBAAE,WAAU;0BAAqC;;;;;;0BAGlD,6LAAC;gBAAI,WAAU;;kCAEd,6LAAC;wBAAI,WAAU;;0CACd,6LAAC;gCAAK,WAAU;0CAAqC;;;;;;0CACrD,6LAAC;gCAAK,WAAU;0CAAoC;;;;;;0CACpD,6LAAC;gCAAK,WAAU;0CAAoC;;;;;;0CACpD,6LAAC;gCAAK,WAAU;0CAAoC;;;;;;0CACpD,6LAAC;gCAAK,WAAU;0CACd,YAAY;;;;;;;;;;;;kCAKf,6LAAC;wBAAG,WAAU;kCACZ,gBAAgB;;;;;;kCAIlB,6LAAC;wBAAE,WAAU;kCACX,sBAAsB;;;;;;;;;;;;0BAKzB,6LAAC;gBAAI,WAAU;;kCACd,6LAAC;wBACA,WAAW,IAAA,gJAAE,EACZ,MAAM,MAAM,GAAG,MAAM;;4BAEtB;4BACQ,MAAM,MAAM;4BAAC;4BACpB,MAAM,MAAM,GAAG,MAAM;;;;;;;kCAEvB,6LAAC;wBACA,WAAW,IAAA,gJAAE,EACZ,YAAY,MAAM,GAAG,OAAO;;4BAE7B;4BACc,YAAY,MAAM;4BAAC;4BAChC,YAAY,MAAM,GAAG,OAAO;;;;;;;;;;;;;;;;;;;AAKlC;KArEgB"}},
    {"offset": {"line": 6179, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Textarea = React.forwardRef<\n\tHTMLTextAreaElement,\n\tReact.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n\treturn (\n\t\t<textarea\n\t\t\tclassName={cn(\n\t\t\t\t\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACC,6LAAC;QACA,WAAW,IAAA,gJAAE,EACZ,qTACA;QAED,KAAK;QACJ,GAAG,KAAK;;;;;;AAGZ;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 6213, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-seo-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { RefreshCw } from \"lucide-react\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useFormContext, useWatch } from \"react-hook-form\";\nimport slugify from \"slugify\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tFormControl,\n\tFormDescription,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { SeoPreview } from \"@/components/ui/seo-preview\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\nexport function ProductSeoSection() {\n\tconst form = useFormContext<CreateProductInput>();\n\tconst productName = useWatch({ control: form.control, name: \"name\" });\n\tconst seo = form.watch(\"seo\");\n\tconst [slugManuallyEdited, setSlugManuallyEdited] = useState(false);\n\n\t// Stable callback for setting form value\n\tconst setSeoSlug = useCallback(\n\t\t(slug: string) => form.setValue(\"seo.slug\", slug, { shouldValidate: true }),\n\t\t[form.setValue],\n\t);\n\n\t// Auto-generate slug from product name (only if not manually edited)\n\tuseEffect(() => {\n\t\tif (productName && !slugManuallyEdited) {\n\t\t\tconst generatedSlug = slugify(productName, {\n\t\t\t\tlower: true,\n\t\t\t\tstrict: true,\n\t\t\t\ttrim: true,\n\t\t\t});\n\t\t\tsetSeoSlug(generatedSlug);\n\t\t}\n\t}, [productName, slugManuallyEdited, setSeoSlug]);\n\n\tconst handleSlugChange = (value: string) => {\n\t\tsetSlugManuallyEdited(true);\n\t\tconst cleanSlug = slugify(value, {\n\t\t\tlower: true,\n\t\t\tstrict: true,\n\t\t\ttrim: true,\n\t\t});\n\t\tform.setValue(\"seo.slug\", cleanSlug, { shouldValidate: true });\n\t};\n\n\tconst handleRegenerateSlug = () => {\n\t\tif (productName) {\n\t\t\tconst generatedSlug = slugify(productName, {\n\t\t\t\tlower: true,\n\t\t\t\tstrict: true,\n\t\t\t\ttrim: true,\n\t\t\t});\n\t\t\tform.setValue(\"seo.slug\", generatedSlug, { shouldValidate: true });\n\t\t\tsetSlugManuallyEdited(false);\n\t\t}\n\t};\n\n\t// Get preview values (fallback to product name if meta title is empty)\n\tconst previewTitle = seo?.metaTitle || productName || \"Product Title\";\n\tconst previewDescription = seo?.metaDescription || \"\";\n\tconst previewSlug = seo?.slug || \"product-url-slug\";\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Search engine listing</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t{/* Google Preview */}\n\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t<span className=\"text-sm font-medium\">Preview</span>\n\t\t\t\t\t<SeoPreview\n\t\t\t\t\t\ttitle={previewTitle}\n\t\t\t\t\t\tdescription={previewDescription}\n\t\t\t\t\t\turl={`/products/${previewSlug}`}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Meta Title */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"seo.metaTitle\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>\n\t\t\t\t\t\t\t\tPage title\n\t\t\t\t\t\t\t\t<span className=\"ml-2 text-muted-foreground font-normal\">\n\t\t\t\t\t\t\t\t\t{(field.value || \"\").length}/70\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder={productName || \"Enter page title\"}\n\t\t\t\t\t\t\t\t\tmaxLength={70}\n\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\tTitle shown in search engine results. Leave empty to use product\n\t\t\t\t\t\t\t\tname.\n\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Meta Description */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"seo.metaDescription\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>\n\t\t\t\t\t\t\t\tMeta description\n\t\t\t\t\t\t\t\t<span className=\"ml-2 text-muted-foreground font-normal\">\n\t\t\t\t\t\t\t\t\t{(field.value || \"\").length}/160\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\tplaceholder=\"Briefly describe your product for search engines...\"\n\t\t\t\t\t\t\t\t\tmaxLength={160}\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tclassName=\"resize-none\"\n\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\tDescription shown below the title in search results. Aim for\n\t\t\t\t\t\t\t\t120-160 characters.\n\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* URL Handle / Slug */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"seo.slug\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>URL handle</FormLabel>\n\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t<div className=\"flex-1 flex items-center rounded-md border bg-muted/50\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"px-3 text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t/products/\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"product-url-slug\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleSlugChange(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\tonClick={handleRegenerateSlug}\n\t\t\t\t\t\t\t\t\ttitle=\"Regenerate from product name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<RefreshCw className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\tThe URL path for this product. Auto-generated from product name.\n\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6601, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-shipping-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { Grid3x3, Layers, Mail, Package } from \"lucide-react\";\nimport * as React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tFormControl,\n\tFormDescription,\n\tFormField,\n\tFormItem,\n\tFormLabel,\n\tFormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Separator } from \"@/components/ui/separator\";\nimport type { CreateProductInput } from \"@/schemas/product\";\n\nconst packageTypes = [\n\t{\n\t\tvalue: \"BOX\",\n\t\tlabel: \"Box\",\n\t\tdescription: \"Standard cardboard box\",\n\t\ticon: Package,\n\t},\n\t{\n\t\tvalue: \"ENVELOPE\",\n\t\tlabel: \"Envelope\",\n\t\tdescription: \"Flat documents or small items\",\n\t\ticon: Mail,\n\t},\n\t{\n\t\tvalue: \"SOFT_PACKAGE\",\n\t\tlabel: \"Soft Package\",\n\t\tdescription: \"Poly mailer or padded envelope\",\n\t\ticon: Layers,\n\t},\n\t{\n\t\tvalue: \"PALLET\",\n\t\tlabel: \"Pallet\",\n\t\tdescription: \"Large freight shipments\",\n\t\ticon: Grid3x3,\n\t},\n] as const;\n\n// Extract PackageTypeRadioGroup to prevent re-render loops\nconst PackageTypeRadioGroup = React.memo(function PackageTypeRadioGroup({\n\tvalue,\n\tonChange,\n}: {\n\tvalue: string | undefined;\n\tonChange: (value: string) => void;\n}) {\n\t// Use local state to manage the value and sync with form\n\tconst currentValue = value ?? \"BOX\";\n\n\tconst handleChange = React.useCallback(\n\t\t(newValue: string) => {\n\t\t\tif (newValue !== value) {\n\t\t\t\tonChange(newValue);\n\t\t\t}\n\t\t},\n\t\t[value, onChange],\n\t);\n\n\treturn (\n\t\t<RadioGroup\n\t\t\tvalue={currentValue}\n\t\t\tonValueChange={handleChange}\n\t\t\tclassName=\"grid grid-cols-2 gap-3\"\n\t\t>\n\t\t\t{packageTypes.map((type) => {\n\t\t\t\tconst Icon = type.icon;\n\t\t\t\tconst isSelected = currentValue === type.value;\n\t\t\t\treturn (\n\t\t\t\t\t<div key={type.value}>\n\t\t\t\t\t\t<RadioGroupItem\n\t\t\t\t\t\t\tvalue={type.value}\n\t\t\t\t\t\t\tid={`package-${type.value}`}\n\t\t\t\t\t\t\tclassName=\"peer sr-only\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\thtmlFor={`package-${type.value}`}\n\t\t\t\t\t\t\tclassName={`flex flex-col items-center gap-2 rounded-lg border-2 p-4 cursor-pointer transition-colors hover:bg-accent ${\n\t\t\t\t\t\t\t\tisSelected ? \"border-primary bg-primary/5\" : \"border-muted\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tclassName={`h-6 w-6 ${isSelected ? \"text-primary\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">{type.label}</span>\n\t\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground text-center\">\n\t\t\t\t\t\t\t\t{type.description}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</RadioGroup>\n\t);\n});\n\nexport function ProductShippingSection() {\n\tconst form = useFormContext<CreateProductInput>();\n\tconst shippingInfo = form.watch(\"shippingInfo\");\n\tconst packageType = shippingInfo?.packageType;\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Shipping</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t{/* Package Type */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"shippingInfo.packageType\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem className=\"space-y-3\">\n\t\t\t\t\t\t\t<FormLabel>Package type</FormLabel>\n\t\t\t\t\t\t\t<PackageTypeRadioGroup\n\t\t\t\t\t\t\t\tvalue={field.value}\n\t\t\t\t\t\t\t\tonChange={field.onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t<Separator />\n\n\t\t\t\t{/* Product Weight */}\n\t\t\t\t<FormField\n\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\tname=\"shippingInfo.weight\"\n\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t<FormLabel>Weight (kg)</FormLabel>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"0.00\"\n\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : undefined);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t<FormDescription>\n\t\t\t\t\t\t\t\tUsed for shipping rate calculation\n\t\t\t\t\t\t\t</FormDescription>\n\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\n\t\t\t\t{/* Package Dimensions */}\n\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t<Label className=\"text-sm font-medium\">Package dimensions (cm)</Label>\n\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"shippingInfo.packageLength\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Length\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"shippingInfo.packageWidth\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Width\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\tname=\"shippingInfo.packageHeight\"\n\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Height\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(value ? parseFloat(value) : undefined);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\tOuter dimensions of the shipping package\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Product Dimensions (only for Pallet or if helpful for customers) */}\n\t\t\t\t{packageType === \"PALLET\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t<Label className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\tProduct dimensions (cm)\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\tActual product dimensions for pallet shipments\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\tname=\"shippingInfo.productLength\"\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\tname=\"shippingInfo.productWidth\"\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Width\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField\n\t\t\t\t\t\t\t\t\tcontrol={form.control}\n\t\t\t\t\t\t\t\t\tname=\"shippingInfo.productHeight\"\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<FormItem>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Height\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.value ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue ? parseFloat(value) : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t<FormMessage />\n\t\t\t\t\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7216, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/color-picker.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ColorPickerProps {\n\tvalue?: string;\n\tonChange?: (value: string) => void;\n\tdisabled?: boolean;\n\tclassName?: string;\n}\n\nconst PRESET_COLORS = [\n\t\"#000000\",\n\t\"#FFFFFF\",\n\t\"#EF4444\",\n\t\"#F97316\",\n\t\"#F59E0B\",\n\t\"#EAB308\",\n\t\"#84CC16\",\n\t\"#22C55E\",\n\t\"#10B981\",\n\t\"#14B8A6\",\n\t\"#06B6D4\",\n\t\"#0EA5E9\",\n\t\"#3B82F6\",\n\t\"#6366F1\",\n\t\"#8B5CF6\",\n\t\"#A855F7\",\n\t\"#D946EF\",\n\t\"#EC4899\",\n\t\"#F43F5E\",\n\t\"#78716C\",\n\t\"#A8A29E\",\n\t\"#D6D3D1\",\n];\n\nexport function ColorPicker({\n\tvalue = \"#000000\",\n\tonChange,\n\tdisabled = false,\n\tclassName,\n}: ColorPickerProps) {\n\tconst [open, setOpen] = React.useState(false);\n\tconst [inputValue, setInputValue] = React.useState(value);\n\n\tReact.useEffect(() => {\n\t\tsetInputValue(value);\n\t}, [value]);\n\n\tconst handleColorChange = (color: string) => {\n\t\tsetInputValue(color);\n\t\tonChange?.(color);\n\t};\n\n\tconst handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tlet newValue = e.target.value;\n\n\t\t// Ensure it starts with #\n\t\tif (!newValue.startsWith(\"#\")) {\n\t\t\tnewValue = `#${newValue}`;\n\t\t}\n\n\t\tsetInputValue(newValue);\n\n\t\t// Only trigger onChange if it's a valid hex color\n\t\tif (/^#[0-9A-Fa-f]{6}$/.test(newValue)) {\n\t\t\tonChange?.(newValue);\n\t\t}\n\t};\n\n\tconst handleInputBlur = () => {\n\t\t// Reset to last valid value if current input is invalid\n\t\tif (!/^#[0-9A-Fa-f]{6}$/.test(inputValue)) {\n\t\t\tsetInputValue(value);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tclassName={cn(\"w-full justify-start gap-2 font-normal\", className)}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"h-4 w-4 rounded border border-border\"\n\t\t\t\t\t\tstyle={{ backgroundColor: value }}\n\t\t\t\t\t/>\n\t\t\t\t\t<span className=\"uppercase\">{value}</span>\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent className=\"w-64\" align=\"start\">\n\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t<div className=\"space-y-1.5\">\n\t\t\t\t\t\t<Label htmlFor=\"hex-color\">Hex Color</Label>\n\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"h-9 w-9 rounded border border-border shrink-0\"\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: inputValue }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"hex-color\"\n\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tonBlur={handleInputBlur}\n\t\t\t\t\t\t\t\tplaceholder=\"#000000\"\n\t\t\t\t\t\t\t\tclassName=\"font-mono uppercase\"\n\t\t\t\t\t\t\t\tmaxLength={7}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"space-y-1.5\">\n\t\t\t\t\t\t<Label>Presets</Label>\n\t\t\t\t\t\t<div className=\"grid grid-cols-7 gap-1\">\n\t\t\t\t\t\t\t{PRESET_COLORS.map((color) => (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={color}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"h-6 w-6 rounded border border-border hover:scale-110 transition-transform\",\n\t\t\t\t\t\t\t\t\t\tvalue === color && \"ring-2 ring-primary ring-offset-1\",\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: color }}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\thandleColorChange(color);\n\t\t\t\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"space-y-1.5\">\n\t\t\t\t\t\t<Label htmlFor=\"native-picker\">Color Picker</Label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"native-picker\"\n\t\t\t\t\t\t\ttype=\"color\"\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonChange={(e) => handleColorChange(e.target.value)}\n\t\t\t\t\t\t\tclassName=\"h-8 w-full cursor-pointer rounded border border-border\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n\n// Inline color swatch for display\ninterface ColorSwatchProps {\n\tcolor: string;\n\tlabel?: string;\n\tclassName?: string;\n}\n\nexport function ColorSwatch({ color, label, className }: ColorSwatchProps) {\n\treturn (\n\t\t<div className={cn(\"flex items-center gap-2\", className)}>\n\t\t\t<div\n\t\t\t\tclassName=\"h-4 w-4 rounded border border-border shrink-0\"\n\t\t\t\tstyle={{ backgroundColor: color }}\n\t\t\t/>\n\t\t\t{label && <span className=\"text-sm\">{label}</span>}\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7516, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/lib/uploadthing.ts"],"sourcesContent":["import {\n\tgenerateReactHelpers,\n\tgenerateUploadButton,\n\tgenerateUploadDropzone,\n} from \"@uploadthing/react\";\n\nimport type { OurFileRouter } from \"@/app/api/uploadthing/core\";\n\nexport const UploadButton = generateUploadButton<OurFileRouter>();\nexport const UploadDropzone = generateUploadDropzone<OurFileRouter>();\n\nexport const { useUploadThing, uploadFiles } =\n\tgenerateReactHelpers<OurFileRouter>();\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;;AAQO,MAAM,eAAe,IAAA,kMAAoB;AACzC,MAAM,iBAAiB,IAAA,oMAAsB;AAE7C,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,GAC3C,IAAA,2MAAoB"}},
    {"offset": {"line": 7539, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/media-upload.tsx"],"sourcesContent":["\"use client\";\n\nimport { FileImage, FileVideo, Loader2, Upload, X } from \"lucide-react\";\nimport Image from \"next/image\";\nimport * as React from \"react\";\nimport type { OurFileRouter } from \"@/app/api/uploadthing/core\";\nimport { Button } from \"@/components/ui/button\";\nimport { useUploadThing } from \"@/lib/uploadthing\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface UploadedMedia {\n\turl: string;\n\ttype: \"image\" | \"video\";\n\tname: string;\n}\n\ntype EndpointKey = keyof OurFileRouter;\n\ninterface MediaUploadProps {\n\tendpoint: EndpointKey;\n\tvalue?: UploadedMedia[];\n\tonChange?: (media: UploadedMedia[]) => void;\n\tmaxFiles?: number;\n\tdisabled?: boolean;\n\tclassName?: string;\n\tacceptImages?: boolean;\n\tacceptVideos?: boolean;\n}\n\nexport function MediaUpload({\n\tendpoint,\n\tvalue = [],\n\tonChange,\n\tmaxFiles = 20,\n\tdisabled = false,\n\tclassName,\n\tacceptImages = true,\n\tacceptVideos = true,\n}: MediaUploadProps) {\n\tconst [isDragging, setIsDragging] = React.useState(false);\n\tconst inputRef = React.useRef<HTMLInputElement>(null);\n\n\tconst { startUpload, isUploading } = useUploadThing(endpoint, {\n\t\tonClientUploadComplete: (res) => {\n\t\t\tif (res) {\n\t\t\t\tconst newMedia: UploadedMedia[] = res.map((file) => ({\n\t\t\t\t\turl: file.ufsUrl,\n\t\t\t\t\ttype: file.type.startsWith(\"video/\") ? \"video\" : \"image\",\n\t\t\t\t\tname: file.name,\n\t\t\t\t}));\n\t\t\t\tonChange?.([...value, ...newMedia]);\n\t\t\t}\n\t\t},\n\t\tonUploadError: (error) => {\n\t\t\tconsole.error(\"Upload error:\", error);\n\t\t},\n\t});\n\n\tconst handleDragOver = (e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\tif (!disabled && !isUploading) {\n\t\t\tsetIsDragging(true);\n\t\t}\n\t};\n\n\tconst handleDragLeave = (e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\tsetIsDragging(false);\n\t};\n\n\tconst handleDrop = async (e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\tsetIsDragging(false);\n\n\t\tif (disabled || isUploading) return;\n\n\t\tconst files = Array.from(e.dataTransfer.files);\n\t\tconst remainingSlots = maxFiles - value.length;\n\t\tconst filesToUpload = files.slice(0, remainingSlots);\n\n\t\tif (filesToUpload.length > 0) {\n\t\t\tawait startUpload(filesToUpload);\n\t\t}\n\t};\n\n\tconst handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (disabled || isUploading || !e.target.files) return;\n\n\t\tconst files = Array.from(e.target.files);\n\t\tconst remainingSlots = maxFiles - value.length;\n\t\tconst filesToUpload = files.slice(0, remainingSlots);\n\n\t\tif (filesToUpload.length > 0) {\n\t\t\tawait startUpload(filesToUpload);\n\t\t}\n\n\t\t// Reset input\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.value = \"\";\n\t\t}\n\t};\n\n\tconst handleRemove = (index: number) => {\n\t\tconst newValue = value.filter((_, i) => i !== index);\n\t\tonChange?.(newValue);\n\t};\n\n\tconst acceptedTypes: string[] = [];\n\tif (acceptImages) acceptedTypes.push(\"image/*\");\n\tif (acceptVideos) acceptedTypes.push(\"video/*\");\n\n\tconst canAddMore = value.length < maxFiles && !disabled && !isUploading;\n\n\treturn (\n\t\t<div className={cn(\"space-y-4\", className)}>\n\t\t\t{/* Upload dropzone */}\n\t\t\t{canAddMore && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonDragOver={handleDragOver}\n\t\t\t\t\tonDragLeave={handleDragLeave}\n\t\t\t\t\tonDrop={handleDrop}\n\t\t\t\t\tonClick={() => inputRef.current?.click()}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tinputRef.current?.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"relative flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed p-6 cursor-pointer transition-colors\",\n\t\t\t\t\t\tisDragging\n\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t: \"border-muted-foreground/25 hover:border-muted-foreground/50\",\n\t\t\t\t\t\t(disabled || isUploading) && \"opacity-50 cursor-not-allowed\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept={acceptedTypes.join(\",\")}\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tonChange={handleFileSelect}\n\t\t\t\t\t\tdisabled={disabled || isUploading}\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t/>\n\t\t\t\t\t{isUploading ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Uploading...</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Upload className=\"h-8 w-8 text-muted-foreground\" />\n\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\tDrop files here or click to upload\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t{acceptImages && acceptVideos\n\t\t\t\t\t\t\t\t\t\t? \"Images and videos\"\n\t\t\t\t\t\t\t\t\t\t: acceptImages\n\t\t\t\t\t\t\t\t\t\t\t? \"Images only\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Videos only\"}\n\t\t\t\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t\t\t\t{maxFiles - value.length} slots remaining\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t)}\n\n\t\t\t{/* Preview grid */}\n\t\t\t{value.length > 0 && (\n\t\t\t\t<div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n\t\t\t\t\t{value.map((media, index) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={`${media.url}-${index}`}\n\t\t\t\t\t\t\tclassName=\"group relative aspect-square rounded-lg border bg-muted overflow-hidden\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{media.type === \"video\" ? (\n\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center justify-center bg-muted\">\n\t\t\t\t\t\t\t\t\t<FileVideo className=\"h-8 w-8 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={media.url}\n\t\t\t\t\t\t\t\t\talt={media.name}\n\t\t\t\t\t\t\t\t\tfill\n\t\t\t\t\t\t\t\t\tclassName=\"object-cover\"\n\t\t\t\t\t\t\t\t\tunoptimized\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{index === 0 && (\n\t\t\t\t\t\t\t\t<div className=\"absolute top-1 left-1 px-1.5 py-0.5 bg-primary text-primary-foreground text-xs rounded\">\n\t\t\t\t\t\t\t\t\tCover\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\tclassName=\"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\"\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\thandleRemove(index);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\n// Simple single image upload\ninterface SingleImageUploadProps {\n\tendpoint: EndpointKey;\n\tvalue?: string;\n\tonChange?: (url: string | undefined) => void;\n\tdisabled?: boolean;\n\tclassName?: string;\n\taspectRatio?: \"square\" | \"video\" | \"auto\";\n}\n\nexport function SingleImageUpload({\n\tendpoint,\n\tvalue,\n\tonChange,\n\tdisabled = false,\n\tclassName,\n\taspectRatio = \"square\",\n}: SingleImageUploadProps) {\n\tconst inputRef = React.useRef<HTMLInputElement>(null);\n\n\tconst { startUpload, isUploading } = useUploadThing(endpoint, {\n\t\tonClientUploadComplete: (res) => {\n\t\t\tif (res?.[0]) {\n\t\t\t\tonChange?.(res[0].ufsUrl);\n\t\t\t}\n\t\t},\n\t\tonUploadError: (error) => {\n\t\t\tconsole.error(\"Upload error:\", error);\n\t\t},\n\t});\n\n\tconst handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (disabled || isUploading || !e.target.files?.[0]) return;\n\t\tawait startUpload([e.target.files[0]]);\n\t\tif (inputRef.current) {\n\t\t\tinputRef.current.value = \"\";\n\t\t}\n\t};\n\n\tconst aspectClass =\n\t\taspectRatio === \"square\"\n\t\t\t? \"aspect-square\"\n\t\t\t: aspectRatio === \"video\"\n\t\t\t\t? \"aspect-video\"\n\t\t\t\t: \"\";\n\n\treturn (\n\t\t<div className={cn(\"relative\", aspectClass, className)}>\n\t\t\t<input\n\t\t\t\tref={inputRef}\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\"image/*\"\n\t\t\t\tonChange={handleFileSelect}\n\t\t\t\tdisabled={disabled || isUploading}\n\t\t\t\tclassName=\"hidden\"\n\t\t\t/>\n\n\t\t\t{value ? (\n\t\t\t\t<div className=\"relative h-full w-full rounded-lg border overflow-hidden group\">\n\t\t\t\t\t<Image\n\t\t\t\t\t\tsrc={value}\n\t\t\t\t\t\talt=\"Uploaded\"\n\t\t\t\t\t\tfill\n\t\t\t\t\t\tclassName=\"object-cover\"\n\t\t\t\t\t\tunoptimized\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tonClick={() => inputRef.current?.click()}\n\t\t\t\t\t\t\tdisabled={isUploading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isUploading ? (\n\t\t\t\t\t\t\t\t<Loader2 className=\"h-4 w-4 animate-spin\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Change\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tonClick={() => onChange?.(undefined)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={() => inputRef.current?.click()}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tinputRef.current?.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"h-full w-full flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed cursor-pointer transition-colors\",\n\t\t\t\t\t\t\"border-muted-foreground/25 hover:border-muted-foreground/50\",\n\t\t\t\t\t\t(disabled || isUploading) && \"opacity-50 cursor-not-allowed\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{isUploading ? (\n\t\t\t\t\t\t<Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<FileImage className=\"h-6 w-6 text-muted-foreground\" />\n\t\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\tUpload image\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7976, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-variants-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { Palette, Plus, Trash2 } from \"lucide-react\";\nimport * as React from \"react\";\nimport { useFormContext } from \"react-hook-form\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { ColorPicker } from \"@/components/ui/color-picker\";\nimport { Input } from \"@/components/ui/input\";\nimport { SingleImageUpload } from \"@/components/ui/media-upload\";\nimport { Separator } from \"@/components/ui/separator\";\nimport type {\n\tCreateProductInput,\n\tProductVariantInput,\n} from \"@/schemas/product\";\n\ninterface VariantGroup {\n\tname: string;\n\tvalues: { value: string; hexColor?: string }[];\n}\n\nexport function ProductVariantsSection() {\n\tconst form = useFormContext<CreateProductInput>();\n\tconst trackStock = form.watch(\"trackStock\");\n\n\tconst [variantGroups, setVariantGroups] = React.useState<VariantGroup[]>([]);\n\tconst [showColorPicker, setShowColorPicker] = React.useState<\n\t\tRecord<string, boolean>\n\t>({});\n\tconst [newGroupName, setNewGroupName] = React.useState(\"\");\n\tconst [newValueInputs, setNewValueInputs] = React.useState<\n\t\tRecord<string, string>\n\t>({});\n\n\t// Generate variant combinations from groups\n\tconst generateVariantCombinations = React.useCallback(\n\t\t(groups: VariantGroup[]): ProductVariantInput[] => {\n\t\t\tif (groups.length === 0) return [];\n\n\t\t\tconst combine = (\n\t\t\t\tcurrent: Record<string, string>,\n\t\t\t\tmeta: { optionName: string; hexColor?: string }[],\n\t\t\t\tremaining: VariantGroup[],\n\t\t\t): {\n\t\t\t\toptions: Record<string, string>;\n\t\t\t\tmeta: { optionName: string; hexColor?: string }[];\n\t\t\t}[] => {\n\t\t\t\tif (remaining.length === 0) {\n\t\t\t\t\treturn [{ options: current, meta }];\n\t\t\t\t}\n\n\t\t\t\tconst [group, ...rest] = remaining;\n\t\t\t\tif (!group) return [{ options: current, meta }];\n\n\t\t\t\tconst results: {\n\t\t\t\t\toptions: Record<string, string>;\n\t\t\t\t\tmeta: { optionName: string; hexColor?: string }[];\n\t\t\t\t}[] = [];\n\n\t\t\t\tfor (const val of group.values) {\n\t\t\t\t\tresults.push(\n\t\t\t\t\t\t...combine(\n\t\t\t\t\t\t\t{ ...current, [group.name]: val.value },\n\t\t\t\t\t\t\t[...meta, { optionName: group.name, hexColor: val.hexColor }],\n\t\t\t\t\t\t\trest,\n\t\t\t\t\t\t),\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn results;\n\t\t\t};\n\n\t\t\treturn combine({}, [], groups).map((combo, index) => ({\n\t\t\t\toptions: combo.options,\n\t\t\t\toptionMeta: combo.meta.filter((m) => m.hexColor),\n\t\t\t\torder: index,\n\t\t\t\tpriceAdjustment: 0,\n\t\t\t}));\n\t\t},\n\t\t[],\n\t);\n\n\t// Update form variants when groups change\n\tconst setVariantsRef = React.useRef(form.setValue);\n\tsetVariantsRef.current = form.setValue;\n\n\tReact.useEffect(() => {\n\t\tconst variants = generateVariantCombinations(variantGroups);\n\t\tconst existingVariants = form.getValues(\"variants\") ?? [];\n\n\t\t// Preserve existing variant data (price, stock, image, sku) when regenerating\n\t\tconst updatedVariants = variants.map((newVariant) => {\n\t\t\tconst optionsKey = JSON.stringify(newVariant.options);\n\t\t\tconst existing = existingVariants.find(\n\t\t\t\t(v) => JSON.stringify(v.options) === optionsKey,\n\t\t\t);\n\t\t\treturn existing\n\t\t\t\t? {\n\t\t\t\t\t\t...newVariant,\n\t\t\t\t\t\t...existing,\n\t\t\t\t\t\toptions: newVariant.options,\n\t\t\t\t\t\toptionMeta: newVariant.optionMeta,\n\t\t\t\t\t}\n\t\t\t\t: newVariant;\n\t\t});\n\n\t\tsetVariantsRef.current(\"variants\", updatedVariants, { shouldDirty: true });\n\t}, [variantGroups, generateVariantCombinations, form.getValues]);\n\n\tconst addVariantGroup = () => {\n\t\tif (!newGroupName.trim()) return;\n\n\t\tconst isColor = newGroupName.toLowerCase() === \"color\";\n\t\tsetVariantGroups([\n\t\t\t...variantGroups,\n\t\t\t{ name: newGroupName.trim(), values: [] },\n\t\t]);\n\t\tsetShowColorPicker((prev) => ({\n\t\t\t...prev,\n\t\t\t[newGroupName.trim()]: isColor,\n\t\t}));\n\t\tsetNewGroupName(\"\");\n\t};\n\n\tconst addColorGroup = () => {\n\t\tif (variantGroups.some((g) => g.name === \"Color\")) return;\n\t\tsetVariantGroups([...variantGroups, { name: \"Color\", values: [] }]);\n\t\tsetShowColorPicker((prev) => ({ ...prev, Color: true }));\n\t};\n\n\tconst removeVariantGroup = (index: number) => {\n\t\tconst group = variantGroups[index];\n\t\tif (!group) return;\n\t\tconst groupName = group.name;\n\t\tsetVariantGroups(variantGroups.filter((_, i) => i !== index));\n\t\tsetShowColorPicker((prev) => {\n\t\t\tconst updated = { ...prev };\n\t\t\tdelete updated[groupName];\n\t\t\treturn updated;\n\t\t});\n\t};\n\n\tconst addValueToGroup = (\n\t\tgroupIndex: number,\n\t\tvalue: string,\n\t\thexColor?: string,\n\t) => {\n\t\tif (!value.trim()) return;\n\n\t\tconst updated = [...variantGroups];\n\t\tconst group = updated[groupIndex];\n\t\tif (!group) return;\n\n\t\tif (group.values.some((v) => v.value === value.trim())) return;\n\n\t\tgroup.values = [...group.values, { value: value.trim(), hexColor }];\n\t\tsetVariantGroups(updated);\n\n\t\t// Clear input\n\t\tsetNewValueInputs((prev) => ({ ...prev, [groupIndex]: \"\" }));\n\t};\n\n\tconst removeValueFromGroup = (groupIndex: number, valueIndex: number) => {\n\t\tconst updated = [...variantGroups];\n\t\tconst group = updated[groupIndex];\n\t\tif (!group) return;\n\t\tgroup.values = group.values.filter((_, i) => i !== valueIndex);\n\t\tsetVariantGroups(updated);\n\t};\n\n\tconst updateVariantField = (\n\t\tvariantIndex: number,\n\t\tfield: keyof ProductVariantInput,\n\t\tvalue: string | number | undefined,\n\t) => {\n\t\tconst variants = form.getValues(\"variants\") ?? [];\n\t\tconst updated = [...variants];\n\t\tconst existingVariant = updated[variantIndex];\n\t\tif (!existingVariant) return;\n\t\tupdated[variantIndex] = { ...existingVariant, [field]: value };\n\t\tform.setValue(\"variants\", updated, { shouldDirty: true });\n\t};\n\n\tconst variants = form.watch(\"variants\") ?? [];\n\tconst hasColorGroup = variantGroups.some((g) => g.name === \"Color\");\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<CardTitle>Variants</CardTitle>\n\t\t\t</CardHeader>\n\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t{/* Variant groups */}\n\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t{variantGroups.map((group, groupIndex) => (\n\t\t\t\t\t\t<div key={group.name} className=\"rounded-lg border p-4 space-y-3\">\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t{showColorPicker[group.name] && (\n\t\t\t\t\t\t\t\t\t\t<Palette className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{group.name}</span>\n\t\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">\n\t\t\t\t\t\t\t\t\t\t{group.values.length} values\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={() => removeVariantGroup(groupIndex)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Trash2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Values */}\n\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-2\">\n\t\t\t\t\t\t\t\t{group.values.map((val, valIndex) => (\n\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\tkey={val.value}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"gap-1.5 py-1 px-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{val.hexColor && (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-3 w-3 rounded-full border\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: val.hexColor }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{val.value}\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeValueFromGroup(groupIndex, valIndex)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-1 hover:text-destructive\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Add value input */}\n\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t{showColorPicker[group.name] ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Color name (e.g., Red)\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={newValueInputs[groupIndex] ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetNewValueInputs((prev) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[groupIndex]: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\taddValueToGroup(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewValueInputs[groupIndex] ?? \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"#000000\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(color) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (newValueInputs[groupIndex]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\taddValueToGroup(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewValueInputs[groupIndex],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-32\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder={`Add ${group.name.toLowerCase()} value`}\n\t\t\t\t\t\t\t\t\t\tvalue={newValueInputs[groupIndex] ?? \"\"}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetNewValueInputs((prev) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\t\t\t\t\t\t[groupIndex]: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\taddValueToGroup(\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroupIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewValueInputs[groupIndex] ?? \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\taddValueToGroup(\n\t\t\t\t\t\t\t\t\t\t\tgroupIndex,\n\t\t\t\t\t\t\t\t\t\t\tnewValueInputs[groupIndex] ?? \"\",\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Add variant group */}\n\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder=\"Variant name (e.g., Size)\"\n\t\t\t\t\t\tvalue={newGroupName}\n\t\t\t\t\t\tonChange={(e) => setNewGroupName(e.target.value)}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\taddVariantGroup();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button type=\"button\" variant=\"outline\" onClick={addVariantGroup}>\n\t\t\t\t\t\t<Plus className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tAdd variant\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Quick add color variant */}\n\t\t\t\t{!hasColorGroup && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={addColorGroup}\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Palette className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tAdd Color variant with color picker\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\n\t\t\t\t{/* Variant combinations table */}\n\t\t\t\t{variants.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Separator />\n\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t<h4 className=\"font-medium\">\n\t\t\t\t\t\t\t\tVariant combinations ({variants.length})\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<div className=\"rounded-lg border overflow-hidden\">\n\t\t\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t\t\t<table className=\"w-full text-sm\">\n\t\t\t\t\t\t\t\t\t\t<thead className=\"bg-muted\">\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-left p-3 font-medium\">Variant</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-left p-3 font-medium w-24\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tImage\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-left p-3 font-medium w-28\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tPrice ()\n\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-left p-3 font-medium w-28\">SKU</th>\n\t\t\t\t\t\t\t\t\t\t\t\t{trackStock && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th className=\"text-left p-3 font-medium w-24\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStock\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody className=\"divide-y\">\n\t\t\t\t\t\t\t\t\t\t\t{variants.map((variant, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst variantKey =\n\t\t\t\t\t\t\t\t\t\t\t\t\tObject.entries(variant.options)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(([k, v]) => `${k}:${v}`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.join(\"-\") || `variant-${index}`;\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={variantKey} className=\"hover:bg-muted/50\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Object.entries(variant.options).map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t([key, value]) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst meta = variant.optionMeta?.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(m) => m.optionName === key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"gap-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{meta?.hexColor && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-2.5 w-2.5 rounded-full border\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: meta.hexColor,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SingleImageUpload\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendpoint=\"variantImage\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={variant.imageUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(url) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateVariantField(index, \"imageUrl\", url)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-12 w-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taspectRatio=\"square\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={variant.price ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateVariantField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"price\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? parseFloat(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Auto\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={variant.sku ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateVariantField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"sku\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value || undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{trackStock && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={variant.stock ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateVariantField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"stock\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? parseInt(e.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-20\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8720, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/_components/product-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Loader2, Save, X } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport * as React from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport slugify from \"slugify\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n\ttype CreateProductInput,\n\tCreateProductSchema,\n\ttype UpdateProductInput,\n} from \"@/schemas/product\";\nimport { ProductCollectionsSection } from \"./product-collections-section\";\nimport { ProductGeneralSection } from \"./product-general-section\";\nimport { ProductInventorySection } from \"./product-inventory-section\";\nimport { ProductMediaSection } from \"./product-media-section\";\nimport { ProductPricingSection } from \"./product-pricing-section\";\nimport { ProductPurchaseOptionsSection } from \"./product-purchase-options-section\";\nimport { ProductSeoSection } from \"./product-seo-section\";\nimport { ProductShippingSection } from \"./product-shipping-section\";\nimport { ProductVariantsSection } from \"./product-variants-section\";\n\ninterface ProductFormProps {\n\tmode: \"create\" | \"edit\";\n\tinitialData?: Partial<UpdateProductInput>;\n\tonSubmit: (data: CreateProductInput) => Promise<void>;\n\tcategories: { id: string; name: string }[];\n\tbrands: { id: string; name: string }[];\n\tcollections: { id: string; name: string }[];\n}\n\nexport function ProductForm({\n\tmode,\n\tinitialData,\n\tonSubmit,\n\tcategories,\n\tbrands,\n\tcollections,\n}: ProductFormProps) {\n\tconst router = useRouter();\n\tconst [isSubmitting, setIsSubmitting] = React.useState(false);\n\n\tconst form = useForm({\n\t\tresolver: zodResolver(CreateProductSchema),\n\t\tdefaultValues: {\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t\tslug: \"\",\n\t\t\tstatus: \"DRAFT\" as const,\n\t\t\tcategoryId: \"\",\n\t\t\tbrandId: undefined,\n\t\t\tcollectionIds: [],\n\t\t\tprice: 0,\n\t\t\tcompareAtPrice: undefined,\n\t\t\tcostPerItem: undefined,\n\t\t\tunitPrice: undefined,\n\t\t\tsku: undefined,\n\t\t\ttrackStock: false,\n\t\t\tstock: undefined,\n\t\t\tlowStockThreshold: undefined,\n\t\t\tmedia: [],\n\t\t\tvariants: [],\n\t\t\tshippingInfo: {\n\t\t\t\tpackageType: \"BOX\" as const,\n\t\t\t\tisFragile: false,\n\t\t\t\tisFreeShipping: false,\n\t\t\t\ttags: [],\n\t\t\t},\n\t\t\tpurchaseOptions: {\n\t\t\t\ttype: \"ONE_TIME\" as const,\n\t\t\t\tallowOneTimePurchase: true,\n\t\t\t},\n\t\t\tseo: {},\n\t\t\t...initialData,\n\t\t},\n\t});\n\n\t// Auto-generate slug from name\n\tconst watchName = form.watch(\"name\");\n\tconst currentSlug = form.watch(\"slug\");\n\n\t// Use a ref to get form.setValue without adding it as a dependency\n\tconst formRef = React.useRef(form);\n\tformRef.current = form;\n\n\tReact.useEffect(() => {\n\t\tif (mode === \"create\" && watchName && !currentSlug) {\n\t\t\tconst generatedSlug = slugify(watchName, { lower: true, strict: true });\n\t\t\tformRef.current.setValue(\"slug\", generatedSlug);\n\t\t}\n\t}, [watchName, currentSlug, mode]);\n\n\tconst handleSubmit = async (data: CreateProductInput) => {\n\t\tsetIsSubmitting(true);\n\t\ttry {\n\t\t\tawait onSubmit(data);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to save product:\", error);\n\t\t} finally {\n\t\t\tsetIsSubmitting(false);\n\t\t}\n\t};\n\n\tconst handleDiscard = () => {\n\t\tif (form.formState.isDirty) {\n\t\t\tconst confirmed = window.confirm(\n\t\t\t\t\"You have unsaved changes. Are you sure you want to discard them?\",\n\t\t\t);\n\t\t\tif (!confirmed) return;\n\t\t}\n\t\trouter.push(\"/admin/products\");\n\t};\n\n\treturn (\n\t\t<FormProvider {...form}>\n\t\t\t<form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-8\">\n\t\t\t\t{/* Sticky header with actions */}\n\t\t\t\t<div className=\"sticky top-0 z-10 -mx-6 -mt-6 mb-6 border-b bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60\">\n\t\t\t\t\t<div className=\"flex items-center justify-between px-6 py-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold tracking-tight\">\n\t\t\t\t\t\t\t\t{mode === \"create\" ? \"Add product\" : \"Edit product\"}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t{mode === \"edit\" && initialData?.name && (\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t{initialData.name}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={handleDiscard}\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\tDiscard\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button type=\"submit\" disabled={isSubmitting}>\n\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t<Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Save className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{mode === \"create\" ? \"Create product\" : \"Save changes\"}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n\t\t\t\t\t{/* Main content - 2 columns */}\n\t\t\t\t\t<div className=\"lg:col-span-2 space-y-6\">\n\t\t\t\t\t\t<ProductGeneralSection categories={categories} brands={brands} />\n\t\t\t\t\t\t<ProductMediaSection />\n\t\t\t\t\t\t<ProductPricingSection />\n\t\t\t\t\t\t<ProductVariantsSection />\n\t\t\t\t\t\t<ProductShippingSection />\n\t\t\t\t\t\t<ProductPurchaseOptionsSection />\n\t\t\t\t\t\t<ProductSeoSection />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Sidebar - 1 column */}\n\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t<ProductInventorySection />\n\t\t\t\t\t\t<ProductCollectionsSection collections={collections} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</FormProvider>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9044, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/products/new/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Loader2 } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport * as React from \"react\";\nimport { toast } from \"sonner\";\nimport type { CreateProductInput } from \"@/schemas/product\";\nimport { getBrands } from \"@/server/api/internal/brands\";\nimport { getCategories } from \"@/server/api/internal/categories\";\nimport { getCollections } from \"@/server/api/internal/collections\";\nimport { createProduct } from \"@/server/api/internal/products\";\nimport { ProductForm } from \"../_components/product-form\";\n\ntype SimpleCategory = { id: string; name: string };\ntype SimpleBrand = { id: string; name: string };\ntype SimpleCollection = { id: string; name: string };\n\nexport default function NewProductPage() {\n\tconst router = useRouter();\n\tconst [isLoading, setIsLoading] = React.useState(true);\n\tconst [categories, setCategories] = React.useState<SimpleCategory[]>([]);\n\tconst [brands, setBrands] = React.useState<SimpleBrand[]>([]);\n\tconst [collections, setCollections] = React.useState<SimpleCollection[]>([]);\n\n\t// Fetch categories, brands, and collections on mount\n\tReact.useEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tsetIsLoading(true);\n\t\t\ttry {\n\t\t\t\tconst [categoriesData, brandsData, collectionsData] = await Promise.all([\n\t\t\t\t\tgetCategories(),\n\t\t\t\t\tgetBrands(),\n\t\t\t\t\tgetCollections(),\n\t\t\t\t]);\n\n\t\t\t\tsetCategories(categoriesData.map((c) => ({ id: c.id, name: c.slug })));\n\t\t\t\tsetBrands(brandsData.map((b) => ({ id: b.id, name: b.slug })));\n\t\t\t\tsetCollections(collectionsData.map((col) => ({ id: col.id, name: col.slug })));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to fetch data:\", error);\n\t\t\t\ttoast.error(\"Failed to load form data\");\n\t\t\t} finally {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst handleSubmit = async (data: CreateProductInput) => {\n\t\ttry {\n\t\t\tconst result = await createProduct(data);\n\n\t\t\tif (result.success) {\n\t\t\t\ttoast.success(\"Product created successfully\");\n\t\t\t\trouter.push(\"/admin/products\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to create product:\", error);\n\t\t\ttoast.error(\"Failed to create product\");\n\t\t\tthrow error;\n\t\t}\n\t};\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<div className=\"container flex max-w-7xl items-center justify-center py-24\">\n\t\t\t\t<Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"container max-w-7xl py-6\">\n\t\t\t<ProductForm\n\t\t\t\tmode=\"create\"\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\tcategories={categories}\n\t\t\t\tbrands={brands}\n\t\t\t\tcollections={collections}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;AAiBe,SAAS;;IACvB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,yKAAc,CAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,yKAAc,CAAmB,EAAE;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,yKAAc,CAAgB,EAAE;IAC5D,MAAM,CAAC,aAAa,eAAe,GAAG,yKAAc,CAAqB,EAAE;IAE3E,qDAAqD;IACrD,0KAAe;oCAAC;YACf,eAAe;gBACd,aAAa;gBACb,IAAI;oBACH,MAAM,CAAC,gBAAgB,YAAY,gBAAgB,GAAG,MAAM,QAAQ,GAAG,CAAC;wBACvE,IAAA,gNAAa;wBACb,IAAA,4MAAS;wBACT,IAAA,iNAAc;qBACd;oBAED,cAAc,eAAe,GAAG;8DAAC,CAAC,IAAM,CAAC;gCAAE,IAAI,EAAE,EAAE;gCAAE,MAAM,EAAE,IAAI;4BAAC,CAAC;;oBACnE,UAAU,WAAW,GAAG;8DAAC,CAAC,IAAM,CAAC;gCAAE,IAAI,EAAE,EAAE;gCAAE,MAAM,EAAE,IAAI;4BAAC,CAAC;;oBAC3D,eAAe,gBAAgB,GAAG;8DAAC,CAAC,MAAQ,CAAC;gCAAE,IAAI,IAAI,EAAE;gCAAE,MAAM,IAAI,IAAI;4BAAC,CAAC;;gBAC5E,EAAE,OAAO,OAAO;oBACf,QAAQ,KAAK,CAAC,yBAAyB;oBACvC,oJAAK,CAAC,KAAK,CAAC;gBACb,SAAU;oBACT,aAAa;gBACd;YACD;YACA;QACD;mCAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC3B,IAAI;YACH,MAAM,SAAS,MAAM,IAAA,gNAAa,EAAC;YAEnC,IAAI,OAAO,OAAO,EAAE;gBACnB,oJAAK,CAAC,OAAO,CAAC;gBACd,OAAO,IAAI,CAAC;YACb;QACD,EAAE,OAAO,OAAO;YACf,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,oJAAK,CAAC,KAAK,CAAC;YACZ,MAAM;QACP;IACD;IAEA,IAAI,WAAW;QACd,qBACC,6LAAC;YAAI,WAAU;sBACd,cAAA,6LAAC,+NAAO;gBAAC,WAAU;;;;;;;;;;;IAGtB;IAEA,qBACC,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC,wNAAW;YACX,MAAK;YACL,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,aAAa;;;;;;;;;;;AAIjB;GAjEwB;;QACR,kJAAS;;;KADD"}}]
}