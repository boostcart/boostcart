{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/admin/polaris-button.tsx"],"sourcesContent":["import { Slot as SlotPrimitive } from \"radix-ui\";\nimport type React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface PolarisButtonProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren: React.ReactNode;\n\tsize?: \"micro\" | \"slim\" | \"medium\" | \"large\";\n\tfullWidth?: boolean;\n\tloading?: boolean;\n\tdisabled?: boolean;\n\ticon?: React.ReactNode;\n\tasChild?: boolean;\n}\n\nexport function PolarisButton({\n\tchildren,\n\tsize = \"slim\",\n\tfullWidth = false,\n\tloading = false,\n\tdisabled = false,\n\ticon,\n\tasChild = false,\n\tclassName,\n\t...props\n}: PolarisButtonProps) {\n\tconst Comp = asChild ? SlotPrimitive.Slot : \"button\";\n\tconst sizeClasses = {\n\t\tmicro: \"h-7 px-2.5 text-xs\",\n\t\tslim: \"h-9 px-3 text-sm\",\n\t\tmedium: \"h-10 px-4 text-sm\",\n\t\tlarge: \"h-12 px-5 text-base\",\n\t};\n\n\treturn (\n\t\t<Comp\n\t\t\tdisabled={disabled || loading}\n\t\t\tclassName={cn(\n\t\t\t\t// Base styles matching Polaris primary button\n\t\t\t\t\"relative inline-flex items-center justify-center gap-2\",\n\t\t\t\t\"font-semibold rounded-[10px] cursor-pointer\",\n\t\t\t\t\"transition-all duration-200 ease-out\",\n\t\t\t\t\"outline-none focus-visible:outline-2 focus-visible:outline-offset-2\",\n\n\t\t\t\t\"border-0\",\n\t\t\t\t\"shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.6),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\n\t\t\t\t\"bg-linear-to-b from-[#4a4a4a] to-[#303030]\",\n\n\t\t\t\t// Text colors from Polaris tokens\n\t\t\t\t\"text-white\",\n\n\t\t\t\t\"hover:before:absolute hover:before:inset-0 hover:before:rounded-[10px] hover:before:bg-black hover:before:opacity-30 hover:before:transition-opacity hover:before:duration-200 hover:before:content-['']\",\n\n\t\t\t\t// Disabled state\n\t\t\t\t\"disabled:bg-linear-to-b disabled:from-[rgba(0,0,0,0.2)] disabled:to-[rgba(0,0,0,0.17)]\",\n\t\t\t\t\"disabled:text-[rgba(255,255,255,0.6)]\",\n\t\t\t\t\"disabled:cursor-not-allowed\",\n\t\t\t\t\"disabled:shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.2),inset_1.5px_0_0_0_rgba(0,0,0,0.2),inset_-1.5px_0_0_0_rgba(0,0,0,0.2),inset_0_-3px_0_0_rgba(0,0,0,0.2)]\",\n\t\t\t\t\"disabled:hover:before:opacity-0\",\n\n\t\t\t\t// Focus state border\n\t\t\t\t\"focus-visible:outline-[#005BD3]\",\n\n\t\t\t\t\"active:shadow-[inset_0_4px_0_0_rgba(0,0,0,0.8),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\t\t\t\t\"active:bg-linear-to-b active:from-[#2a2a2a] active:to-[#1a1a1a]\",\n\t\t\t\t\"active:[&>span:last-child]:translate-y-px\",\n\n\t\t\t\t// Size variants\n\t\t\t\tsizeClasses[size],\n\n\t\t\t\t// Full width\n\t\t\t\tfullWidth && \"w-full\",\n\n\t\t\t\tasChild && disabled && \"pointer-events-none opacity-50\",\n\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<span className=\"absolute inset-0 rounded-[10px] pointer-events-none shadow-[inset_0_3px_0_0_rgba(255,255,255,0.2),inset_1.5px_0_0_0_rgba(255,255,255,0.1),inset_-1.5px_0_0_0_rgba(255,255,255,0.1)] active:opacity-0 transition-opacity duration-200\" />\n\n\t\t\t<span className=\"relative flex items-center justify-center gap-2 transition-transform duration-200\">\n\t\t\t\t{loading ? (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"animate-spin size-4\"\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<title>Loading</title>\n\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\tclassName=\"opacity-25\"\n\t\t\t\t\t\t\tcx=\"12\"\n\t\t\t\t\t\t\tcy=\"12\"\n\t\t\t\t\t\t\tr=\"10\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tclassName=\"opacity-75\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t) : (\n\t\t\t\t\ticon && <span className=\"shrink-0\">{icon}</span>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</span>\n\t\t</Comp>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAaO,SAAS,cAAc,EAC7B,QAAQ,EACR,OAAO,MAAM,EACb,YAAY,KAAK,EACjB,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,IAAI,EACJ,UAAU,KAAK,EACf,SAAS,EACT,GAAG,OACiB;IACpB,MAAM,OAAO,UAAU,0OAAa,CAAC,IAAI,GAAG;IAC5C,MAAM,cAAc;QACnB,OAAO;QACP,MAAM;QACN,QAAQ;QACR,OAAO;IACR;IAEA,qBACC,6LAAC;QACA,UAAU,YAAY;QACtB,WAAW,IAAA,gJAAE,EACZ,8CAA8C;QAC9C,0DACA,+CACA,wCACA,uEAEA,YACA,oJAEA,8CAEA,kCAAkC;QAClC,cAEA,4MAEA,iBAAiB;QACjB,0FACA,yCACA,+BACA,6JACA,mCAEA,qBAAqB;QACrB,mCAEA,yJACA,mEACA,6CAEA,gBAAgB;QAChB,WAAW,CAAC,KAAK,EAEjB,aAAa;QACb,aAAa,UAEb,WAAW,YAAY,kCAEvB;QAEA,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;;;;;;0BAEhB,6LAAC;gBAAK,WAAU;;oBACd,wBACA,6LAAC;wBACA,WAAU;wBACV,OAAM;wBACN,MAAK;wBACL,SAAQ;;0CAER,6LAAC;0CAAM;;;;;;0CACP,6LAAC;gCACA,WAAU;gCACV,IAAG;gCACH,IAAG;gCACH,GAAE;gCACF,QAAO;gCACP,aAAY;;;;;;0CAEb,6LAAC;gCACA,WAAU;gCACV,MAAK;gCACL,GAAE;;;;;;;;;;;+BAIJ,sBAAQ,6LAAC;wBAAK,WAAU;kCAAY;;;;;;oBAEpC;;;;;;;;;;;;;AAIL;KAjGgB"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/input.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define input size variants\nconst inputVariants = cva(\n\t`\n    flex w-full bg-background border border-input shadow-xs shadow-black/5 transition-[color,box-shadow] text-foreground placeholder:text-muted-foreground/80 \n    focus-visible:ring-ring/30  focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px]     \n    disabled:cursor-not-allowed disabled:opacity-60 \n    [&[readonly]]:bg-muted/80 [&[readonly]]:cursor-not-allowed\n    file:h-full [&[type=file]]:py-0 file:border-solid file:border-input file:bg-transparent \n    file:font-medium file:not-italic file:text-foreground file:p-0 file:border-0 file:border-e\n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tlg: \"h-10 px-4 text-sm rounded-md file:pe-4 file:me-4\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) rounded-md file:pe-3 file:me-3\",\n\t\t\t\tsm: \"h-7 px-2.5 text-xs rounded-md file:pe-2.5 file:me-2.5\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nconst inputAddonVariants = cva(\n\t\"flex items-center shrink-0 justify-center bg-muted border border-input shadow-xs shadow-[rgba(0,0,0,0.05)] text-secondary-foreground\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"rounded-md h-7 min-w-7 text-xs px-2.5 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"rounded-md h-8.5 min-w-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t\tlg: \"rounded-md h-10 min-w-10 px-4 text-sm [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t},\n\t\t\tmode: {\n\t\t\t\tdefault: \"\",\n\t\t\t\ticon: \"px-0 justify-center\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t\tmode: \"default\",\n\t\t},\n\t},\n);\n\nconst inputGroupVariants = cva(\n\t`\n    flex items-stretch\n    [&_[data-slot=input]]:grow\n    [&_[data-slot=input-addon]:has(+[data-slot=input])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=input])]:border-e-0\n    [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:border-e-0 \n    [&_[data-slot=input]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=input]+[data-slot=input-addon]]:border-s-0\n    [&_[data-slot=input-addon]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]+[data-slot=button]]:rounded-s-none\n    [&_[data-slot=button]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=datefield]]:[&_[data-slot=input]]:rounded-s-none\n    [&_[data-slot=datefield]:has(+[data-slot=input-addon])]:[&_[data-slot=input]]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=input-addon])]:rounded-e-none\n    [&_[data-slot=datefield]]:grow\n    [&_[data-slot=datefield]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=datefield]+[data-slot=input-addon]]:border-s-0\n  `,\n\t{\n\t\tvariants: {},\n\t\tdefaultVariants: {},\n\t},\n);\n\nconst inputWrapperVariants = cva(\n\t`\n    flex items-center gap-1.5\n    has-[:focus-visible]:ring-ring/30 \n    has-[:focus-visible]:border-ring\n    has-[:focus-visible]:outline-none \n    has-[:focus-visible]:ring-[3px]\n\n    [&_[data-slot=datefield]]:grow \n    [&_[data-slot=input]]:data-focus-within:ring-transparent  \n    [&_[data-slot=input]]:data-focus-within:ring-0 \n    [&_[data-slot=input]]:data-focus-within:border-0 \n    [&_[data-slot=input]]:flex \n    [&_[data-slot=input]]:w-full \n    [&_[data-slot=input]]:outline-none \n    [&_[data-slot=input]]:transition-colors \n    [&_[data-slot=input]]:text-foreground\n    [&_[data-slot=input]]:placeholder:text-muted-foreground \n    [&_[data-slot=input]]:border-0 \n    [&_[data-slot=input]]:bg-transparent \n    [&_[data-slot=input]]:p-0\n    [&_[data-slot=input]]:shadow-none \n    [&_[data-slot=input]]:focus-visible:ring-0 \n    [&_[data-slot=input]]:h-auto \n    [&_[data-slot=input]]:disabled:cursor-not-allowed\n    [&_[data-slot=input]]:disabled:opacity-50    \n\n    has-[[aria-invalid=true]]:border-destructive/60 \n    has-[[aria-invalid=true]]:ring-destructive/10 \n    dark:has-[[aria-invalid=true]]:border-destructive \n    dark:has-[[aria-invalid=true]]:ring-destructive/20    \n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"gap-1.25 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t\tlg: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nfunction Input({\n\tclassName,\n\ttype,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"input\"> & VariantProps<typeof inputVariants>) {\n\treturn (\n\t\t<input\n\t\t\tdata-slot=\"input\"\n\t\t\ttype={type}\n\t\t\tclassName={cn(inputVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputAddon({\n\tclassName,\n\tvariant,\n\tmode,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputAddonVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-addon\"\n\t\t\tclassName={cn(inputAddonVariants({ variant, mode }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputGroup({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-group\"\n\t\t\tclassName={cn(inputGroupVariants(), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputWrapper({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputWrapperVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-wrapper\"\n\t\t\tclassName={cn(\n\t\t\t\tinputVariants({ variant }),\n\t\t\t\tinputWrapperVariants({ variant }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tInput,\n\tInputAddon,\n\tInputGroup,\n\tInputWrapper,\n\tinputVariants,\n\tinputAddonVariants,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,IAAA,0KAAG,EACxB,CAAC;;;;;;;;EAQA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,wIACA;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;QACA,MAAM;YACL,SAAS;YACT,MAAM;QACP;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,CAAC;;;;;;;;;;;;;;;;EAgBA,CAAC,EACF;IACC,UAAU,CAAC;IACX,iBAAiB,CAAC;AACnB;AAGD,MAAM,uBAAuB,IAAA,0KAAG,EAC/B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,IAAI,EACJ,OAAO,EACP,GAAG,OACiE;IACpE,qBACC,6LAAC;QACA,aAAU;QACV,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAdS;AAgBT,SAAS,WAAW,EACnB,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;YAAE;YAAS;QAAK,IAAI;QACpD,GAAG,KAAK;;;;;;AAGZ;MAbS;AAeT,SAAS,WAAW,EACnB,SAAS,EACT,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGZ;MAXS;AAaT,SAAS,aAAa,EACrB,SAAS,EACT,OAAO,EACP,GAAG,OACsE;IACzE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EACZ,cAAc;YAAE;QAAQ,IACxB,qBAAqB;YAAE;QAAQ,IAC/B;QAEA,GAAG,KAAK;;;;;;AAGZ;MAhBS"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<\n\tHTMLTableElement,\n\tReact.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n\t<div className=\"relative w-full overflow-auto\">\n\t\t<table\n\t\t\tref={ref}\n\t\t\tclassName={cn(\"w-full caption-bottom text-sm\", className)}\n\t\t\t{...props}\n\t\t/>\n\t</div>\n));\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n));\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tbody\n\t\tref={ref}\n\t\tclassName={cn(\"[&_tr:last-child]:border-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tfoot\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<\n\tHTMLTableRowElement,\n\tReact.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n\t<tr\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<th\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<td\n\t\tref={ref}\n\t\tclassName={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<\n\tHTMLTableCaptionElement,\n\tReact.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n\t<caption\n\t\tref={ref}\n\t\tclassName={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nTableCaption.displayName = \"TableCaption\";\n\nexport {\n\tTable,\n\tTableHeader,\n\tTableBody,\n\tTableFooter,\n\tTableHead,\n\tTableRow,\n\tTableCell,\n\tTableCaption,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC;YACA,KAAK;YACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIZ,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAExE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,2DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,+EACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,oGACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGX,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n\t\"text-sm leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tprimary: \"font-medium\",\n\t\t\t\tsecondary: \"font-normal\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"primary\",\n\t\t},\n\t},\n);\n\nfunction Label({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root> &\n\tVariantProps<typeof labelVariants>) {\n\treturn (\n\t\t<LabelPrimitive.Root\n\t\t\tdata-slot=\"label\"\n\t\t\tclassName={cn(labelVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACxB,kGACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,WAAW;QACZ;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,OAAO,EACP,GAAG,OAE+B;IAClC,qBACC,6LAAC,6OAAc,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAbS"}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\n\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Separator = React.forwardRef<\n\tReact.ElementRef<typeof SeparatorPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n\t(\n\t\t{ className, orientation = \"horizontal\", decorative = true, ...props },\n\t\tref,\n\t) => (\n\t\t<SeparatorPrimitive.Root\n\t\t\tref={ref}\n\t\t\tdecorative={decorative}\n\t\t\torientation={orientation}\n\t\t\tclassName={cn(\n\t\t\t\t\"shrink-0 bg-border\",\n\t\t\t\torientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t),\n);\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,2KAAgB,MAIjC,CACC,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,gLAAuB;QACvB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,gJAAE,EACZ,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAEA,GAAG,KAAK;;;;;;;AAIZ,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n\tReact.ElementRef<typeof TabsPrimitive.List>,\n\tReact.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n\t<TabsPrimitive.List\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n\tReact.ElementRef<typeof TabsPrimitive.Trigger>,\n\tReact.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n\t<TabsPrimitive.Trigger\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n\tReact.ElementRef<typeof TabsPrimitive.Content>,\n\tReact.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n\t<TabsPrimitive.Content\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,2KAAkB;QAClB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,8FACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,8KAAqB;QACrB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,uYACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC,8KAAqB;QACrB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,mIACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Textarea = React.forwardRef<\n\tHTMLTextAreaElement,\n\tReact.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n\treturn (\n\t\t<textarea\n\t\t\tclassName={cn(\n\t\t\t\t\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tref={ref}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACC,6LAAC;QACA,WAAW,IAAA,gJAAE,EACZ,qTACA;QAED,KAAK;QACJ,GAAG,KAAK;;;;;;AAGZ;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/customers.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getCustomers() {\n  const { tenantId } = await requireStoreAccess();\n\n  const customers = await db.customer.findMany({\n    where: { tenantId },\n    include: {\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return customers;\n}\n\nexport async function getCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      orders: {\n        orderBy: { createdAt: \"desc\" },\n        take: 10,\n      },\n      addresses: true,\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found\");\n  }\n\n  return customer;\n}\n\ninterface CreateCustomerInput {\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function createCustomer(input: CreateCustomerInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if customer with this email already exists for this tenant\n  const existing = await db.customer.findFirst({\n    where: {\n      email: input.email,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Customer with this email already exists\");\n  }\n\n  const customer = await db.customer.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return customer;\n}\n\ninterface UpdateCustomerInput {\n  email?: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function updateCustomer(\n  id: string,\n  input: UpdateCustomerInput\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  // If email is being changed, check for duplicates\n  if (input.email && input.email !== customer.email) {\n    const existing = await db.customer.findFirst({\n      where: {\n        email: input.email,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Customer with this email already exists\");\n    }\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      _count: {\n        select: { orders: true },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  if (customer._count.orders > 0) {\n    throw new Error(\n      \"Cannot delete customer with existing orders. Consider anonymizing instead.\"\n    );\n  }\n\n  await db.customer.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n\nexport async function anonymizeCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: {\n      email: `deleted-${id}@anonymized.local`,\n      firstName: \"Deleted\",\n      lastName: \"Customer\",\n      phone: null,\n      acceptsMarketing: false,\n    },\n  });\n\n  return updated;\n}\n"],"names":[],"mappings":";;;;;;;MAsFsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 760, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/customers.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getCustomers() {\n  const { tenantId } = await requireStoreAccess();\n\n  const customers = await db.customer.findMany({\n    where: { tenantId },\n    include: {\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return customers;\n}\n\nexport async function getCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      orders: {\n        orderBy: { createdAt: \"desc\" },\n        take: 10,\n      },\n      addresses: true,\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found\");\n  }\n\n  return customer;\n}\n\ninterface CreateCustomerInput {\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function createCustomer(input: CreateCustomerInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if customer with this email already exists for this tenant\n  const existing = await db.customer.findFirst({\n    where: {\n      email: input.email,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Customer with this email already exists\");\n  }\n\n  const customer = await db.customer.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return customer;\n}\n\ninterface UpdateCustomerInput {\n  email?: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function updateCustomer(\n  id: string,\n  input: UpdateCustomerInput\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  // If email is being changed, check for duplicates\n  if (input.email && input.email !== customer.email) {\n    const existing = await db.customer.findFirst({\n      where: {\n        email: input.email,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Customer with this email already exists\");\n    }\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      _count: {\n        select: { orders: true },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  if (customer._count.orders > 0) {\n    throw new Error(\n      \"Cannot delete customer with existing orders. Consider anonymizing instead.\"\n    );\n  }\n\n  await db.customer.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n\nexport async function anonymizeCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: {\n      email: `deleted-${id}@anonymized.local`,\n      firstName: \"Deleted\",\n      lastName: \"Customer\",\n      phone: null,\n      acceptsMarketing: false,\n    },\n  });\n\n  return updated;\n}\n"],"names":[],"mappings":";;;;;;;MAuHsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 777, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/customers/_components/customer-dialogs.tsx"],"sourcesContent":["\"use client\";\n\nimport { Calendar, Loader2, MapPin, User } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n\tcreateCustomer,\n\tupdateCustomer,\n} from \"@/server/api/internal/customers\";\n\ninterface Customer {\n\tid: string;\n\tname: string;\n\temail: string;\n\tphone: string;\n\tstatus: string;\n\torders: number;\n\ttotalSpent: string;\n\tjoined: string;\n}\n\ninterface ViewCustomerDialogProps {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tcustomer: Customer | null;\n}\n\nexport function ViewCustomerDialog({\n\topen,\n\tonOpenChange,\n\tcustomer,\n}: ViewCustomerDialogProps) {\n\tif (!customer) return null;\n\n\tconst recentOrders = [\n\t\t{ id: `#3210`, date: `Nov 8, 2025`, total: `$329.00`, status: `DELIVERED` },\n\t\t{\n\t\t\tid: `#3156`,\n\t\t\tdate: `Oct 25, 2025`,\n\t\t\ttotal: `$149.00`,\n\t\t\tstatus: `DELIVERED`,\n\t\t},\n\t\t{ id: `#3102`, date: `Oct 10, 2025`, total: `$89.00`, status: `DELIVERED` },\n\t];\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<User className=\"h-5 w-5\" />\n\t\t\t\t\t\t{customer.name}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogDescription>Complete customer information</DialogDescription>\n\t\t\t\t</DialogHeader>\n\n\t\t\t\t<Tabs defaultValue=\"overview\" className=\"w-full\">\n\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-3\">\n\t\t\t\t\t\t<TabsTrigger value=\"overview\">Overview</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"orders\">Orders</TabsTrigger>\n\t\t\t\t\t\t<TabsTrigger value=\"addresses\">Addresses</TabsTrigger>\n\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t<TabsContent value=\"overview\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-6\">\n\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground mb-1\">\n\t\t\t\t\t\t\t\t\t\tContact Information\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">Email:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{customer.email}</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">Phone:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{customer.phone}</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">Status:</span>\n\t\t\t\t\t\t\t\t\t\t\t<Badge>{customer.status}</Badge>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground mb-1\">\n\t\t\t\t\t\t\t\t\t\tAccount Details\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Calendar className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t<span>Joined {customer.joined}</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">Customer ID:</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-mono\">{customer.id}</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg bg-muted/30\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground mb-3\">\n\t\t\t\t\t\t\t\t\t\tLifetime Value\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold\">{customer.totalSpent}</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg bg-muted/30\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground mb-3\">\n\t\t\t\t\t\t\t\t\t\tTotal Orders\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold\">{customer.orders}</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg bg-muted/30\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground mb-3\">\n\t\t\t\t\t\t\t\t\t\tAverage Order Value\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-3xl font-bold\">$189.00</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"orders\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t{recentOrders.map((order) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={order.id}\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/30 transition-colors\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">{order.id}</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t{order.date}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">{order.total}</p>\n\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t{order.status}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t<TabsContent value=\"addresses\" className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t<MapPin className=\"h-4 w-4 mt-0.5\" />\n\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">Shipping Address</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground ml-6\">\n\t\t\t\t\t\t\t\t\t<p>123 Main Street</p>\n\t\t\t\t\t\t\t\t\t<p>Apt 4B</p>\n\t\t\t\t\t\t\t\t\t<p>New York, NY 10001</p>\n\t\t\t\t\t\t\t\t\t<p>United States</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2 mb-2\">\n\t\t\t\t\t\t\t\t\t<MapPin className=\"h-4 w-4 mt-0.5\" />\n\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">Billing Address</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground ml-6\">\n\t\t\t\t\t\t\t\t\t<p>123 Main Street</p>\n\t\t\t\t\t\t\t\t\t<p>Apt 4B</p>\n\t\t\t\t\t\t\t\t\t<p>New York, NY 10001</p>\n\t\t\t\t\t\t\t\t\t<p>United States</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TabsContent>\n\t\t\t\t</Tabs>\n\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"button\">Send Email</Button>\n\t\t\t\t</DialogFooter>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\ninterface CustomerFormDialogProps {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tcustomer?: Customer | null;\n\tmode: \"create\" | \"edit\";\n\tonSuccess?: () => void;\n}\n\nexport function CustomerFormDialog({\n\topen,\n\tonOpenChange,\n\tcustomer,\n\tmode,\n\tonSuccess,\n}: CustomerFormDialogProps) {\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst [firstName, setFirstName] = useState(\"\");\n\tconst [lastName, setLastName] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [phone, setPhone] = useState(\"\");\n\tconst [acceptsMarketing, setAcceptsMarketing] = useState(false);\n\tconst [notes, setNotes] = useState(\"\");\n\n\t// Reset form when dialog opens or customer changes\n\tuseEffect(() => {\n\t\tif (open) {\n\t\t\tif (mode === \"edit\" && customer) {\n\t\t\t\t// Parse name into first/last names\n\t\t\t\tconst nameParts = customer.name.split(\" \");\n\t\t\t\tsetFirstName(nameParts[0] || \"\");\n\t\t\t\tsetLastName(nameParts.slice(1).join(\" \") || \"\");\n\t\t\t\tsetEmail(customer.email);\n\t\t\t\tsetPhone(customer.phone === \"N/A\" ? \"\" : customer.phone);\n\t\t\t\tsetAcceptsMarketing(false);\n\t\t\t\tsetNotes(\"\");\n\t\t\t} else {\n\t\t\t\tsetFirstName(\"\");\n\t\t\t\tsetLastName(\"\");\n\t\t\t\tsetEmail(\"\");\n\t\t\t\tsetPhone(\"\");\n\t\t\t\tsetAcceptsMarketing(false);\n\t\t\t\tsetNotes(\"\");\n\t\t\t}\n\t\t}\n\t}, [open, mode, customer]);\n\n\tconst handleSubmit = async (e: React.FormEvent) => {\n\t\te.preventDefault();\n\n\t\tif (!email.trim()) {\n\t\t\ttoast.error(\"Email is required\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsSubmitting(true);\n\t\ttry {\n\t\t\tconst data = {\n\t\t\t\temail: email.trim(),\n\t\t\t\tfirstName: firstName.trim() || undefined,\n\t\t\t\tlastName: lastName.trim() || undefined,\n\t\t\t\tphone: phone.trim() || undefined,\n\t\t\t\tacceptsMarketing,\n\t\t\t};\n\n\t\t\tif (mode === \"create\") {\n\t\t\t\tawait createCustomer(data);\n\t\t\t\ttoast.success(\"Customer created successfully\");\n\t\t\t} else if (customer) {\n\t\t\t\tawait updateCustomer(customer.id, data);\n\t\t\t\ttoast.success(\"Customer updated successfully\");\n\t\t\t}\n\n\t\t\tonOpenChange(false);\n\t\t\tonSuccess?.();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to save customer:\", error);\n\t\t\ttoast.error(\n\t\t\t\terror instanceof Error ? error.message : \"Failed to save customer\",\n\t\t\t);\n\t\t} finally {\n\t\t\tsetIsSubmitting(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t{mode === \"create\" ? \"Create New Customer\" : \"Edit Customer\"}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t{mode === \"create\"\n\t\t\t\t\t\t\t? \"Add a new customer to your database\"\n\t\t\t\t\t\t\t: \"Update customer information\"}\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t</DialogHeader>\n\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<Tabs defaultValue=\"personal\" className=\"w-full\">\n\t\t\t\t\t\t<TabsList className=\"grid w-full grid-cols-2\">\n\t\t\t\t\t\t\t<TabsTrigger value=\"personal\">Personal Info</TabsTrigger>\n\t\t\t\t\t\t\t<TabsTrigger value=\"address\">Address</TabsTrigger>\n\t\t\t\t\t\t</TabsList>\n\n\t\t\t\t\t\t<TabsContent value=\"personal\" className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"firstName\">First Name</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\t\t\t\t\tvalue={firstName}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setFirstName(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"John\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"lastName\">Last Name</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\t\t\t\t\tvalue={lastName}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setLastName(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Doe\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"customerEmail\">Email *</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid=\"customerEmail\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t\t\t\tplaceholder=\"customer@example.com\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"customerPhone\">Phone</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid=\"customerPhone\"\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setPhone(e.target.value)}\n\t\t\t\t\t\t\t\t\tplaceholder=\"+1 (555) 123-4567\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label htmlFor=\"acceptsMarketing\">Email Marketing</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\tCustomer agrees to receive marketing emails\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tid=\"acceptsMarketing\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={acceptsMarketing}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setAcceptsMarketing(e.target.checked)}\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"notes\">Notes</Label>\n\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\tid=\"notes\"\n\t\t\t\t\t\t\t\t\tvalue={notes}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNotes(e.target.value)}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Internal notes about this customer...\"\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabsContent>\n\n\t\t\t\t\t\t<TabsContent value=\"address\" className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"text-center py-8\">\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tAddress management will be available after creating the customer\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\tAddresses can be added via the customer detail view\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</TabsContent>\n\t\t\t\t\t</Tabs>\n\n\t\t\t\t\t<DialogFooter className=\"mt-6\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => onOpenChange(false)}\n\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton type=\"submit\" disabled={isSubmitting}>\n\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n\t\t\t\t\t\t\t\t\t{mode === \"create\" ? \"Creating...\" : \"Saving...\"}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : mode === \"create\" ? (\n\t\t\t\t\t\t\t\t\"Create Customer\"\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"Save Changes\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</form>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\ninterface DeleteCustomerDialogProps {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tcustomer: Customer | null;\n\tonConfirm?: () => void;\n}\n\nexport function DeleteCustomerDialog({\n\topen,\n\tonOpenChange,\n\tcustomer,\n\tonConfirm,\n}: DeleteCustomerDialogProps) {\n\tconst handleDelete = () => {\n\t\tif (onConfirm) {\n\t\t\tonConfirm();\n\t\t} else {\n\t\t\tonOpenChange(false);\n\t\t}\n\t};\n\n\tif (!customer) return null;\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>Delete Customer</DialogTitle>\n\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\tAre you sure you want to delete this customer? This will also remove\n\t\t\t\t\t\tall associated data. This action cannot be undone.\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t</DialogHeader>\n\n\t\t\t\t<div className=\"p-4 border rounded-lg bg-muted/30 space-y-2\">\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Name:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">{customer.name}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Email:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">{customer.email}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Total Orders:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">{customer.orders}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">Total Spent:</span>\n\t\t\t\t\t\t<span className=\"font-medium\">{customer.totalSpent}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<DialogFooter>\n\t\t\t\t\t<Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"destructive\" onClick={handleDelete}>\n\t\t\t\t\t\tDelete Customer\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogFooter>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2109, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/customers.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getCustomers() {\n  const { tenantId } = await requireStoreAccess();\n\n  const customers = await db.customer.findMany({\n    where: { tenantId },\n    include: {\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return customers;\n}\n\nexport async function getCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      orders: {\n        orderBy: { createdAt: \"desc\" },\n        take: 10,\n      },\n      addresses: true,\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found\");\n  }\n\n  return customer;\n}\n\ninterface CreateCustomerInput {\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function createCustomer(input: CreateCustomerInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if customer with this email already exists for this tenant\n  const existing = await db.customer.findFirst({\n    where: {\n      email: input.email,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Customer with this email already exists\");\n  }\n\n  const customer = await db.customer.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return customer;\n}\n\ninterface UpdateCustomerInput {\n  email?: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function updateCustomer(\n  id: string,\n  input: UpdateCustomerInput\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  // If email is being changed, check for duplicates\n  if (input.email && input.email !== customer.email) {\n    const existing = await db.customer.findFirst({\n      where: {\n        email: input.email,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Customer with this email already exists\");\n    }\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      _count: {\n        select: { orders: true },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  if (customer._count.orders > 0) {\n    throw new Error(\n      \"Cannot delete customer with existing orders. Consider anonymizing instead.\"\n    );\n  }\n\n  await db.customer.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n\nexport async function anonymizeCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: {\n      email: `deleted-${id}@anonymized.local`,\n      firstName: \"Deleted\",\n      lastName: \"Customer\",\n      phone: null,\n      acceptsMarketing: false,\n    },\n  });\n\n  return updated;\n}\n"],"names":[],"mappings":";;;;;;;MAgCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,gDAAA"}},
    {"offset": {"line": 2126, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/customers.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n  const session = await auth();\n  if (!session?.user?.id) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const tenant = await requireAdminTenant();\n  \n  const staffRecord = await db.tenantStaff.findFirst({\n    where: {\n      userId: session.user.id,\n      tenantId: tenant.id,\n    },\n  });\n\n  if (!staffRecord) {\n    throw new Error(\"Forbidden: No access to this store\");\n  }\n\n  return {\n    userId: session.user.id,\n    tenantId: tenant.id,\n    role: staffRecord.role,\n  };\n}\n\nexport async function getCustomers() {\n  const { tenantId } = await requireStoreAccess();\n\n  const customers = await db.customer.findMany({\n    where: { tenantId },\n    include: {\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return customers;\n}\n\nexport async function getCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      orders: {\n        orderBy: { createdAt: \"desc\" },\n        take: 10,\n      },\n      addresses: true,\n      _count: {\n        select: {\n          orders: true,\n          addresses: true,\n        },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found\");\n  }\n\n  return customer;\n}\n\ninterface CreateCustomerInput {\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function createCustomer(input: CreateCustomerInput) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Check if customer with this email already exists for this tenant\n  const existing = await db.customer.findFirst({\n    where: {\n      email: input.email,\n      tenantId,\n    },\n  });\n\n  if (existing) {\n    throw new Error(\"Customer with this email already exists\");\n  }\n\n  const customer = await db.customer.create({\n    data: {\n      ...input,\n      tenantId,\n    },\n  });\n\n  return customer;\n}\n\ninterface UpdateCustomerInput {\n  email?: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  acceptsMarketing?: boolean;\n}\n\nexport async function updateCustomer(\n  id: string,\n  input: UpdateCustomerInput\n) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  // If email is being changed, check for duplicates\n  if (input.email && input.email !== customer.email) {\n    const existing = await db.customer.findFirst({\n      where: {\n        email: input.email,\n        tenantId,\n        id: { not: id },\n      },\n    });\n\n    if (existing) {\n      throw new Error(\"Customer with this email already exists\");\n    }\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: input,\n  });\n\n  return updated;\n}\n\nexport async function deleteCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n    include: {\n      _count: {\n        select: { orders: true },\n      },\n    },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  if (customer._count.orders > 0) {\n    throw new Error(\n      \"Cannot delete customer with existing orders. Consider anonymizing instead.\"\n    );\n  }\n\n  await db.customer.delete({\n    where: { id },\n  });\n\n  return { success: true };\n}\n\nexport async function anonymizeCustomer(id: string) {\n  const { tenantId } = await requireStoreAccess();\n\n  // Verify customer belongs to tenant\n  const customer = await db.customer.findFirst({\n    where: { id, tenantId },\n  });\n\n  if (!customer) {\n    throw new Error(\"Customer not found or access denied\");\n  }\n\n  const updated = await db.customer.update({\n    where: { id },\n    data: {\n      email: `deleted-${id}@anonymized.local`,\n      firstName: \"Deleted\",\n      lastName: \"Customer\",\n      phone: null,\n      acceptsMarketing: false,\n    },\n  });\n\n  return updated;\n}\n"],"names":[],"mappings":";;;;;;;MA6JsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,kDAAA"}},
    {"offset": {"line": 2143, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/customers/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Download, Filter, Loader2, MoreVertical, Plus, Search, Users } from \"lucide-react\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"sonner\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport {\n\tEmpty,\n\tEmptyContent,\n\tEmptyDescription,\n\tEmptyHeader,\n\tEmptyMedia,\n\tEmptyTitle,\n} from \"@/components/ui/empty\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuLabel,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport {\n\tCustomerFormDialog,\n\tDeleteCustomerDialog,\n\tViewCustomerDialog,\n} from \"./_components/customer-dialogs\";\nimport { getCustomers, deleteCustomer } from \"@/server/api/internal/customers\";\n\n// UI Customer type for display\ninterface Customer {\n\tid: string;\n\tname: string;\n\temail: string;\n\tphone: string;\n\torders: number;\n\ttotalSpent: string;\n\tstatus: string;\n\tjoined: string;\n}\n\nexport default function CustomersPage() {\n\tconst [customers, setCustomers] = useState<Customer[]>([]);\n\tconst [filteredCustomers, setFilteredCustomers] = useState<Customer[]>([]);\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [searchQuery, setSearchQuery] = useState(``);\n\n\t// Dialog states\n\tconst [viewDialog, setViewDialog] = useState(false);\n\tconst [createDialog, setCreateDialog] = useState(false);\n\tconst [editDialog, setEditDialog] = useState(false);\n\tconst [deleteDialog, setDeleteDialog] = useState(false);\n\tconst [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(\n\t\tnull,\n\t);\n\n\tconst fetchCustomers = useCallback(async () => {\n\t\tsetIsLoading(true);\n\t\ttry {\n\t\t\tconst data = await getCustomers();\n\t\t\t// Transform API data to UI format\n\t\t\tconst transformed = data.map((customer): Customer => ({\n\t\t\t\tid: customer.id,\n\t\t\t\tname: `${customer.firstName || \"\"} ${customer.lastName || \"\"}`.trim() || \"Unknown\",\n\t\t\t\temail: customer.email,\n\t\t\t\tphone: customer.phone || \"N/A\",\n\t\t\t\torders: customer._count.orders,\n\t\t\t\ttotalSpent: \"$0.00\", // TODO: Calculate from orders\n\t\t\t\tstatus: customer.isActive ? \"Active\" : \"Inactive\",\n\t\t\t\tjoined: new Date(customer.createdAt).toLocaleDateString(\"en-US\", {\n\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\tday: \"numeric\",\n\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t}),\n\t\t\t}));\n\t\t\tsetCustomers(transformed);\n\t\t\tsetFilteredCustomers(transformed);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to fetch customers:\", error);\n\t\t\ttoast.error(\"Failed to load customers\");\n\t\t} finally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tfetchCustomers();\n\t}, [fetchCustomers]);\n\n\t// Filter customers based on search\n\tuseEffect(() => {\n\t\tif (!searchQuery.trim()) {\n\t\t\tsetFilteredCustomers(customers);\n\t\t\treturn;\n\t\t}\n\n\t\tconst query = searchQuery.toLowerCase();\n\t\tconst filtered = customers.filter(\n\t\t\t(customer) =>\n\t\t\t\tcustomer.name.toLowerCase().includes(query) ||\n\t\t\t\tcustomer.email.toLowerCase().includes(query) ||\n\t\t\t\tcustomer.phone.toLowerCase().includes(query),\n\t\t);\n\t\tsetFilteredCustomers(filtered);\n\t}, [searchQuery, customers]);\n\n\t// Event handlers\n\tconst handleView = (customer: Customer) => {\n\t\tsetSelectedCustomer(customer);\n\t\tsetViewDialog(true);\n\t};\n\n\tconst handleEdit = (customer: Customer) => {\n\t\tsetSelectedCustomer(customer);\n\t\tsetEditDialog(true);\n\t};\n\n\tconst handleDeleteClick = (customer: Customer) => {\n\t\tsetSelectedCustomer(customer);\n\t\tsetDeleteDialog(true);\n\t};\n\n\tconst handleDeleteConfirm = async () => {\n\t\tif (!selectedCustomer) return;\n\n\t\ttry {\n\t\t\tawait deleteCustomer(selectedCustomer.id);\n\t\t\ttoast.success(\"Customer deleted successfully\");\n\t\t\tsetDeleteDialog(false);\n\t\t\tsetSelectedCustomer(null);\n\t\t\tfetchCustomers();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to delete customer:\", error);\n\t\t\ttoast.error(\"Failed to delete customer\");\n\t\t}\n\t};\n\n\tconst handleCreate = () => {\n\t\tsetSelectedCustomer(null);\n\t\tsetCreateDialog(true);\n\t};\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1 className=\"text-3xl font-bold tracking-tight\">Customers</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\t\tManage and view customer information\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<PolarisButton type=\"button\" onClick={handleCreate}>\n\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\tAdd Customer\n\t\t\t\t</PolarisButton>\n\t\t\t</div>{\" \"}\n\t\t\t{/* Stats */}\n\t\t\t<div className=\"grid gap-4 md:grid-cols-4\">\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Total Customers</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{customers.length}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Active Customers</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{customers.filter((c) => c.status === \"Active\").length}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Total Orders</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{customers.reduce((acc, c) => acc + c.orders, 0)}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Avg. Orders/Customer</p>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{customers.length > 0\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t\tcustomers.reduce((acc, c) => acc + c.orders, 0) /\n\t\t\t\t\t\t\t\t\tcustomers.length\n\t\t\t\t\t\t\t\t).toFixed(1)\n\t\t\t\t\t\t\t: 0}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t\t{/* Filters */}\n\t\t\t<Card className=\"p-4\">\n\t\t\t\t<div className=\"flex flex-col sm:flex-row gap-4\">\n\t\t\t\t\t<div className=\"relative flex-1\">\n\t\t\t\t\t\t<Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\tplaceholder=\"Search by name, email, or phone...\"\n\t\t\t\t\t\t\tclassName=\"pl-9\"\n\t\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\t\tonChange={(e) => setSearchQuery(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button type=\"button\" variant=\"outline\">\n\t\t\t\t\t\t<Filter className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tMore Filters\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"button\" variant=\"outline\">\n\t\t\t\t\t\t<Download className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tExport\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t\t{/* Customers Table */}\n\t\t\t<Card>\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<div className=\"flex items-center justify-center min-h-[300px]\">\n\t\t\t\t\t\t<Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n\t\t\t\t\t</div>\n\t\t\t\t) : filteredCustomers.length === 0 ? (\n\t\t\t\t\t<Empty>\n\t\t\t\t\t\t<EmptyHeader>\n\t\t\t\t\t\t\t<EmptyMedia variant=\"icon\">\n\t\t\t\t\t\t\t\t<Users className=\"h-8 w-8\" />\n\t\t\t\t\t\t\t</EmptyMedia>\n\t\t\t\t\t\t\t<EmptyTitle>\n\t\t\t\t\t\t\t\t{searchQuery ? \"No customers found\" : \"No customers yet\"}\n\t\t\t\t\t\t\t</EmptyTitle>\n\t\t\t\t\t\t\t<EmptyDescription>\n\t\t\t\t\t\t\t\t{searchQuery\n\t\t\t\t\t\t\t\t\t? \"Try adjusting your search\"\n\t\t\t\t\t\t\t\t\t: \"Customers will appear here when they sign up\"}\n\t\t\t\t\t\t\t</EmptyDescription>\n\t\t\t\t\t\t</EmptyHeader>\n\t\t\t\t\t\t{!searchQuery && (\n\t\t\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t\t\t<PolarisButton type=\"button\" onClick={handleCreate}>\n\t\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\tAdd Customer\n\t\t\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t\t\t</EmptyContent>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Empty>\n\t\t\t\t) : (\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableHead>Customer</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Contact</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Orders</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Total Spent</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Status</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Joined</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"w-[70px]\"></TableHead>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{filteredCustomers.map((customer) => (\n\t\t\t\t\t\t\t\t<TableRow key={customer.id} className=\"cursor-pointer\">\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{customer.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t.split(` `)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.map((n) => n[0])\n\t\t\t\t\t\t\t\t\t\t\t\t\t.join(``)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-sm\">{customer.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tID: {customer.id}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t<p>{customer.email}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{customer.phone}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{customer.orders}</span>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{customer.totalSpent}</span>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`px-2 py-1 text-xs font-medium rounded-full ${\n\t\t\t\t\t\t\t\t\t\t\t\tcustomer.status === `Active`\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300`\n\t\t\t\t\t\t\t\t\t\t\t\t\t: `bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300`\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{customer.status}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"text-sm\">{customer.joined}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"ghost\" size=\"icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MoreVertical className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuLabel>Actions</DropdownMenuLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem onClick={() => handleView(customer)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView profile\n\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem>View orders</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem onClick={() => handleEdit(customer)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit customer\n\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem>Send email</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem>Reset password</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-red-600\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteClick(customer)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete customer\n\t\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuContent>\n\t\t\t\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)}\n\t\t\t</Card>\n\t\t\t{/* Pagination */}\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\tShowing <span className=\"font-medium\">1-{filteredCustomers.length}</span> of\n\t\t\t\t\t{` `}\n\t\t\t\t\t<span className=\"font-medium\">{filteredCustomers.length}</span> customers\n\t\t\t\t</p>\n\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t<Button type=\"button\" variant=\"outline\" size=\"sm\" disabled>\n\t\t\t\t\t\tPrevious\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"button\" variant=\"outline\" size=\"sm\" disabled>\n\t\t\t\t\t\tNext\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* CRUD Dialogs */}\n\t\t\t<ViewCustomerDialog\n\t\t\t\topen={viewDialog}\n\t\t\t\tonOpenChange={setViewDialog}\n\t\t\t\tcustomer={selectedCustomer}\n\t\t\t/>\n\t\t\t<CustomerFormDialog\n\t\t\t\topen={createDialog}\n\t\t\t\tonOpenChange={setCreateDialog}\n\t\t\t\tmode=\"create\"\n\t\t\t\tonSuccess={fetchCustomers}\n\t\t\t/>\n\t\t\t<CustomerFormDialog\n\t\t\t\topen={editDialog}\n\t\t\t\tonOpenChange={setEditDialog}\n\t\t\t\tmode=\"edit\"\n\t\t\t\tcustomer={selectedCustomer}\n\t\t\t\tonSuccess={fetchCustomers}\n\t\t\t/>\n\t\t\t<DeleteCustomerDialog\n\t\t\t\topen={deleteDialog}\n\t\t\t\tonOpenChange={setDeleteDialog}\n\t\t\t\tcustomer={selectedCustomer}\n\t\t\t\tonConfirm={handleDeleteConfirm}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}