{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/admin/polaris-button.tsx"],"sourcesContent":["import type React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface PolarisButtonProps\n\textends React.ButtonHTMLAttributes<HTMLButtonElement> {\n\tchildren: React.ReactNode;\n\tsize?: \"micro\" | \"slim\" | \"medium\" | \"large\";\n\tfullWidth?: boolean;\n\tloading?: boolean;\n\tdisabled?: boolean;\n\ticon?: React.ReactNode;\n}\n\nexport function PolarisButton({\n\tchildren,\n\tsize = \"slim\",\n\tfullWidth = false,\n\tloading = false,\n\tdisabled = false,\n\ticon,\n\tclassName,\n\t...props\n}: PolarisButtonProps) {\n\tconst sizeClasses = {\n\t\tmicro: \"h-7 px-2.5 text-xs\",\n\t\tslim: \"h-9 px-3 text-sm\",\n\t\tmedium: \"h-10 px-4 text-sm\",\n\t\tlarge: \"h-12 px-5 text-base\",\n\t};\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdisabled={disabled || loading}\n\t\t\tclassName={cn(\n\t\t\t\t// Base styles matching Polaris primary button\n\t\t\t\t\"relative inline-flex items-center justify-center gap-2\",\n\t\t\t\t\"font-semibold rounded-[10px] cursor-pointer\",\n\t\t\t\t\"transition-all duration-200 ease-out\",\n\t\t\t\t\"outline-none focus-visible:outline-2 focus-visible:outline-offset-2\",\n\n\t\t\t\t\"border-0\",\n\t\t\t\t\"shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.6),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\n\t\t\t\t\"bg-linear-to-b from-[#4a4a4a] to-[#303030]\",\n\n\t\t\t\t// Text colors from Polaris tokens\n\t\t\t\t\"text-white\",\n\n\t\t\t\t\"hover:before:absolute hover:before:inset-0 hover:before:rounded-[10px] hover:before:bg-black hover:before:opacity-30 hover:before:transition-opacity hover:before:duration-200 hover:before:content-['']\",\n\n\t\t\t\t// Disabled state\n\t\t\t\t\"disabled:bg-linear-to-b disabled:from-[rgba(0,0,0,0.2)] disabled:to-[rgba(0,0,0,0.17)]\",\n\t\t\t\t\"disabled:text-[rgba(255,255,255,0.6)]\",\n\t\t\t\t\"disabled:cursor-not-allowed\",\n\t\t\t\t\"disabled:shadow-[inset_0_1.5px_0_0_rgba(0,0,0,0.2),inset_1.5px_0_0_0_rgba(0,0,0,0.2),inset_-1.5px_0_0_0_rgba(0,0,0,0.2),inset_0_-3px_0_0_rgba(0,0,0,0.2)]\",\n\t\t\t\t\"disabled:hover:before:opacity-0\",\n\n\t\t\t\t// Focus state border\n\t\t\t\t\"focus-visible:outline-[#005BD3]\",\n\n\t\t\t\t\"active:shadow-[inset_0_4px_0_0_rgba(0,0,0,0.8),inset_1.5px_0_0_0_rgba(0,0,0,0.8),inset_-1.5px_0_0_0_rgba(0,0,0,0.8),inset_0_-3px_0_0_rgba(0,0,0,0.8)]\",\n\t\t\t\t\"active:bg-linear-to-b active:from-[#2a2a2a] active:to-[#1a1a1a]\",\n\t\t\t\t\"active:[&>span:last-child]:translate-y-px\",\n\n\t\t\t\t// Size variants\n\t\t\t\tsizeClasses[size],\n\n\t\t\t\t// Full width\n\t\t\t\tfullWidth && \"w-full\",\n\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<span className=\"absolute inset-0 rounded-[10px] pointer-events-none shadow-[inset_0_3px_0_0_rgba(255,255,255,0.2),inset_1.5px_0_0_0_rgba(255,255,255,0.1),inset_-1.5px_0_0_0_rgba(255,255,255,0.1)] active:opacity-0 transition-opacity duration-200\" />\n\n\t\t\t<span className=\"relative flex items-center justify-center gap-2 transition-transform duration-200\">\n\t\t\t\t{loading ? (\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\"animate-spin size-4\"\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<title>Loading</title>\n\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\tclassName=\"opacity-25\"\n\t\t\t\t\t\t\tcx=\"12\"\n\t\t\t\t\t\t\tcy=\"12\"\n\t\t\t\t\t\t\tr=\"10\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tclassName=\"opacity-75\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t) : (\n\t\t\t\t\ticon && <span className=\"shrink-0\">{icon}</span>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</span>\n\t\t</button>\n\t);\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAYO,SAAS,cAAc,EAC7B,QAAQ,EACR,OAAO,MAAM,EACb,YAAY,KAAK,EACjB,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,IAAI,EACJ,SAAS,EACT,GAAG,OACiB;IACpB,MAAM,cAAc;QACnB,OAAO;QACP,MAAM;QACN,QAAQ;QACR,OAAO;IACR;IAEA,qBACC,6LAAC;QACA,MAAK;QACL,UAAU,YAAY;QACtB,WAAW,IAAA,gJAAE,EACZ,8CAA8C;QAC9C,0DACA,+CACA,wCACA,uEAEA,YACA,oJAEA,8CAEA,kCAAkC;QAClC,cAEA,4MAEA,iBAAiB;QACjB,0FACA,yCACA,+BACA,6JACA,mCAEA,qBAAqB;QACrB,mCAEA,yJACA,mEACA,6CAEA,gBAAgB;QAChB,WAAW,CAAC,KAAK,EAEjB,aAAa;QACb,aAAa,UAEb;QAEA,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;;;;;;0BAEhB,6LAAC;gBAAK,WAAU;;oBACd,wBACA,6LAAC;wBACA,WAAU;wBACV,OAAM;wBACN,MAAK;wBACL,SAAQ;;0CAER,6LAAC;0CAAM;;;;;;0CACP,6LAAC;gCACA,WAAU;gCACV,IAAG;gCACH,IAAG;gCACH,GAAE;gCACF,QAAO;gCACP,aAAY;;;;;;0CAEb,6LAAC;gCACA,WAAU;gCACV,MAAK;gCACL,GAAE;;;;;;;;;;;+BAIJ,sBAAQ,6LAAC;wBAAK,WAAU;kCAAY;;;;;;oBAEpC;;;;;;;;;;;;;AAIL;KA9FgB"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"rounded-lg border bg-card text-card-foreground shadow-sm\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n\t\t{...props}\n\t/>\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"text-2xl font-semibold leading-none tracking-tight\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n\t<div\n\t\tref={ref}\n\t\tclassName={cn(\"flex items-center p-6 pt-0\", className)}\n\t\t{...props}\n\t/>\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardDescription,\n\tCardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,4DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,sDACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGX,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAE/D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, Minus } from \"lucide-react\";\nimport { Checkbox as CheckboxPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define the variants for the Checkbox using cva.\nconst checkboxVariants = cva(\n\t`\n    group peer bg-background shrink-0 rounded-md border border-input ring-offset-background focus-visible:outline-none \n    focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20,\n    data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=checked]:text-primary-foreground data-[state=indeterminate]:bg-primary data-[state=indeterminate]:border-primary data-[state=indeterminate]:text-primary-foreground\n    `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"size-4.5 [&_svg]:size-3\",\n\t\t\t\tmd: \"size-5 [&_svg]:size-3.5\",\n\t\t\t\tlg: \"size-5.5 [&_svg]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nfunction Checkbox({\n\tclassName,\n\tsize,\n\t...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root> &\n\tVariantProps<typeof checkboxVariants>) {\n\treturn (\n\t\t<CheckboxPrimitive.Root\n\t\t\tdata-slot=\"checkbox\"\n\t\t\tclassName={cn(checkboxVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<CheckboxPrimitive.Indicator\n\t\t\t\tclassName={cn(\"flex items-center justify-center text-current\")}\n\t\t\t>\n\t\t\t\t<Check className=\"group-data-[state=indeterminate]:hidden\" />\n\t\t\t\t<Minus className=\"hidden group-data-[state=indeterminate]:block\" />\n\t\t\t</CheckboxPrimitive.Indicator>\n\t\t</CheckboxPrimitive.Root>\n\t);\n}\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAEA;AANA;;;;;;AAQA,kDAAkD;AAClD,MAAM,mBAAmB,IAAA,0KAAG,EAC3B,CAAC;;;;;;IAME,CAAC,EACJ;IACC,UAAU;QACT,MAAM;YACL,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,MAAM;IACP;AACD;AAGD,SAAS,SAAS,EACjB,SAAS,EACT,IAAI,EACJ,GAAG,OAEkC;IACrC,qBACC,6LAAC,uNAAiB,CAAC,IAAI;QACtB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,iBAAiB;YAAE;QAAK,IAAI;QACzC,GAAG,KAAK;kBAET,cAAA,6LAAC,uNAAiB,CAAC,SAAS;YAC3B,WAAW,IAAA,gJAAE,EAAC;;8BAEd,6LAAC,gNAAK;oBAAC,WAAU;;;;;;8BACjB,6LAAC,gNAAK;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;KApBS"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/input.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Define input size variants\nconst inputVariants = cva(\n\t`\n    flex w-full bg-background border border-input shadow-xs shadow-black/5 transition-[color,box-shadow] text-foreground placeholder:text-muted-foreground/80 \n    focus-visible:ring-ring/30  focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px]     \n    disabled:cursor-not-allowed disabled:opacity-60 \n    [&[readonly]]:bg-muted/80 [&[readonly]]:cursor-not-allowed\n    file:h-full [&[type=file]]:py-0 file:border-solid file:border-input file:bg-transparent \n    file:font-medium file:not-italic file:text-foreground file:p-0 file:border-0 file:border-e\n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tlg: \"h-10 px-4 text-sm rounded-md file:pe-4 file:me-4\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) rounded-md file:pe-3 file:me-3\",\n\t\t\t\tsm: \"h-7 px-2.5 text-xs rounded-md file:pe-2.5 file:me-2.5\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nconst inputAddonVariants = cva(\n\t\"flex items-center shrink-0 justify-center bg-muted border border-input shadow-xs shadow-[rgba(0,0,0,0.05)] text-secondary-foreground\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"rounded-md h-7 min-w-7 text-xs px-2.5 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"rounded-md h-8.5 min-w-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t\tlg: \"rounded-md h-10 min-w-10 px-4 text-sm [&_svg:not([class*=size-])]:size-4.5\",\n\t\t\t},\n\t\t\tmode: {\n\t\t\t\tdefault: \"\",\n\t\t\t\ticon: \"px-0 justify-center\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t\tmode: \"default\",\n\t\t},\n\t},\n);\n\nconst inputGroupVariants = cva(\n\t`\n    flex items-stretch\n    [&_[data-slot=input]]:grow\n    [&_[data-slot=input-addon]:has(+[data-slot=input])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=input])]:border-e-0\n    [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:rounded-e-none [&_[data-slot=input-addon]:has(+[data-slot=datefield])]:border-e-0 \n    [&_[data-slot=input]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=input]+[data-slot=input-addon]]:border-s-0\n    [&_[data-slot=input-addon]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]+[data-slot=button]]:rounded-s-none\n    [&_[data-slot=button]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=input]]:rounded-s-none\n    [&_[data-slot=input-addon]+[data-slot=datefield]]:[&_[data-slot=input]]:rounded-s-none\n    [&_[data-slot=datefield]:has(+[data-slot=input-addon])]:[&_[data-slot=input]]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=button])]:rounded-e-none\n    [&_[data-slot=input]:has(+[data-slot=input-addon])]:rounded-e-none\n    [&_[data-slot=datefield]]:grow\n    [&_[data-slot=datefield]+[data-slot=input-addon]]:rounded-s-none [&_[data-slot=datefield]+[data-slot=input-addon]]:border-s-0\n  `,\n\t{\n\t\tvariants: {},\n\t\tdefaultVariants: {},\n\t},\n);\n\nconst inputWrapperVariants = cva(\n\t`\n    flex items-center gap-1.5\n    has-[:focus-visible]:ring-ring/30 \n    has-[:focus-visible]:border-ring\n    has-[:focus-visible]:outline-none \n    has-[:focus-visible]:ring-[3px]\n\n    [&_[data-slot=datefield]]:grow \n    [&_[data-slot=input]]:data-focus-within:ring-transparent  \n    [&_[data-slot=input]]:data-focus-within:ring-0 \n    [&_[data-slot=input]]:data-focus-within:border-0 \n    [&_[data-slot=input]]:flex \n    [&_[data-slot=input]]:w-full \n    [&_[data-slot=input]]:outline-none \n    [&_[data-slot=input]]:transition-colors \n    [&_[data-slot=input]]:text-foreground\n    [&_[data-slot=input]]:placeholder:text-muted-foreground \n    [&_[data-slot=input]]:border-0 \n    [&_[data-slot=input]]:bg-transparent \n    [&_[data-slot=input]]:p-0\n    [&_[data-slot=input]]:shadow-none \n    [&_[data-slot=input]]:focus-visible:ring-0 \n    [&_[data-slot=input]]:h-auto \n    [&_[data-slot=input]]:disabled:cursor-not-allowed\n    [&_[data-slot=input]]:disabled:opacity-50    \n\n    has-[[aria-invalid=true]]:border-destructive/60 \n    has-[[aria-invalid=true]]:ring-destructive/10 \n    dark:has-[[aria-invalid=true]]:border-destructive \n    dark:has-[[aria-invalid=true]]:ring-destructive/20    \n  `,\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tsm: \"gap-1.25 [&_svg:not([class*=size-])]:size-3.5\",\n\t\t\t\tmd: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t\tlg: \"gap-1.5 [&_svg:not([class*=size-])]:size-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"md\",\n\t\t},\n\t},\n);\n\nfunction Input({\n\tclassName,\n\ttype,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"input\"> & VariantProps<typeof inputVariants>) {\n\treturn (\n\t\t<input\n\t\t\tdata-slot=\"input\"\n\t\t\ttype={type}\n\t\t\tclassName={cn(inputVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputAddon({\n\tclassName,\n\tvariant,\n\tmode,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputAddonVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-addon\"\n\t\t\tclassName={cn(inputAddonVariants({ variant, mode }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputGroup({\n\tclassName,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-group\"\n\t\t\tclassName={cn(inputGroupVariants(), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction InputWrapper({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputWrapperVariants>) {\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"input-wrapper\"\n\t\t\tclassName={cn(\n\t\t\t\tinputVariants({ variant }),\n\t\t\t\tinputWrapperVariants({ variant }),\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tInput,\n\tInputAddon,\n\tInputGroup,\n\tInputWrapper,\n\tinputVariants,\n\tinputAddonVariants,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,IAAA,0KAAG,EACxB,CAAC;;;;;;;;EAQA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,wIACA;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;QACA,MAAM;YACL,SAAS;YACT,MAAM;QACP;IACD;IACA,iBAAiB;QAChB,SAAS;QACT,MAAM;IACP;AACD;AAGD,MAAM,qBAAqB,IAAA,0KAAG,EAC7B,CAAC;;;;;;;;;;;;;;;;EAgBA,CAAC,EACF;IACC,UAAU,CAAC;IACX,iBAAiB,CAAC;AACnB;AAGD,MAAM,uBAAuB,IAAA,0KAAG,EAC/B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BA,CAAC,EACF;IACC,UAAU;QACT,SAAS;YACR,IAAI;YACJ,IAAI;YACJ,IAAI;QACL;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,IAAI,EACJ,OAAO,EACP,GAAG,OACiE;IACpE,qBACC,6LAAC;QACA,aAAU;QACV,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAdS;AAgBT,SAAS,WAAW,EACnB,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;YAAE;YAAS;QAAK,IAAI;QACpD,GAAG,KAAK;;;;;;AAGZ;MAbS;AAeT,SAAS,WAAW,EACnB,SAAS,EACT,GAAG,OACoE;IACvE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;AAGZ;MAXS;AAaT,SAAS,aAAa,EACrB,SAAS,EACT,OAAO,EACP,GAAG,OACsE;IACzE,qBACC,6LAAC;QACA,aAAU;QACV,WAAW,IAAA,gJAAE,EACZ,cAAc;YAAE;QAAQ,IACxB,qBAAqB;YAAE;QAAQ,IAC/B;QAEA,GAAG,KAAK;;;;;;AAGZ;MAhBS"}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Label as LabelPrimitive } from \"radix-ui\";\nimport type * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n\t\"text-sm leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tprimary: \"font-medium\",\n\t\t\t\tsecondary: \"font-normal\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"primary\",\n\t\t},\n\t},\n);\n\nfunction Label({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<typeof LabelPrimitive.Root> &\n\tVariantProps<typeof labelVariants>) {\n\treturn (\n\t\t<LabelPrimitive.Root\n\t\t\tdata-slot=\"label\"\n\t\t\tclassName={cn(labelVariants({ variant }), className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,gBAAgB,IAAA,0KAAG,EACxB,kGACA;IACC,UAAU;QACT,SAAS;YACR,SAAS;YACT,WAAW;QACZ;IACD;IACA,iBAAiB;QAChB,SAAS;IACV;AACD;AAGD,SAAS,MAAM,EACd,SAAS,EACT,OAAO,EACP,GAAG,OAE+B;IAClC,qBACC,6LAAC,6OAAc,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGZ;KAbS"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\";\n\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n\tReact.ElementRef<typeof ProgressPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n\t<ProgressPrimitive.Root\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t>\n\t\t<ProgressPrimitive.Indicator\n\t\t\tclassName=\"h-full w-full flex-1 bg-primary transition-all\"\n\t\t\tstyle={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n\t\t/>\n\t</ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBAClC,6LAAC,+KAAsB;QACtB,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,iEACA;QAEA,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC3B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAI7D,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\n\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { Select as SelectPrimitive } from \"radix-ui\";\nimport * as React from \"react\";\nimport { isValidElement, type ReactNode } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\n// Create a Context for `indicatorPosition` and `indicator` control\nconst SelectContext = React.createContext<{\n\tindicatorPosition: \"left\" | \"right\";\n\tindicatorVisibility: boolean;\n\tindicator: ReactNode;\n}>({ indicatorPosition: \"left\", indicator: null, indicatorVisibility: true });\n\n// Root Component\nconst Select = ({\n\tindicatorPosition = \"left\",\n\tindicatorVisibility = true,\n\tindicator,\n\t...props\n}: {\n\tindicatorPosition?: \"left\" | \"right\";\n\tindicatorVisibility?: boolean;\n\tindicator?: ReactNode;\n} & React.ComponentProps<typeof SelectPrimitive.Root>) => {\n\tconst contextValue = React.useMemo(\n\t\t() => ({ indicatorPosition, indicatorVisibility, indicator }),\n\t\t[indicatorPosition, indicatorVisibility, indicator],\n\t);\n\n\treturn (\n\t\t<SelectContext.Provider value={contextValue}>\n\t\t\t<SelectPrimitive.Root {...props} />\n\t\t</SelectContext.Provider>\n\t);\n};\n\nfunction SelectGroup({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n\treturn <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\n}\n\nfunction SelectValue({\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n\treturn <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\n}\n\n// Define size variants for SelectTrigger\nconst selectTriggerVariants = cva(\n\t`\n    flex bg-background w-full items-center justify-between outline-none border border-input shadow-xs shadow-black/5 transition-shadow \n    text-foreground data-placeholder:text-muted-foreground focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] \n    focus-visible:ring-ring/30 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 \n    aria-invalid:border-destructive/60 aria-invalid:ring-destructive/10 dark:aria-invalid:border-destructive dark:aria-invalid:ring-destructive/20\n    [[data-invalid=true]_&]:border-destructive/60 [[data-invalid=true]_&]:ring-destructive/10  dark:[[data-invalid=true]_&]:border-destructive dark:[[data-invalid=true]_&]:ring-destructive/20\n  `,\n\t{\n\t\tvariants: {\n\t\t\tsize: {\n\t\t\t\tsm: \"h-7 px-2.5 text-xs gap-1 rounded-md\",\n\t\t\t\tmd: \"h-8.5 px-3 text-[0.8125rem] leading-(--text-sm--line-height) gap-1 rounded-md\",\n\t\t\t\tlg: \"h-10 px-4 text-sm gap-1.5 rounded-md\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tsize: \"md\",\n\t\t},\n\t},\n);\n\nexport interface SelectTriggerProps\n\textends React.ComponentProps<typeof SelectPrimitive.Trigger>,\n\t\tVariantProps<typeof selectTriggerVariants> {}\n\nfunction SelectTrigger({\n\tclassName,\n\tchildren,\n\tsize,\n\t...props\n}: SelectTriggerProps) {\n\treturn (\n\t\t<SelectPrimitive.Trigger\n\t\t\tdata-slot=\"select-trigger\"\n\t\t\tclassName={cn(selectTriggerVariants({ size }), className)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t\t<SelectPrimitive.Icon asChild>\n\t\t\t\t<ChevronDown className=\"h-4 w-4 opacity-60 -me-0.5\" />\n\t\t\t</SelectPrimitive.Icon>\n\t\t</SelectPrimitive.Trigger>\n\t);\n}\n\nfunction SelectScrollUpButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollUpButton\n\t\t\tdata-slot=\"select-scroll-up-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronUp className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollUpButton>\n\t);\n}\n\nfunction SelectScrollDownButton({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n\treturn (\n\t\t<SelectPrimitive.ScrollDownButton\n\t\t\tdata-slot=\"select-scroll-down-button\"\n\t\t\tclassName={cn(\n\t\t\t\t\"flex cursor-default items-center justify-center py-1\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<ChevronDown className=\"h-4 w-4\" />\n\t\t</SelectPrimitive.ScrollDownButton>\n\t);\n}\n\nfunction SelectContent({\n\tclassName,\n\tchildren,\n\tposition = \"popper\",\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n\treturn (\n\t\t<SelectPrimitive.Portal>\n\t\t\t<SelectPrimitive.Content\n\t\t\t\tdata-slot=\"select-content\"\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover shadow-md shadow-black/5 text-secondary-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\"data-[side=bottom]:translate-y-1.5 data-[side=left]:-translate-x-1.5 data-[side=right]:translate-x-1.5 data-[side=top]:-translate-y-1.5\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t\tposition={position}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<SelectScrollUpButton />\n\t\t\t\t<SelectPrimitive.Viewport\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"p-1.5\",\n\t\t\t\t\t\tposition === \"popper\" &&\n\t\t\t\t\t\t\t\"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</SelectPrimitive.Viewport>\n\t\t\t\t<SelectScrollDownButton />\n\t\t\t</SelectPrimitive.Content>\n\t\t</SelectPrimitive.Portal>\n\t);\n}\n\nfunction SelectLabel({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n\treturn (\n\t\t<SelectPrimitive.Label\n\t\t\tdata-slot=\"select-label\"\n\t\t\tclassName={cn(\n\t\t\t\t\"py-1.5 ps-8 pe-2 text-xs text-muted-foreground font-medium\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nfunction SelectItem({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n\tconst { indicatorPosition, indicatorVisibility, indicator } =\n\t\tReact.useContext(SelectContext);\n\n\treturn (\n\t\t<SelectPrimitive.Item\n\t\t\tdata-slot=\"select-item\"\n\t\t\tclassName={cn(\n\t\t\t\t\"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 text-sm outline-hidden text-foreground hover:bg-accent focus:bg-accent data-disabled:pointer-events-none data-disabled:opacity-50\",\n\t\t\t\tindicatorPosition === \"left\" ? \"ps-8 pe-2\" : \"pe-8 ps-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{indicatorVisibility &&\n\t\t\t\t(indicator && isValidElement(indicator) ? (\n\t\t\t\t\tindicator\n\t\t\t\t) : (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"absolute flex h-3.5 w-3.5 items-center justify-center\",\n\t\t\t\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SelectPrimitive.ItemIndicator>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t</SelectPrimitive.ItemIndicator>\n\t\t\t\t\t</span>\n\t\t\t\t))}\n\t\t\t<SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n\t\t</SelectPrimitive.Item>\n\t);\n}\n\nfunction SelectIndicator({\n\tchildren,\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.ItemIndicator>) {\n\tconst { indicatorPosition } = React.useContext(SelectContext);\n\n\treturn (\n\t\t<span\n\t\t\tdata-slot=\"select-indicator\"\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute flex top-1/2 -translate-y-1/2 items-center justify-center\",\n\t\t\t\tindicatorPosition === \"left\" ? \"start-2\" : \"end-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<SelectPrimitive.ItemIndicator>{children}</SelectPrimitive.ItemIndicator>\n\t\t</span>\n\t);\n}\n\nfunction SelectSeparator({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n\treturn (\n\t\t<SelectPrimitive.Separator\n\t\t\tdata-slot=\"select-separator\"\n\t\t\tclassName={cn(\"-mx-1.5 my-1.5 h-px bg-border\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport {\n\tSelect,\n\tSelectContent,\n\tSelectGroup,\n\tSelectIndicator,\n\tSelectItem,\n\tSelectLabel,\n\tSelectScrollDownButton,\n\tSelectScrollUpButton,\n\tSelectSeparator,\n\tSelectTrigger,\n\tSelectValue,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Table = React.forwardRef<\n\tHTMLTableElement,\n\tReact.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n\t<div className=\"relative w-full overflow-auto\">\n\t\t<table\n\t\t\tref={ref}\n\t\t\tclassName={cn(\"w-full caption-bottom text-sm\", className)}\n\t\t\t{...props}\n\t\t/>\n\t</div>\n));\nTable.displayName = \"Table\";\n\nconst TableHeader = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n));\nTableHeader.displayName = \"TableHeader\";\n\nconst TableBody = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tbody\n\t\tref={ref}\n\t\tclassName={cn(\"[&_tr:last-child]:border-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableBody.displayName = \"TableBody\";\n\nconst TableFooter = React.forwardRef<\n\tHTMLTableSectionElement,\n\tReact.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n\t<tfoot\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableFooter.displayName = \"TableFooter\";\n\nconst TableRow = React.forwardRef<\n\tHTMLTableRowElement,\n\tReact.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n\t<tr\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableRow.displayName = \"TableRow\";\n\nconst TableHead = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<th\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t\"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nTableHead.displayName = \"TableHead\";\n\nconst TableCell = React.forwardRef<\n\tHTMLTableCellElement,\n\tReact.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n\t<td\n\t\tref={ref}\n\t\tclassName={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n\t\t{...props}\n\t/>\n));\nTableCell.displayName = \"TableCell\";\n\nconst TableCaption = React.forwardRef<\n\tHTMLTableCaptionElement,\n\tReact.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n\t<caption\n\t\tref={ref}\n\t\tclassName={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n\t\t{...props}\n\t/>\n));\nTableCaption.displayName = \"TableCaption\";\n\nexport {\n\tTable,\n\tTableHeader,\n\tTableBody,\n\tTableFooter,\n\tTableHead,\n\tTableRow,\n\tTableCell,\n\tTableCaption,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAI,WAAU;kBACd,cAAA,6LAAC;YACA,KAAK;YACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIZ,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAExE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,2DACA;QAEA,GAAG,KAAK;;;;;;;AAGX,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,+EACA;QAEA,GAAG,KAAK;;;;;;;AAGX,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EACZ,oGACA;QAEA,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGX,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,6LAAC;QACA,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGX,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 1066, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/media.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getMediaFiles(folder?: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst where: { tenantId: string; folder?: string } = { tenantId };\n\tif (folder) {\n\t\twhere.folder = folder;\n\t}\n\n\tconst files = await db.media.findMany({\n\t\twhere,\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn files.map((file) => ({\n\t\tid: file.id,\n\t\tfilename: file.filename,\n\t\toriginalName: file.originalName,\n\t\turl: file.url,\n\t\tmimeType: file.mimeType,\n\t\tsize: file.size,\n\t\twidth: file.width,\n\t\theight: file.height,\n\t\taltText: file.altText,\n\t\tfolder: file.folder,\n\t\tcreatedAt: file.createdAt,\n\t\tupdatedAt: file.updatedAt,\n\t}));\n}\n\nexport async function getMediaFile(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found\");\n\t}\n\n\treturn file;\n}\n\nexport interface CreateMediaInput {\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth?: number;\n\theight?: number;\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function createMedia(input: CreateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst media = await db.media.create({\n\t\tdata: {\n\t\t\tfilename: input.filename,\n\t\t\toriginalName: input.originalName,\n\t\t\turl: input.url,\n\t\t\tmimeType: input.mimeType,\n\t\t\tsize: input.size,\n\t\t\twidth: input.width,\n\t\t\theight: input.height,\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn media;\n}\n\nexport interface UpdateMediaInput {\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function updateMedia(id: string, input: UpdateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\tconst updated = await db.media.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteMedia(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function deleteMultipleMedia(ids: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify all files belong to tenant\n\tconst files = await db.media.findMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\tif (files.length !== ids.length) {\n\t\tthrow new Error(\"Some files not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.deleteMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn { success: true, count: files.length };\n}\n\nexport async function getMediaStats() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst [totalFiles, files] = await Promise.all([\n\t\tdb.media.count({ where: { tenantId } }),\n\t\tdb.media.findMany({\n\t\t\twhere: { tenantId },\n\t\t\tselect: {\n\t\t\t\tsize: true,\n\t\t\t\tmimeType: true,\n\t\t\t\tfolder: true,\n\t\t\t},\n\t\t}),\n\t]);\n\n\tconst totalSize = files.reduce((sum, f) => sum + f.size, 0);\n\tconst images = files.filter((f) => f.mimeType.startsWith(\"image/\")).length;\n\tconst documents = files.filter(\n\t\t(f) =>\n\t\t\tf.mimeType.includes(\"pdf\") ||\n\t\t\tf.mimeType.includes(\"document\") ||\n\t\t\tf.mimeType.includes(\"text\"),\n\t).length;\n\tconst videos = files.filter((f) => f.mimeType.startsWith(\"video/\")).length;\n\tconst folders = [...new Set(files.map((f) => f.folder).filter(Boolean))];\n\n\treturn {\n\t\ttotalFiles,\n\t\ttotalSize,\n\t\timages,\n\t\tdocuments,\n\t\tvideos,\n\t\tfolderCount: folders.length,\n\t};\n}\n\nexport async function getFolders() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst files = await db.media.findMany({\n\t\twhere: { tenantId },\n\t\tselect: { folder: true },\n\t\tdistinct: [\"folder\"],\n\t});\n\n\treturn files\n\t\t.map((f) => f.folder)\n\t\t.filter((f): f is string => f !== null && f !== \"\");\n}\n\nexport async function moveToFolder(ids: string[], folder: string | null) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.media.updateMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t\tdata: {\n\t\t\tfolder: folder,\n\t\t},\n\t});\n\n\treturn { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAuIsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/media.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getMediaFiles(folder?: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst where: { tenantId: string; folder?: string } = { tenantId };\n\tif (folder) {\n\t\twhere.folder = folder;\n\t}\n\n\tconst files = await db.media.findMany({\n\t\twhere,\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn files.map((file) => ({\n\t\tid: file.id,\n\t\tfilename: file.filename,\n\t\toriginalName: file.originalName,\n\t\turl: file.url,\n\t\tmimeType: file.mimeType,\n\t\tsize: file.size,\n\t\twidth: file.width,\n\t\theight: file.height,\n\t\taltText: file.altText,\n\t\tfolder: file.folder,\n\t\tcreatedAt: file.createdAt,\n\t\tupdatedAt: file.updatedAt,\n\t}));\n}\n\nexport async function getMediaFile(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found\");\n\t}\n\n\treturn file;\n}\n\nexport interface CreateMediaInput {\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth?: number;\n\theight?: number;\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function createMedia(input: CreateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst media = await db.media.create({\n\t\tdata: {\n\t\t\tfilename: input.filename,\n\t\t\toriginalName: input.originalName,\n\t\t\turl: input.url,\n\t\t\tmimeType: input.mimeType,\n\t\t\tsize: input.size,\n\t\t\twidth: input.width,\n\t\t\theight: input.height,\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn media;\n}\n\nexport interface UpdateMediaInput {\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function updateMedia(id: string, input: UpdateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\tconst updated = await db.media.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteMedia(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function deleteMultipleMedia(ids: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify all files belong to tenant\n\tconst files = await db.media.findMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\tif (files.length !== ids.length) {\n\t\tthrow new Error(\"Some files not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.deleteMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn { success: true, count: files.length };\n}\n\nexport async function getMediaStats() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst [totalFiles, files] = await Promise.all([\n\t\tdb.media.count({ where: { tenantId } }),\n\t\tdb.media.findMany({\n\t\t\twhere: { tenantId },\n\t\t\tselect: {\n\t\t\t\tsize: true,\n\t\t\t\tmimeType: true,\n\t\t\t\tfolder: true,\n\t\t\t},\n\t\t}),\n\t]);\n\n\tconst totalSize = files.reduce((sum, f) => sum + f.size, 0);\n\tconst images = files.filter((f) => f.mimeType.startsWith(\"image/\")).length;\n\tconst documents = files.filter(\n\t\t(f) =>\n\t\t\tf.mimeType.includes(\"pdf\") ||\n\t\t\tf.mimeType.includes(\"document\") ||\n\t\t\tf.mimeType.includes(\"text\"),\n\t).length;\n\tconst videos = files.filter((f) => f.mimeType.startsWith(\"video/\")).length;\n\tconst folders = [...new Set(files.map((f) => f.folder).filter(Boolean))];\n\n\treturn {\n\t\ttotalFiles,\n\t\ttotalSize,\n\t\timages,\n\t\tdocuments,\n\t\tvideos,\n\t\tfolderCount: folders.length,\n\t};\n}\n\nexport async function getFolders() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst files = await db.media.findMany({\n\t\twhere: { tenantId },\n\t\tselect: { folder: true },\n\t\tdistinct: [\"folder\"],\n\t});\n\n\treturn files\n\t\t.map((f) => f.folder)\n\t\t.filter((f): f is string => f !== null && f !== \"\");\n}\n\nexport async function moveToFolder(ids: string[], folder: string | null) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.media.updateMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t\tdata: {\n\t\t\tfolder: folder,\n\t\t},\n\t});\n\n\treturn { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MA2JsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,uDAAA"}},
    {"offset": {"line": 1100, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/media.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getMediaFiles(folder?: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst where: { tenantId: string; folder?: string } = { tenantId };\n\tif (folder) {\n\t\twhere.folder = folder;\n\t}\n\n\tconst files = await db.media.findMany({\n\t\twhere,\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn files.map((file) => ({\n\t\tid: file.id,\n\t\tfilename: file.filename,\n\t\toriginalName: file.originalName,\n\t\turl: file.url,\n\t\tmimeType: file.mimeType,\n\t\tsize: file.size,\n\t\twidth: file.width,\n\t\theight: file.height,\n\t\taltText: file.altText,\n\t\tfolder: file.folder,\n\t\tcreatedAt: file.createdAt,\n\t\tupdatedAt: file.updatedAt,\n\t}));\n}\n\nexport async function getMediaFile(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found\");\n\t}\n\n\treturn file;\n}\n\nexport interface CreateMediaInput {\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth?: number;\n\theight?: number;\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function createMedia(input: CreateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst media = await db.media.create({\n\t\tdata: {\n\t\t\tfilename: input.filename,\n\t\t\toriginalName: input.originalName,\n\t\t\turl: input.url,\n\t\t\tmimeType: input.mimeType,\n\t\t\tsize: input.size,\n\t\t\twidth: input.width,\n\t\t\theight: input.height,\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn media;\n}\n\nexport interface UpdateMediaInput {\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function updateMedia(id: string, input: UpdateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\tconst updated = await db.media.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteMedia(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function deleteMultipleMedia(ids: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify all files belong to tenant\n\tconst files = await db.media.findMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\tif (files.length !== ids.length) {\n\t\tthrow new Error(\"Some files not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.deleteMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn { success: true, count: files.length };\n}\n\nexport async function getMediaStats() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst [totalFiles, files] = await Promise.all([\n\t\tdb.media.count({ where: { tenantId } }),\n\t\tdb.media.findMany({\n\t\t\twhere: { tenantId },\n\t\t\tselect: {\n\t\t\t\tsize: true,\n\t\t\t\tmimeType: true,\n\t\t\t\tfolder: true,\n\t\t\t},\n\t\t}),\n\t]);\n\n\tconst totalSize = files.reduce((sum, f) => sum + f.size, 0);\n\tconst images = files.filter((f) => f.mimeType.startsWith(\"image/\")).length;\n\tconst documents = files.filter(\n\t\t(f) =>\n\t\t\tf.mimeType.includes(\"pdf\") ||\n\t\t\tf.mimeType.includes(\"document\") ||\n\t\t\tf.mimeType.includes(\"text\"),\n\t).length;\n\tconst videos = files.filter((f) => f.mimeType.startsWith(\"video/\")).length;\n\tconst folders = [...new Set(files.map((f) => f.folder).filter(Boolean))];\n\n\treturn {\n\t\ttotalFiles,\n\t\ttotalSize,\n\t\timages,\n\t\tdocuments,\n\t\tvideos,\n\t\tfolderCount: folders.length,\n\t};\n}\n\nexport async function getFolders() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst files = await db.media.findMany({\n\t\twhere: { tenantId },\n\t\tselect: { folder: true },\n\t\tdistinct: [\"folder\"],\n\t});\n\n\treturn files\n\t\t.map((f) => f.folder)\n\t\t.filter((f): f is string => f !== null && f !== \"\");\n}\n\nexport async function moveToFolder(ids: string[], folder: string | null) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.media.updateMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t\tdata: {\n\t\t\tfolder: folder,\n\t\t},\n\t});\n\n\treturn { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MA0NsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,8CAAA"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/media.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getMediaFiles(folder?: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst where: { tenantId: string; folder?: string } = { tenantId };\n\tif (folder) {\n\t\twhere.folder = folder;\n\t}\n\n\tconst files = await db.media.findMany({\n\t\twhere,\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn files.map((file) => ({\n\t\tid: file.id,\n\t\tfilename: file.filename,\n\t\toriginalName: file.originalName,\n\t\turl: file.url,\n\t\tmimeType: file.mimeType,\n\t\tsize: file.size,\n\t\twidth: file.width,\n\t\theight: file.height,\n\t\taltText: file.altText,\n\t\tfolder: file.folder,\n\t\tcreatedAt: file.createdAt,\n\t\tupdatedAt: file.updatedAt,\n\t}));\n}\n\nexport async function getMediaFile(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found\");\n\t}\n\n\treturn file;\n}\n\nexport interface CreateMediaInput {\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth?: number;\n\theight?: number;\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function createMedia(input: CreateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst media = await db.media.create({\n\t\tdata: {\n\t\t\tfilename: input.filename,\n\t\t\toriginalName: input.originalName,\n\t\t\turl: input.url,\n\t\t\tmimeType: input.mimeType,\n\t\t\tsize: input.size,\n\t\t\twidth: input.width,\n\t\t\theight: input.height,\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn media;\n}\n\nexport interface UpdateMediaInput {\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function updateMedia(id: string, input: UpdateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\tconst updated = await db.media.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteMedia(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function deleteMultipleMedia(ids: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify all files belong to tenant\n\tconst files = await db.media.findMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\tif (files.length !== ids.length) {\n\t\tthrow new Error(\"Some files not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.deleteMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn { success: true, count: files.length };\n}\n\nexport async function getMediaStats() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst [totalFiles, files] = await Promise.all([\n\t\tdb.media.count({ where: { tenantId } }),\n\t\tdb.media.findMany({\n\t\t\twhere: { tenantId },\n\t\t\tselect: {\n\t\t\t\tsize: true,\n\t\t\t\tmimeType: true,\n\t\t\t\tfolder: true,\n\t\t\t},\n\t\t}),\n\t]);\n\n\tconst totalSize = files.reduce((sum, f) => sum + f.size, 0);\n\tconst images = files.filter((f) => f.mimeType.startsWith(\"image/\")).length;\n\tconst documents = files.filter(\n\t\t(f) =>\n\t\t\tf.mimeType.includes(\"pdf\") ||\n\t\t\tf.mimeType.includes(\"document\") ||\n\t\t\tf.mimeType.includes(\"text\"),\n\t).length;\n\tconst videos = files.filter((f) => f.mimeType.startsWith(\"video/\")).length;\n\tconst folders = [...new Set(files.map((f) => f.folder).filter(Boolean))];\n\n\treturn {\n\t\ttotalFiles,\n\t\ttotalSize,\n\t\timages,\n\t\tdocuments,\n\t\tvideos,\n\t\tfolderCount: folders.length,\n\t};\n}\n\nexport async function getFolders() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst files = await db.media.findMany({\n\t\twhere: { tenantId },\n\t\tselect: { folder: true },\n\t\tdistinct: [\"folder\"],\n\t});\n\n\treturn files\n\t\t.map((f) => f.folder)\n\t\t.filter((f): f is string => f !== null && f !== \"\");\n}\n\nexport async function moveToFolder(ids: string[], folder: string | null) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.media.updateMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t\tdata: {\n\t\t\tfolder: folder,\n\t\t},\n\t});\n\n\treturn { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAgCsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 1134, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/media.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getMediaFiles(folder?: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst where: { tenantId: string; folder?: string } = { tenantId };\n\tif (folder) {\n\t\twhere.folder = folder;\n\t}\n\n\tconst files = await db.media.findMany({\n\t\twhere,\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn files.map((file) => ({\n\t\tid: file.id,\n\t\tfilename: file.filename,\n\t\toriginalName: file.originalName,\n\t\turl: file.url,\n\t\tmimeType: file.mimeType,\n\t\tsize: file.size,\n\t\twidth: file.width,\n\t\theight: file.height,\n\t\taltText: file.altText,\n\t\tfolder: file.folder,\n\t\tcreatedAt: file.createdAt,\n\t\tupdatedAt: file.updatedAt,\n\t}));\n}\n\nexport async function getMediaFile(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found\");\n\t}\n\n\treturn file;\n}\n\nexport interface CreateMediaInput {\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth?: number;\n\theight?: number;\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function createMedia(input: CreateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst media = await db.media.create({\n\t\tdata: {\n\t\t\tfilename: input.filename,\n\t\t\toriginalName: input.originalName,\n\t\t\turl: input.url,\n\t\t\tmimeType: input.mimeType,\n\t\t\tsize: input.size,\n\t\t\twidth: input.width,\n\t\t\theight: input.height,\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn media;\n}\n\nexport interface UpdateMediaInput {\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function updateMedia(id: string, input: UpdateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\tconst updated = await db.media.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteMedia(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function deleteMultipleMedia(ids: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify all files belong to tenant\n\tconst files = await db.media.findMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\tif (files.length !== ids.length) {\n\t\tthrow new Error(\"Some files not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.deleteMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn { success: true, count: files.length };\n}\n\nexport async function getMediaStats() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst [totalFiles, files] = await Promise.all([\n\t\tdb.media.count({ where: { tenantId } }),\n\t\tdb.media.findMany({\n\t\t\twhere: { tenantId },\n\t\t\tselect: {\n\t\t\t\tsize: true,\n\t\t\t\tmimeType: true,\n\t\t\t\tfolder: true,\n\t\t\t},\n\t\t}),\n\t]);\n\n\tconst totalSize = files.reduce((sum, f) => sum + f.size, 0);\n\tconst images = files.filter((f) => f.mimeType.startsWith(\"image/\")).length;\n\tconst documents = files.filter(\n\t\t(f) =>\n\t\t\tf.mimeType.includes(\"pdf\") ||\n\t\t\tf.mimeType.includes(\"document\") ||\n\t\t\tf.mimeType.includes(\"text\"),\n\t).length;\n\tconst videos = files.filter((f) => f.mimeType.startsWith(\"video/\")).length;\n\tconst folders = [...new Set(files.map((f) => f.folder).filter(Boolean))];\n\n\treturn {\n\t\ttotalFiles,\n\t\ttotalSize,\n\t\timages,\n\t\tdocuments,\n\t\tvideos,\n\t\tfolderCount: folders.length,\n\t};\n}\n\nexport async function getFolders() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst files = await db.media.findMany({\n\t\twhere: { tenantId },\n\t\tselect: { folder: true },\n\t\tdistinct: [\"folder\"],\n\t});\n\n\treturn files\n\t\t.map((f) => f.folder)\n\t\t.filter((f): f is string => f !== null && f !== \"\");\n}\n\nexport async function moveToFolder(ids: string[], folder: string | null) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.media.updateMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t\tdata: {\n\t\t\tfolder: folder,\n\t\t},\n\t});\n\n\treturn { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAsLsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 1151, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/server/api/internal/media.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/server/auth\";\nimport { db } from \"@/server/db\";\nimport { requireAdminTenant } from \"@/server/tenant\";\n\nasync function requireStoreAccess() {\n\tconst session = await auth();\n\tif (!session?.user?.id) {\n\t\tthrow new Error(\"Unauthorized\");\n\t}\n\n\tconst tenant = await requireAdminTenant();\n\n\tconst staffRecord = await db.tenantStaff.findFirst({\n\t\twhere: {\n\t\t\tuserId: session.user.id,\n\t\t\ttenantId: tenant.id,\n\t\t},\n\t});\n\n\tif (!staffRecord) {\n\t\tthrow new Error(\"Forbidden: No access to this store\");\n\t}\n\n\treturn {\n\t\tuserId: session.user.id,\n\t\ttenantId: tenant.id,\n\t\trole: staffRecord.role,\n\t};\n}\n\nexport async function getMediaFiles(folder?: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst where: { tenantId: string; folder?: string } = { tenantId };\n\tif (folder) {\n\t\twhere.folder = folder;\n\t}\n\n\tconst files = await db.media.findMany({\n\t\twhere,\n\t\torderBy: { createdAt: \"desc\" },\n\t});\n\n\treturn files.map((file) => ({\n\t\tid: file.id,\n\t\tfilename: file.filename,\n\t\toriginalName: file.originalName,\n\t\turl: file.url,\n\t\tmimeType: file.mimeType,\n\t\tsize: file.size,\n\t\twidth: file.width,\n\t\theight: file.height,\n\t\taltText: file.altText,\n\t\tfolder: file.folder,\n\t\tcreatedAt: file.createdAt,\n\t\tupdatedAt: file.updatedAt,\n\t}));\n}\n\nexport async function getMediaFile(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found\");\n\t}\n\n\treturn file;\n}\n\nexport interface CreateMediaInput {\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth?: number;\n\theight?: number;\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function createMedia(input: CreateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst media = await db.media.create({\n\t\tdata: {\n\t\t\tfilename: input.filename,\n\t\t\toriginalName: input.originalName,\n\t\t\turl: input.url,\n\t\t\tmimeType: input.mimeType,\n\t\t\tsize: input.size,\n\t\t\twidth: input.width,\n\t\t\theight: input.height,\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn media;\n}\n\nexport interface UpdateMediaInput {\n\taltText?: string;\n\tfolder?: string;\n}\n\nexport async function updateMedia(id: string, input: UpdateMediaInput) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\tconst updated = await db.media.update({\n\t\twhere: { id },\n\t\tdata: {\n\t\t\taltText: input.altText,\n\t\t\tfolder: input.folder,\n\t\t},\n\t});\n\n\treturn updated;\n}\n\nexport async function deleteMedia(id: string) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst file = await db.media.findFirst({\n\t\twhere: { id, tenantId },\n\t});\n\n\tif (!file) {\n\t\tthrow new Error(\"File not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.delete({\n\t\twhere: { id },\n\t});\n\n\treturn { success: true };\n}\n\nexport async function deleteMultipleMedia(ids: string[]) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\t// Verify all files belong to tenant\n\tconst files = await db.media.findMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\tif (files.length !== ids.length) {\n\t\tthrow new Error(\"Some files not found or access denied\");\n\t}\n\n\t// TODO: Delete from storage provider (S3, etc.)\n\n\tawait db.media.deleteMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t});\n\n\treturn { success: true, count: files.length };\n}\n\nexport async function getMediaStats() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst [totalFiles, files] = await Promise.all([\n\t\tdb.media.count({ where: { tenantId } }),\n\t\tdb.media.findMany({\n\t\t\twhere: { tenantId },\n\t\t\tselect: {\n\t\t\t\tsize: true,\n\t\t\t\tmimeType: true,\n\t\t\t\tfolder: true,\n\t\t\t},\n\t\t}),\n\t]);\n\n\tconst totalSize = files.reduce((sum, f) => sum + f.size, 0);\n\tconst images = files.filter((f) => f.mimeType.startsWith(\"image/\")).length;\n\tconst documents = files.filter(\n\t\t(f) =>\n\t\t\tf.mimeType.includes(\"pdf\") ||\n\t\t\tf.mimeType.includes(\"document\") ||\n\t\t\tf.mimeType.includes(\"text\"),\n\t).length;\n\tconst videos = files.filter((f) => f.mimeType.startsWith(\"video/\")).length;\n\tconst folders = [...new Set(files.map((f) => f.folder).filter(Boolean))];\n\n\treturn {\n\t\ttotalFiles,\n\t\ttotalSize,\n\t\timages,\n\t\tdocuments,\n\t\tvideos,\n\t\tfolderCount: folders.length,\n\t};\n}\n\nexport async function getFolders() {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tconst files = await db.media.findMany({\n\t\twhere: { tenantId },\n\t\tselect: { folder: true },\n\t\tdistinct: [\"folder\"],\n\t});\n\n\treturn files\n\t\t.map((f) => f.folder)\n\t\t.filter((f): f is string => f !== null && f !== \"\");\n}\n\nexport async function moveToFolder(ids: string[], folder: string | null) {\n\tconst { tenantId } = await requireStoreAccess();\n\n\tawait db.media.updateMany({\n\t\twhere: {\n\t\t\tid: { in: ids },\n\t\t\ttenantId,\n\t\t},\n\t\tdata: {\n\t\t\tfolder: folder,\n\t\t},\n\t});\n\n\treturn { success: true };\n}\n"],"names":[],"mappings":";;;;;;;MAiHsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,+CAAA"}},
    {"offset": {"line": 1168, "column": 0}, "map": {"version":3,"sources":["file:///Users/bobkata/Projects/boostcart/apps/platform/src/app/%28internal%29/admin/content/files/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n\tAlertCircle,\n\tCheck,\n\tDownload,\n\tFile,\n\tFileImage,\n\tFileText,\n\tFileVideo,\n\tFolderOpen,\n\tGrid3X3,\n\tImage,\n\tList,\n\tLoader2,\n\tSearch,\n\tTrash2,\n\tUpload,\n\tX,\n} from \"lucide-react\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { PolarisButton } from \"@/components/admin/polaris-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n\tEmpty,\n\tEmptyContent,\n\tEmptyDescription,\n\tEmptyHeader,\n\tEmptyMedia,\n\tEmptyTitle,\n} from \"@/components/ui/empty\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Progress } from \"@/components/ui/progress\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport {\n\tdeleteMedia,\n\tdeleteMultipleMedia,\n\tgetFolders,\n\tgetMediaFiles,\n\tgetMediaStats,\n\tupdateMedia,\n} from \"@/server/api/internal/media\";\n\nfunction formatFileSize(bytes: number): string {\n\tif (bytes === 0) return \"0 Bytes\";\n\tconst k = 1024;\n\tconst sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\treturn `${Number.parseFloat((bytes / k ** i).toFixed(2))} ${sizes[i]}`;\n}\n\ninterface MediaFile {\n\tid: string;\n\tfilename: string;\n\toriginalName: string;\n\turl: string;\n\tmimeType: string;\n\tsize: number;\n\twidth: number | null;\n\theight: number | null;\n\taltText: string | null;\n\tfolder: string | null;\n\tcreatedAt: Date;\n\tupdatedAt: Date;\n}\n\ninterface MediaStats {\n\ttotalFiles: number;\n\ttotalSize: number;\n\timages: number;\n\tdocuments: number;\n\tvideos: number;\n\tfolderCount: number;\n}\n\ninterface PendingUpload {\n\tid: string;\n\tfile: File;\n\tstatus: \"pending\" | \"uploading\" | \"success\" | \"error\";\n\tprogress: number;\n\terror?: string;\n}\n\nconst ALLOWED_TYPES = [\n\t\"image/jpeg\",\n\t\"image/png\",\n\t\"image/gif\",\n\t\"image/webp\",\n\t\"image/svg+xml\",\n\t\"video/mp4\",\n\t\"video/webm\",\n\t\"application/pdf\",\n\t\"application/msword\",\n\t\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n\t\"text/plain\",\n\t\"text/csv\",\n];\n\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\nexport default function FilesPage() {\n\tconst [files, setFiles] = useState<MediaFile[]>([]);\n\tconst [stats, setStats] = useState<MediaStats | null>(null);\n\tconst [folders, setFolders] = useState<string[]>([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\n\tconst [selectedFolder, setSelectedFolder] = useState<string>(\"all\");\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\tconst [selectedFiles, setSelectedFiles] = useState<Set<string>>(new Set());\n\tconst [uploadDialogOpen, setUploadDialogOpen] = useState(false);\n\tconst [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\tconst [editDialogOpen, setEditDialogOpen] = useState(false);\n\tconst [selectedFile, setSelectedFile] = useState<MediaFile | null>(null);\n\tconst [editAltText, setEditAltText] = useState(\"\");\n\tconst [deleting, setDeleting] = useState(false);\n\n\t// Upload state\n\tconst [pendingUploads, setPendingUploads] = useState<PendingUpload[]>([]);\n\tconst [isDragging, setIsDragging] = useState(false);\n\tconst [uploadFolder, setUploadFolder] = useState<string>(\"__root__\");\n\tconst [isUploading, setIsUploading] = useState(false);\n\tconst fileInputRef = useRef<HTMLInputElement>(null);\n\n\tconst loadData = useCallback(async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst folder = selectedFolder === \"all\" ? undefined : selectedFolder;\n\t\t\tconst [filesData, statsData, foldersData] = await Promise.all([\n\t\t\t\tgetMediaFiles(folder),\n\t\t\t\tgetMediaStats(),\n\t\t\t\tgetFolders(),\n\t\t\t]);\n\t\t\tsetFiles(filesData);\n\t\t\tsetStats(statsData);\n\t\t\tsetFolders(foldersData);\n\t\t} catch {\n\t\t\ttoast.error(\"Failed to load files\");\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t}, [selectedFolder]);\n\n\tuseEffect(() => {\n\t\tloadData();\n\t}, [loadData]);\n\n\tconst filteredFiles = files.filter((file) =>\n\t\tfile.originalName.toLowerCase().includes(searchQuery.toLowerCase()),\n\t);\n\n\tconst getFileIcon = (mimeType: string) => {\n\t\tif (mimeType.startsWith(\"image/\")) return FileImage;\n\t\tif (mimeType.startsWith(\"video/\")) return FileVideo;\n\t\tif (mimeType.includes(\"pdf\") || mimeType.includes(\"document\"))\n\t\t\treturn FileText;\n\t\treturn File;\n\t};\n\n\t// File validation\n\tconst validateFile = useCallback((file: File): string | null => {\n\t\tif (!ALLOWED_TYPES.includes(file.type)) {\n\t\t\treturn `File type \"${file.type}\" is not supported`;\n\t\t}\n\t\tif (file.size > MAX_FILE_SIZE) {\n\t\t\treturn `File size exceeds 10MB limit`;\n\t\t}\n\t\treturn null;\n\t}, []);\n\n\t// Add files to pending uploads\n\tconst addFilesToUpload = useCallback(\n\t\t(fileList: FileList | File[]) => {\n\t\t\tconst newUploads: PendingUpload[] = [];\n\t\t\tconst filesArray = Array.from(fileList);\n\n\t\t\tfor (const file of filesArray) {\n\t\t\t\tconst error = validateFile(file);\n\t\t\t\tnewUploads.push({\n\t\t\t\t\tid: `${file.name}-${Date.now()}-${Math.random()}`,\n\t\t\t\t\tfile,\n\t\t\t\t\tstatus: error ? \"error\" : \"pending\",\n\t\t\t\t\tprogress: 0,\n\t\t\t\t\terror: error ?? undefined,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetPendingUploads((prev) => [...prev, ...newUploads]);\n\t\t},\n\t\t[validateFile],\n\t);\n\n\t// Handle file input change\n\tconst handleFileInputChange = useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tif (e.target.files && e.target.files.length > 0) {\n\t\t\t\taddFilesToUpload(e.target.files);\n\t\t\t}\n\t\t\t// Reset input so same file can be selected again\n\t\t\te.target.value = \"\";\n\t\t},\n\t\t[addFilesToUpload],\n\t);\n\n\t// Handle drag events\n\tconst handleDragEnter = useCallback((e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetIsDragging(true);\n\t}, []);\n\n\tconst handleDragLeave = useCallback((e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetIsDragging(false);\n\t}, []);\n\n\tconst handleDragOver = useCallback((e: React.DragEvent) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}, []);\n\n\tconst handleDrop = useCallback(\n\t\t(e: React.DragEvent) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tsetIsDragging(false);\n\n\t\t\tif (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n\t\t\t\taddFilesToUpload(e.dataTransfer.files);\n\t\t\t}\n\t\t},\n\t\t[addFilesToUpload],\n\t);\n\n\t// Remove file from pending uploads\n\tconst removeFromUpload = useCallback((id: string) => {\n\t\tsetPendingUploads((prev) => prev.filter((u) => u.id !== id));\n\t}, []);\n\n\t// Upload all pending files\n\tconst handleUploadFiles = async () => {\n\t\tconst filesToUpload = pendingUploads.filter((u) => u.status === \"pending\");\n\t\tif (filesToUpload.length === 0) return;\n\n\t\tsetIsUploading(true);\n\n\t\tfor (const upload of filesToUpload) {\n\t\t\t// Update status to uploading\n\t\t\tsetPendingUploads((prev) =>\n\t\t\t\tprev.map((u) =>\n\t\t\t\t\tu.id === upload.id ? { ...u, status: \"uploading\" as const } : u,\n\t\t\t\t),\n\t\t\t);\n\n\t\t\ttry {\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.append(\"file\", upload.file);\n\t\t\t\t// Only append folder if not root (__root__ is special value for no folder)\n\t\t\t\tif (uploadFolder && uploadFolder !== \"__root__\") {\n\t\t\t\t\tformData.append(\"folder\", uploadFolder);\n\t\t\t\t}\n\n\t\t\t\tconst response = await fetch(\"/api/upload\", {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: formData,\n\t\t\t\t});\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tconst errorData = await response.json();\n\t\t\t\t\tthrow new Error(errorData.error ?? \"Upload failed\");\n\t\t\t\t}\n\n\t\t\t\t// Update status to success\n\t\t\t\tsetPendingUploads((prev) =>\n\t\t\t\t\tprev.map((u) =>\n\t\t\t\t\t\tu.id === upload.id\n\t\t\t\t\t\t\t? { ...u, status: \"success\" as const, progress: 100 }\n\t\t\t\t\t\t\t: u,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\t// Update status to error\n\t\t\t\tsetPendingUploads((prev) =>\n\t\t\t\t\tprev.map((u) =>\n\t\t\t\t\t\tu.id === upload.id\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t...u,\n\t\t\t\t\t\t\t\t\tstatus: \"error\" as const,\n\t\t\t\t\t\t\t\t\terror:\n\t\t\t\t\t\t\t\t\t\terror instanceof Error ? error.message : \"Upload failed\",\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: u,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tsetIsUploading(false);\n\n\t\t// Check if all uploads succeeded\n\t\tconst updatedUploads = pendingUploads.filter(\n\t\t\t(u) => u.status === \"success\" || filesToUpload.some((f) => f.id === u.id),\n\t\t);\n\t\tconst allSucceeded = filesToUpload.every((u) =>\n\t\t\tupdatedUploads.find((up) => up.id === u.id && up.status === \"success\"),\n\t\t);\n\n\t\t// Refresh the file list\n\t\tloadData();\n\n\t\t// If all succeeded, close dialog after a brief delay\n\t\tif (allSucceeded && filesToUpload.length > 0) {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttoast.success(`${filesToUpload.length} file(s) uploaded`);\n\t\t\t\tsetUploadDialogOpen(false);\n\t\t\t\tsetPendingUploads([]);\n\t\t\t\tsetUploadFolder(\"__root__\");\n\t\t\t}, 500);\n\t\t}\n\t};\n\n\t// Reset upload dialog state when closing\n\tconst handleUploadDialogClose = (open: boolean) => {\n\t\tif (!open && !isUploading) {\n\t\t\tsetPendingUploads([]);\n\t\t\tsetUploadFolder(\"__root__\");\n\t\t\tsetIsDragging(false);\n\t\t}\n\t\tsetUploadDialogOpen(open);\n\t};\n\n\tconst handleSelectAll = () => {\n\t\tif (selectedFiles.size === filteredFiles.length) {\n\t\t\tsetSelectedFiles(new Set());\n\t\t} else {\n\t\t\tsetSelectedFiles(new Set(filteredFiles.map((f) => f.id)));\n\t\t}\n\t};\n\n\tconst handleSelectFile = (id: string) => {\n\t\tconst newSelected = new Set(selectedFiles);\n\t\tif (newSelected.has(id)) {\n\t\t\tnewSelected.delete(id);\n\t\t} else {\n\t\t\tnewSelected.add(id);\n\t\t}\n\t\tsetSelectedFiles(newSelected);\n\t};\n\n\tconst handleEditClick = (file: MediaFile) => {\n\t\tsetSelectedFile(file);\n\t\tsetEditAltText(file.altText ?? \"\");\n\t\tsetEditDialogOpen(true);\n\t};\n\n\tconst handleSaveEdit = async () => {\n\t\tif (!selectedFile) return;\n\n\t\ttry {\n\t\t\tawait updateMedia(selectedFile.id, { altText: editAltText });\n\t\t\ttoast.success(\"File updated\");\n\t\t\tsetEditDialogOpen(false);\n\t\t\tloadData();\n\t\t} catch {\n\t\t\ttoast.error(\"Failed to update file\");\n\t\t}\n\t};\n\n\tconst handleDeleteSelected = async () => {\n\t\ttry {\n\t\t\tsetDeleting(true);\n\t\t\tconst selectedArray = [...selectedFiles];\n\t\t\tconst firstFile = selectedArray[0];\n\t\t\tif (selectedFiles.size === 1 && firstFile) {\n\t\t\t\tawait deleteMedia(firstFile);\n\t\t\t} else {\n\t\t\t\tawait deleteMultipleMedia(selectedArray);\n\t\t\t}\n\t\t\ttoast.success(`${selectedFiles.size} file(s) deleted`);\n\t\t\tsetSelectedFiles(new Set());\n\t\t\tsetDeleteDialogOpen(false);\n\t\t\tloadData();\n\t\t} catch {\n\t\t\ttoast.error(\"Failed to delete files\");\n\t\t} finally {\n\t\t\tsetDeleting(false);\n\t\t}\n\t};\n\n\tconst formatDate = (date: Date) => {\n\t\treturn new Date(date).toLocaleDateString(\"bg-BG\", {\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t});\n\t};\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<div className=\"flex items-center justify-center h-64\">\n\t\t\t\t<div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1 className=\"text-3xl font-bold tracking-tight\">Files</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\t\tManage your media files and assets\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<PolarisButton onClick={() => setUploadDialogOpen(true)}>\n\t\t\t\t\t<Upload className=\"h-4 w-4\" />\n\t\t\t\t\tUpload Files\n\t\t\t\t</PolarisButton>\n\t\t\t</div>\n\n\t\t\t<div className=\"grid gap-4 md:grid-cols-4\">\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<File className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Total Files</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{stats?.totalFiles ?? 0}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Image className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Images</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{stats?.images ?? 0}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<FileText className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Documents</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">{stats?.documents ?? 0}</p>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"p-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<FolderOpen className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Storage Used</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-2xl font-bold mt-1\">\n\t\t\t\t\t\t{formatFileSize(stats?.totalSize ?? 0)}\n\t\t\t\t\t</p>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<div className=\"flex flex-col sm:flex-row gap-4\">\n\t\t\t\t<div className=\"relative flex-1\">\n\t\t\t\t\t<Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder=\"Search files...\"\n\t\t\t\t\t\tclassName=\"pl-10\"\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tonChange={(e) => setSearchQuery(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Select value={selectedFolder} onValueChange={setSelectedFolder}>\n\t\t\t\t\t<SelectTrigger className=\"w-[180px]\">\n\t\t\t\t\t\t<SelectValue placeholder=\"All folders\" />\n\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t<SelectItem value=\"all\">All folders</SelectItem>\n\t\t\t\t\t\t{folders.map((folder) => (\n\t\t\t\t\t\t\t<SelectItem key={folder} value={folder}>\n\t\t\t\t\t\t\t\t{folder}\n\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</SelectContent>\n\t\t\t\t</Select>\n\t\t\t\t<div className=\"flex border rounded-md\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={viewMode === \"grid\" ? \"secondary\" : \"ghost\"}\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tonClick={() => setViewMode(\"grid\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid3X3 className=\"h-4 w-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={viewMode === \"list\" ? \"secondary\" : \"ghost\"}\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tonClick={() => setViewMode(\"list\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<List className=\"h-4 w-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{selectedFiles.size > 0 && (\n\t\t\t\t<div className=\"flex items-center gap-4 p-3 bg-muted rounded-lg\">\n\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t{selectedFiles.size} file(s) selected\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={() => setSelectedFiles(new Set())}\n\t\t\t\t\t>\n\t\t\t\t\t\tClear\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={() => setDeleteDialogOpen(true)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Trash2 className=\"h-4 w-4 mr-1\" />\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Card>\n\t\t\t\t{filteredFiles.length === 0 ? (\n\t\t\t\t\t<Empty>\n\t\t\t\t\t\t<EmptyHeader>\n\t\t\t\t\t\t\t<EmptyMedia variant=\"icon\">\n\t\t\t\t\t\t\t\t<FolderOpen className=\"h-8 w-8\" />\n\t\t\t\t\t\t\t</EmptyMedia>\n\t\t\t\t\t\t\t<EmptyTitle>No files yet</EmptyTitle>\n\t\t\t\t\t\t\t<EmptyDescription>\n\t\t\t\t\t\t\t\tUpload images, documents, and other files for your store\n\t\t\t\t\t\t\t</EmptyDescription>\n\t\t\t\t\t\t</EmptyHeader>\n\t\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t\t<PolarisButton onClick={() => setUploadDialogOpen(true)}>\n\t\t\t\t\t\t\t\t<Upload className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\tUpload Files\n\t\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t\t</EmptyContent>\n\t\t\t\t\t</Empty>\n\t\t\t\t) : viewMode === \"grid\" ? (\n\t\t\t\t\t<div className=\"p-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n\t\t\t\t\t\t{filteredFiles.map((file) => {\n\t\t\t\t\t\t\tconst FileIcon = getFileIcon(file.mimeType);\n\t\t\t\t\t\t\tconst isSelected = selectedFiles.has(file.id);\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t// biome-ignore lint/a11y/useKeyWithClickEvents: Selection handled via checkbox\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t\t\t\tclassName={`group relative border rounded-lg overflow-hidden cursor-pointer transition-all ${\n\t\t\t\t\t\t\t\t\t\tisSelected ? \"ring-2 ring-primary\" : \"hover:border-primary\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tonClick={() => handleSelectFile(file.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"absolute top-2 left-2 z-10\">\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={isSelected}\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectFile(file.id);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"aspect-square bg-muted flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t{file.mimeType.startsWith(\"image/\") ? (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full bg-cover bg-center\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: `url(${file.url})` }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<FileIcon className=\"h-12 w-12 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm font-medium truncate\"\n\t\t\t\t\t\t\t\t\t\t\ttitle={file.originalName}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{file.originalName}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t{formatFileSize(file.size)}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\thandleEditClick(file);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\twindow.open(file.url, \"_blank\");\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Download className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableHead className=\"w-[40px]\">\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={selectedFiles.size === filteredFiles.length}\n\t\t\t\t\t\t\t\t\t\tonCheckedChange={handleSelectAll}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Name</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Type</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Size</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Folder</TableHead>\n\t\t\t\t\t\t\t\t<TableHead>Uploaded</TableHead>\n\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">Actions</TableHead>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{filteredFiles.map((file) => {\n\t\t\t\t\t\t\t\tconst FileIcon = getFileIcon(file.mimeType);\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow key={file.id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={selectedFiles.has(file.id)}\n\t\t\t\t\t\t\t\t\t\t\t\tonCheckedChange={() => handleSelectFile(file.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-10 w-10 bg-muted rounded flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{file.mimeType.startsWith(\"image/\") ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full rounded bg-cover bg-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: `url(${file.url})` }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileIcon className=\"h-5 w-5 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium truncate max-w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{file.originalName}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t\t{file.mimeType.split(\"/\")[1]?.toUpperCase() ?? \"FILE\"}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{formatFileSize(file.size)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{file.folder ?? \"\"}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDate(file.createdAt)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-end gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditClick(file)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.open(file.url, \"_blank\")}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Download className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t)}\n\t\t\t</Card>\n\n\t\t\t{/* Upload Dialog */}\n\t\t\t<Dialog open={uploadDialogOpen} onOpenChange={handleUploadDialogClose}>\n\t\t\t\t<DialogContent className=\"sm:max-w-lg\">\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Upload Files</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tSelect files to upload to your media library\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t{/* Hidden file input */}\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={fileInputRef}\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\taccept={ALLOWED_TYPES.join(\",\")}\n\t\t\t\t\t\tonChange={handleFileInputChange}\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Dropzone */}\n\t\t\t\t\t{/* biome-ignore lint/a11y/useSemanticElements: Using div with role=button for dropzone drag-drop functionality */}\n\t\t\t\t\t<div\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\tclassName={`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${\n\t\t\t\t\t\t\tisDragging\n\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t: \"border-muted-foreground/25 hover:border-primary/50\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tonDragEnter={handleDragEnter}\n\t\t\t\t\t\tonDragOver={handleDragOver}\n\t\t\t\t\t\tonDragLeave={handleDragLeave}\n\t\t\t\t\t\tonDrop={handleDrop}\n\t\t\t\t\t\tonClick={() => fileInputRef.current?.click()}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tfileInputRef.current?.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Upload\n\t\t\t\t\t\t\tclassName={`h-8 w-8 mx-auto mb-4 ${\n\t\t\t\t\t\t\t\tisDragging ? \"text-primary\" : \"text-muted-foreground\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground mb-2\">\n\t\t\t\t\t\t\t{isDragging\n\t\t\t\t\t\t\t\t? \"Drop files here...\"\n\t\t\t\t\t\t\t\t: \"Drag and drop files here, or click to select\"}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tfileInputRef.current?.click();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSelect Files\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-2\">\n\t\t\t\t\t\t\tSupported: Images, Videos, PDFs, Documents up to 10MB\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Folder selection */}\n\t\t\t\t\t{pendingUploads.length > 0 && (\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"upload-folder\">Upload to folder (optional)</Label>\n\t\t\t\t\t\t\t<Select value={uploadFolder} onValueChange={setUploadFolder}>\n\t\t\t\t\t\t\t\t<SelectTrigger id=\"upload-folder\">\n\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Root folder\" />\n\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"__root__\">Root folder</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"products\">Products</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"blog\">Blog</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"pages\">Pages</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"marketing\">Marketing</SelectItem>\n\t\t\t\t\t\t\t\t\t<SelectItem value=\"other\">Other</SelectItem>\n\t\t\t\t\t\t\t\t\t{folders\n\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t(f) =>\n\t\t\t\t\t\t\t\t\t\t\t\t![\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"products\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"blog\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"pages\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"marketing\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"other\",\n\t\t\t\t\t\t\t\t\t\t\t\t].includes(f),\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t.map((folder) => (\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem key={folder} value={folder}>\n\t\t\t\t\t\t\t\t\t\t\t\t{folder}\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Pending uploads list */}\n\t\t\t\t\t{pendingUploads.length > 0 && (\n\t\t\t\t\t\t<div className=\"space-y-2 max-h-48 overflow-y-auto\">\n\t\t\t\t\t\t\t{pendingUploads.map((upload) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={upload.id}\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-3 p-2 rounded-md bg-muted/50\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"shrink-0\">\n\t\t\t\t\t\t\t\t\t\t{upload.status === \"pending\" && (\n\t\t\t\t\t\t\t\t\t\t\t<File className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{upload.status === \"uploading\" && (\n\t\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"h-4 w-4 animate-spin text-primary\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{upload.status === \"success\" && (\n\t\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4 text-green-500\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{upload.status === \"error\" && (\n\t\t\t\t\t\t\t\t\t\t\t<AlertCircle className=\"h-4 w-4 text-destructive\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium truncate\">\n\t\t\t\t\t\t\t\t\t\t\t{upload.file.name}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{upload.status === \"error\" && upload.error && (\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-destructive\">{upload.error}</p>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{upload.status === \"uploading\" && (\n\t\t\t\t\t\t\t\t\t\t\t<Progress value={50} className=\"h-1 mt-1\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"shrink-0 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t{formatFileSize(upload.file.size)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{upload.status !== \"uploading\" && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-6 w-6\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeFromUpload(upload.id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<X className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => handleUploadDialogClose(false)}\n\t\t\t\t\t\t\tdisabled={isUploading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton\n\t\t\t\t\t\t\tonClick={handleUploadFiles}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tisUploading ||\n\t\t\t\t\t\t\t\tpendingUploads.filter((u) => u.status === \"pending\").length ===\n\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isUploading ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Loader2 className=\"h-4 w-4 animate-spin\" />\n\t\t\t\t\t\t\t\t\tUploading...\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Upload className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\tUpload{\" \"}\n\t\t\t\t\t\t\t\t\t{pendingUploads.filter((u) => u.status === \"pending\").length >\n\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t? `(${pendingUploads.filter((u) => u.status === \"pending\").length})`\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t{/* Edit Dialog */}\n\t\t\t<Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Edit File</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>Update file details</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t{selectedFile && (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t{selectedFile.mimeType.startsWith(\"image/\") ? (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-20 w-20 rounded bg-cover bg-center\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: `url(${selectedFile.url})` }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"h-20 w-20 rounded bg-muted flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t<File className=\"h-8 w-8 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">{selectedFile.originalName}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t{formatFileSize(selectedFile.size)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"altText\">Alt Text</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid=\"altText\"\n\t\t\t\t\t\t\t\t\tvalue={editAltText}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setEditAltText(e.target.value)}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Describe this file for accessibility\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button variant=\"outline\" onClick={() => setEditDialogOpen(false)}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<PolarisButton onClick={handleSaveEdit}>Save Changes</PolarisButton>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t{/* Delete Dialog */}\n\t\t\t<Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Delete Files</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tAre you sure you want to delete {selectedFiles.size} file(s)? This\n\t\t\t\t\t\t\taction cannot be undone.\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => setDeleteDialogOpen(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\tonClick={handleDeleteSelected}\n\t\t\t\t\t\t\tdisabled={deleting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{deleting ? \"Deleting...\" : \"Delete Files\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}